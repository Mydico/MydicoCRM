{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/History/warehouse-history.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/History/warehouse-history.js","mtime":1622371679142},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF90b0FycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENDYXJkQm9keSwgQ0JhZGdlLCBDRGF0YVRhYmxlLCBDQ2FyZCwgQ0NhcmRIZWFkZXIsIENQYWdpbmF0aW9uIH0gZnJvbSAnQGNvcmV1aS9yZWFjdC9saWInOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgQ0ljb24gZnJvbSAnQGNvcmV1aS9pY29ucy1yZWFjdC9saWIvQ0ljb24nOwo7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgZ2V0U3RvcmVIaXN0b3J5IH0gZnJvbSAnLi93YXJlaG91c2UtaGlzdG9yeS5hcGkuanMnOwppbXBvcnQgeyBnbG9iYWxpemVkU3RvcmVIaXN0b3J5U2VsZWN0b3JzLCByZXNldCB9IGZyb20gJy4vd2FyZWhvdXNlLWhpc3RvcnkucmVkdWNlci5qcyc7CmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwp2YXIgbWFwcGluZ1N0YXR1cyA9IHsKICBFWFBPUlQ6ICdYVeG6pFQgS0hPJywKICBJTVBPUlQ6ICdOSOG6rFAgS0hPJwp9OwoKdmFyIGdldEJhZGdlID0gZnVuY3Rpb24gZ2V0QmFkZ2Uoc3RhdHVzKSB7CiAgc3dpdGNoIChzdGF0dXMpIHsKICAgIGNhc2UgJ0VYUE9SVCc6CiAgICAgIHJldHVybiAncHJpbWFyeSc7CgogICAgY2FzZSAnSU1QT1JUJzoKICAgICAgcmV0dXJuICdpbmZvJzsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gJ3ByaW1hcnknOwogIH0KfTsKCnZhciBzdG9yZUhpc3RvcnlzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsKTsKCnZhciBTdG9yZUhpc3RvcnkgPSBmdW5jdGlvbiBTdG9yZUhpc3RvcnkoKSB7CiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMiA9IF90b0FycmF5KF91c2VTdGF0ZSk7CgogIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5zdG9yZUhpc3Rvcnk7CiAgfSksCiAgICAgIGluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3Rvci5pbml0aWFsU3RhdGU7CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoMSksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgYWN0aXZlUGFnZSA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldEFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKDIwKSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBzaXplID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0U2l6ZSA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7CiAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogIH0sIFtdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2goZ2V0U3RvcmVIaXN0b3J5KHsKICAgICAgcGFnZTogYWN0aXZlUGFnZSAtIDEsCiAgICAgIHNpemU6IHNpemUsCiAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgfSkpOwogIH0sIFthY3RpdmVQYWdlLCBzaXplXSk7CiAgdmFyIHNlbGVjdEFsbCA9IGdsb2JhbGl6ZWRTdG9yZUhpc3RvcnlTZWxlY3RvcnMuc2VsZWN0QWxsOwoKICB2YXIgY29tcHV0ZWRJdGVtcyA9IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoaXRlbXMpIHsKICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdmFyIF9pdGVtJHN0b3JlLCBfaXRlbSRwcm9kdWN0OwoKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgc3RvcmU6IChfaXRlbSRzdG9yZSA9IGl0ZW0uc3RvcmUpID09PSBudWxsIHx8IF9pdGVtJHN0b3JlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRzdG9yZS5uYW1lLAogICAgICAgIHByb2R1Y3Q6IChfaXRlbSRwcm9kdWN0ID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0Lm5hbWUsCiAgICAgICAgY3JlYXRlZERhdGU6IG1vbWVudChpdGVtLmNyZWF0ZWREYXRlKS5mb3JtYXQoIkRELU1NLVlZWVkiKQogICAgICB9KTsKICAgIH0pOwogIH07IC8vIENvZGUJVMOqbiBraG8JTmfGsOG7nWkgbGnDqm4gbOG6oWMJTsSDbSBTaW5oCcSQaeG7h24gdGhv4bqhaQlOaMOibiB2acOqbiBxdeG6o24gbMO9CUxv4bqhaSBraG8JUGjDom4gbG/huqFpCVPhu61hCVThuqFvIMSRxqFuCgoKICB2YXIgZmllbGRzID0gW3sKICAgIGtleTogJ29yZGVyJywKICAgIGxhYmVsOiAnU1RUJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzElJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9LCB7CiAgICBrZXk6ICdzdG9yZScsCiAgICBsYWJlbDogJ1TDqm4ga2hvJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdwcm9kdWN0JywKICAgIGxhYmVsOiAnVMOqbiBz4bqjbiBwaOG6qW0nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3R5cGUnLAogICAgbGFiZWw6ICdIw6xuaCB0aOG7qWMnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfQogIH0sIHsKICAgIGtleTogJ2NyZWF0ZWREYXRlJywKICAgIGxhYmVsOiAnTmfDoHkgdOG6oW8nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3F1YW50aXR5JywKICAgIGxhYmVsOiAnU+G7kSBsxrDhu6NuZycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfV07CiAgdmFyIGRlYm91bmNlZFNlYXJjaENvbHVtbiA9IHVzZUNhbGxiYWNrKF8uZGVib3VuY2UoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDApIHsKICAgICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoIXZhbHVlW2tleV0pIGRlbGV0ZSB2YWx1ZVtrZXldOwogICAgICB9KSkgZGlzcGF0Y2goZ2V0U3RvcmVIaXN0b3J5KF9vYmplY3RTcHJlYWQoewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgICAgfSwgdmFsdWUpKSk7CiAgICB9CiAgfSwgMTAwMCksIFtdKTsKCiAgdmFyIG9uRmlsdGVyQ29sdW1uID0gZnVuY3Rpb24gb25GaWx0ZXJDb2x1bW4odmFsdWUpIHsKICAgIGRlYm91bmNlZFNlYXJjaENvbHVtbih2YWx1ZSk7CiAgfTsKCiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtZ3JpZCIKICB9KSwgIiBEYW5oIHNceEUxY2ggbFx1MUVDQmNoIHNcdTFFRUQgeHVcdTFFQTV0IG5oXHUxRUFEcCBraG8iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICBpdGVtczogY29tcHV0ZWRJdGVtcyhzdG9yZUhpc3RvcnlzKSwKICAgIGZpZWxkczogZmllbGRzLAogICAgY29sdW1uRmlsdGVyOiB0cnVlLAogICAgdGFibGVGaWx0ZXI6IHRydWUsCiAgICBjbGVhbmVyOiB0cnVlLAogICAgaXRlbXNQZXJQYWdlU2VsZWN0OiB7CiAgICAgIGxhYmVsOiAnU+G7kSBsxrDhu6NuZyB0csOqbiBt4buZdCB0cmFuZycsCiAgICAgIHZhbHVlczogWzUwLCAxMDAsIDE1MCwgMjAwXQogICAgfSwKICAgIGl0ZW1zUGVyUGFnZTogc2l6ZSwKICAgIGhvdmVyOiB0cnVlLAogICAgc29ydGVyOiB0cnVlLAogICAgbG9hZGluZzogaW5pdGlhbFN0YXRlLmxvYWRpbmcgLy8gb25Sb3dDbGljaz17KGl0ZW0saW5kZXgsY29sLGUpID0+IGNvbnNvbGUubG9nKGl0ZW0saW5kZXgsY29sLGUpfQogICAgLAogICAgb25QYWdlQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHBhZ2U6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2VzQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VzQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlczonLCB2YWwpOwogICAgfSwKICAgIG9uUGFnaW5hdGlvbkNoYW5nZTogZnVuY3Rpb24gb25QYWdpbmF0aW9uQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gc2V0U2l6ZSh2YWwpOwogICAgfSAvLyBvbkZpbHRlcmVkSXRlbXNDaGFuZ2U9eyh2YWwpID0+IGNvbnNvbGUubG9nKCduZXcgZmlsdGVyZWQgaXRlbXM6JywgdmFsKX0KICAgIC8vIG9uU29ydGVyVmFsdWVDaGFuZ2U9eyh2YWwpID0+IGNvbnNvbGUubG9nKCduZXcgc29ydGVyIHZhbHVlOicsIHZhbCl9CiAgICAsCiAgICBvblRhYmxlRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvblRhYmxlRmlsdGVyQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyB0YWJsZSBmaWx0ZXI6JywgdmFsKTsKICAgIH0sCiAgICBvbkNvbHVtbkZpbHRlckNoYW5nZTogb25GaWx0ZXJDb2x1bW4sCiAgICBzY29wZWRTbG90czogewogICAgICBvcmRlcjogZnVuY3Rpb24gb3JkZXIoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaW5kZXggKyAxKTsKICAgICAgfSwKICAgICAgdHlwZTogZnVuY3Rpb24gdHlwZShpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCYWRnZSwgewogICAgICAgICAgY29sb3I6IGdldEJhZGdlKGl0ZW0udHlwZSkKICAgICAgICB9LCBtYXBwaW5nU3RhdHVzW2l0ZW0udHlwZV0pKTsKICAgICAgfQogICAgfQogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUGFnaW5hdGlvbiwgewogICAgYWN0aXZlUGFnZTogYWN0aXZlUGFnZSwKICAgIHBhZ2VzOiBNYXRoLmZsb29yKGluaXRpYWxTdGF0ZS50b3RhbEl0ZW0gLyBzaXplKSArIDEsCiAgICBvbkFjdGl2ZVBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uQWN0aXZlUGFnZUNoYW5nZShpKSB7CiAgICAgIHJldHVybiBzZXRBY3RpdmVQYWdlKGkpOwogICAgfQogIH0pKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBTdG9yZUhpc3Rvcnk7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/History/warehouse-history.js"],"names":["React","useCallback","useEffect","useState","CCardBody","CBadge","CDataTable","CCard","CCardHeader","CPagination","_","CIcon","useDispatch","useSelector","getStoreHistory","globalizedStoreHistorySelectors","reset","useHistory","moment","mappingStatus","EXPORT","IMPORT","getBadge","status","storeHistorys","selectAll","StoreHistory","state","storeHistory","initialState","activePage","setActivePage","size","setSize","dispatch","history","page","sort","computedItems","items","map","item","store","name","product","createdDate","format","fields","key","label","_style","width","filter","debouncedSearchColumn","debounce","value","Object","keys","length","forEach","onFilterColumn","values","loading","val","console","log","order","index","type","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useState} from 'react';\nimport {CCardBody, CBadge, CDataTable, CCard, CCardHeader, CPagination} from '@coreui/react/lib';\nimport _ from 'lodash'\nimport CIcon from '@coreui/icons-react/lib/CIcon';;\nimport {useDispatch, useSelector} from 'react-redux';\nimport {getStoreHistory} from './warehouse-history.api.js';\nimport {globalizedStoreHistorySelectors, reset} from './warehouse-history.reducer.js';\nimport {useHistory} from 'react-router-dom';\nimport moment from 'moment'\nconst mappingStatus = {\n  EXPORT: 'XUẤT KHO',\n  IMPORT: 'NHẬP KHO',\n};\nconst getBadge = (status) => {\n  switch (status) {\n    case 'EXPORT':\n      return 'primary';\n    case 'IMPORT':\n      return 'info';\n    default:\n      return 'primary';\n  }\n};\nconst storeHistorys = useSelector(selectAll);\n\nconst StoreHistory = () => {\n  const [] = useState([]);\n  const {initialState} = useSelector((state) => state.storeHistory);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(20);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    dispatch(getStoreHistory({page: activePage - 1, size, sort: 'createdDate,DESC'}));\n  }, [activePage, size]);\n\n  const {selectAll} = globalizedStoreHistorySelectors;\n  const computedItems = (items) => {\n    return items.map((item) => {\n      return {\n        ...item,\n        store: item.store?.name,\n        product: item.product?.name,\n        createdDate: moment(item.createdDate).format(\"DD-MM-YYYY\")\n      };\n    });\n  };\n\n  // Code\tTên kho\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại kho\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: {width: '1%'},\n      filter: false,\n    },\n    {key: 'store', label: 'Tên kho', _style: {width: '10%'}},\n    {key: 'product', label: 'Tên sản phẩm', _style: {width: '15%'}},\n    {key: 'type', label: 'Hình thức', _style: {width: '15%'}},\n    {key: 'createdDate', label: 'Ngày tạo', _style: {width: '15%'}},\n    {key: 'quantity', label: 'Số lượng', _style: {width: '15%'}},\n  ];\n\n  const debouncedSearchColumn = useCallback(\n    _.debounce(value => {\n      if (Object.keys(value).length > 0) {\n        if(Object.keys(value).forEach(key => {\n          if(!value[key]) delete value[key]\n        }))\n        dispatch(getStoreHistory({page: 0, size: size, sort: 'createdDate,DESC', ...value}));\n      }\n    }, 1000),\n    []\n  );\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value)\n  };\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách lịch sử xuất nhập kho\n      </CCardHeader>\n      <CCardBody>\n        <CDataTable\n          items={computedItems(storeHistorys)}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{label: 'Số lượng trên một trang', values: [50, 100, 150, 200]}}\n          itemsPerPage={size}\n          hover\n          sorter\n          loading={initialState.loading}\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={(val) => console.log('new page:', val)}\n          onPagesChange={(val) => console.log('new pages:', val)}\n          onPaginationChange={(val) => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={(val) => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            type: (item ) => (\n              <td>\n                <CBadge color={getBadge(item.type)}>{mappingStatus[item.type]}</CBadge>\n              </td>\n            ),\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={(i) => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default StoreHistory;\n"]}]}