{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/History/warehouse-history.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/History/warehouse-history.js","mtime":1623955932162},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF90b0FycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENEYXRhVGFibGUsIENDYXJkLCBDQ2FyZEhlYWRlciwgQ1BhZ2luYXRpb24gfSBmcm9tICdAY29yZXVpL3JlYWN0L2xpYic7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCBDSWNvbiBmcm9tICdAY29yZXVpL2ljb25zLXJlYWN0L2xpYi9DSWNvbic7CjsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXRTdG9yZUhpc3RvcnkgfSBmcm9tICcuL3dhcmVob3VzZS1oaXN0b3J5LmFwaS5qcyc7CmltcG9ydCB7IGdsb2JhbGl6ZWRTdG9yZUhpc3RvcnlTZWxlY3RvcnMsIHJlc2V0IH0gZnJvbSAnLi93YXJlaG91c2UtaGlzdG9yeS5yZWR1Y2VyLmpzJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CnZhciBtYXBwaW5nU3RhdHVzID0gewogIEVYUE9SVDogJ1hV4bqkVCBLSE8nLAogIElNUE9SVDogJ05I4bqsUCBLSE8nCn07Cgp2YXIgZ2V0QmFkZ2UgPSBmdW5jdGlvbiBnZXRCYWRnZShzdGF0dXMpIHsKICBzd2l0Y2ggKHN0YXR1cykgewogICAgY2FzZSAnRVhQT1JUJzoKICAgICAgcmV0dXJuICdwcmltYXJ5JzsKCiAgICBjYXNlICdJTVBPUlQnOgogICAgICByZXR1cm4gJ2luZm8nOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAncHJpbWFyeSc7CiAgfQp9OwoKdmFyIHNlbGVjdEFsbCA9IGdsb2JhbGl6ZWRTdG9yZUhpc3RvcnlTZWxlY3RvcnMuc2VsZWN0QWxsOwoKdmFyIFN0b3JlSGlzdG9yeSA9IGZ1bmN0aW9uIFN0b3JlSGlzdG9yeSgpIHsKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGUyID0gX3RvQXJyYXkoX3VzZVN0YXRlKTsKCiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnN0b3JlSGlzdG9yeTsKICB9KSwKICAgICAgaW5pdGlhbFN0YXRlID0gX3VzZVNlbGVjdG9yLmluaXRpYWxTdGF0ZTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgxKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBhY3RpdmVQYWdlID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0QWN0aXZlUGFnZSA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoNTApLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIHNpemUgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRTaXplID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKICB2YXIgc3RvcmVIaXN0b3J5cyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbCk7CiAgdmFyIHBhcmFtUmVmID0gdXNlUmVmKG51bGwpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChyZXNldCgpKTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRpc3BhdGNoKGdldFN0b3JlSGlzdG9yeShfb2JqZWN0U3ByZWFkKHsKICAgICAgcGFnZTogYWN0aXZlUGFnZSAtIDEsCiAgICAgIHNpemU6IHNpemUsCiAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgfSwgcGFyYW1SZWYuY3VycmVudCkpKTsKICB9LCBbYWN0aXZlUGFnZSwgc2l6ZV0pOwoKICB2YXIgY29tcHV0ZWRJdGVtcyA9IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoaXRlbXMpIHsKICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgY3JlYXRlZERhdGU6IG1vbWVudChpdGVtLmNyZWF0ZWREYXRlKS5mb3JtYXQoIkRELU1NLVlZWVkiKQogICAgICB9KTsKICAgIH0pOwogIH07IC8vIENvZGUJVMOqbiBraG8JTmfGsOG7nWkgbGnDqm4gbOG6oWMJTsSDbSBTaW5oCcSQaeG7h24gdGhv4bqhaQlOaMOibiB2acOqbiBxdeG6o24gbMO9CUxv4bqhaSBraG8JUGjDom4gbG/huqFpCVPhu61hCVThuqFvIMSRxqFuCgoKICB2YXIgZmllbGRzID0gW3sKICAgIGtleTogJ29yZGVyJywKICAgIGxhYmVsOiAnU1RUJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzElJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9LCB7CiAgICBrZXk6ICdzdG9yZU5hbWUnLAogICAgbGFiZWw6ICdUw6puIGtobycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAncHJvZHVjdE5hbWUnLAogICAgbGFiZWw6ICdUw6puIHPhuqNuIHBo4bqpbScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAndHlwZScsCiAgICBsYWJlbDogJ0jDrG5oIHRo4bupYycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9LAogICAgZmlsdGVyOiBmYWxzZQogIH0sIHsKICAgIGtleTogJ2NyZWF0ZWREYXRlJywKICAgIGxhYmVsOiAnTmfDoHkgdOG6oW8nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9LCB7CiAgICBrZXk6ICdxdWFudGl0eScsCiAgICBsYWJlbDogJ1Phu5EgbMaw4bujbmcnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9XTsKICB2YXIgZGVib3VuY2VkU2VhcmNoQ29sdW1uID0gdXNlQ2FsbGJhY2soXy5kZWJvdW5jZShmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMCkgewogICAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKCF2YWx1ZVtrZXldKSBkZWxldGUgdmFsdWVba2V5XTsKICAgICAgfSk7CiAgICAgIHBhcmFtUmVmLmN1cnJlbnQgPSB2YWx1ZTsKICAgICAgZGlzcGF0Y2goZ2V0U3RvcmVIaXN0b3J5KF9vYmplY3RTcHJlYWQoewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgICAgfSwgdmFsdWUpKSk7CiAgICB9CiAgfSwgMzAwKSwgW10pOwoKICB2YXIgb25GaWx0ZXJDb2x1bW4gPSBmdW5jdGlvbiBvbkZpbHRlckNvbHVtbih2YWx1ZSkgewogICAgZGVib3VuY2VkU2VhcmNoQ29sdW1uKHZhbHVlKTsKICB9OwoKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1ncmlkIgogIH0pLCAiIERhbmggc1x4RTFjaCBsXHUxRUNCY2ggc1x1MUVFRCB4dVx1MUVBNXQgbmhcdTFFQURwIGtobyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENEYXRhVGFibGUsIHsKICAgIGl0ZW1zOiBjb21wdXRlZEl0ZW1zKHN0b3JlSGlzdG9yeXMpLAogICAgZmllbGRzOiBmaWVsZHMsCiAgICBjb2x1bW5GaWx0ZXI6IHRydWUsCiAgICBpdGVtc1BlclBhZ2VTZWxlY3Q6IHsKICAgICAgbGFiZWw6ICdT4buRIGzGsOG7o25nIHRyw6puIG3hu5l0IHRyYW5nJywKICAgICAgdmFsdWVzOiBbNTAsIDEwMCwgMTUwLCAyMDBdCiAgICB9LAogICAgaXRlbXNQZXJQYWdlOiBzaXplLAogICAgaG92ZXI6IHRydWUsCiAgICBzb3J0ZXI6IHRydWUsCiAgICBub0l0ZW1zVmlldzogewogICAgICBub1Jlc3VsdHM6ICdLaMO0bmcgdMOsbSB0aOG6pXkga+G6v3QgcXXhuqMnLAogICAgICBub0l0ZW1zOiAnS2jDtG5nIGPDsyBk4buvIGxp4buHdScKICAgIH0sCiAgICBsb2FkaW5nOiBpbml0aWFsU3RhdGUubG9hZGluZyAvLyBvblJvd0NsaWNrPXsoaXRlbSxpbmRleCxjb2wsZSkgPT4gY29uc29sZS5sb2coaXRlbSxpbmRleCxjb2wsZSl9CiAgICAsCiAgICBvblBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnZUNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgcGFnZTonLCB2YWwpOwogICAgfSwKICAgIG9uUGFnZXNDaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnZXNDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHBhZ2VzOicsIHZhbCk7CiAgICB9LAogICAgb25QYWdpbmF0aW9uQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2luYXRpb25DaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBzZXRTaXplKHZhbCk7CiAgICB9IC8vIG9uRmlsdGVyZWRJdGVtc0NoYW5nZT17KHZhbCkgPT4gY29uc29sZS5sb2coJ25ldyBmaWx0ZXJlZCBpdGVtczonLCB2YWwpfQogICAgLy8gb25Tb3J0ZXJWYWx1ZUNoYW5nZT17KHZhbCkgPT4gY29uc29sZS5sb2coJ25ldyBzb3J0ZXIgdmFsdWU6JywgdmFsKX0KICAgICwKICAgIG9uVGFibGVGaWx0ZXJDaGFuZ2U6IGZ1bmN0aW9uIG9uVGFibGVGaWx0ZXJDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHRhYmxlIGZpbHRlcjonLCB2YWwpOwogICAgfSwKICAgIG9uQ29sdW1uRmlsdGVyQ2hhbmdlOiBvbkZpbHRlckNvbHVtbiwKICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIG9yZGVyOiBmdW5jdGlvbiBvcmRlcihpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpbmRleCArIDEpOwogICAgICB9LAogICAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0JhZGdlLCB7CiAgICAgICAgICBjb2xvcjogZ2V0QmFkZ2UoaXRlbS50eXBlKQogICAgICAgIH0sIG1hcHBpbmdTdGF0dXNbaXRlbS50eXBlXSkpOwogICAgICB9CiAgICB9CiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENQYWdpbmF0aW9uLCB7CiAgICBhY3RpdmVQYWdlOiBhY3RpdmVQYWdlLAogICAgcGFnZXM6IE1hdGguZmxvb3IoaW5pdGlhbFN0YXRlLnRvdGFsSXRlbSAvIHNpemUpICsgMSwKICAgIG9uQWN0aXZlUGFnZUNoYW5nZTogZnVuY3Rpb24gb25BY3RpdmVQYWdlQ2hhbmdlKGkpIHsKICAgICAgcmV0dXJuIHNldEFjdGl2ZVBhZ2UoaSk7CiAgICB9CiAgfSkpKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFN0b3JlSGlzdG9yeTs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/History/warehouse-history.js"],"names":["React","useCallback","useEffect","useRef","useState","CCardBody","CBadge","CDataTable","CCard","CCardHeader","CPagination","_","CIcon","useDispatch","useSelector","getStoreHistory","globalizedStoreHistorySelectors","reset","useHistory","moment","mappingStatus","EXPORT","IMPORT","getBadge","status","selectAll","StoreHistory","state","storeHistory","initialState","activePage","setActivePage","size","setSize","dispatch","storeHistorys","paramRef","page","sort","current","computedItems","items","map","item","createdDate","format","fields","key","label","_style","width","filter","debouncedSearchColumn","debounce","value","Object","keys","length","forEach","onFilterColumn","values","noResults","noItems","loading","val","console","log","order","index","type","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useRef, useState} from 'react';\nimport {CCardBody, CBadge, CDataTable, CCard, CCardHeader, CPagination} from '@coreui/react/lib';\nimport _ from 'lodash'\nimport CIcon from '@coreui/icons-react/lib/CIcon';;\nimport {useDispatch, useSelector} from 'react-redux';\nimport {getStoreHistory} from './warehouse-history.api.js';\nimport {globalizedStoreHistorySelectors, reset} from './warehouse-history.reducer.js';\nimport {useHistory} from 'react-router-dom';\nimport moment from 'moment'\nconst mappingStatus = {\n  EXPORT: 'XUẤT KHO',\n  IMPORT: 'NHẬP KHO',\n};\nconst getBadge = (status) => {\n  switch (status) {\n    case 'EXPORT':\n      return 'primary';\n    case 'IMPORT':\n      return 'info';\n    default:\n      return 'primary';\n  }\n};\nconst {selectAll} = globalizedStoreHistorySelectors;\n\nconst StoreHistory = () => {\n  const [] = useState([]);\n  const {initialState} = useSelector((state) => state.storeHistory);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(50);\n  const dispatch = useDispatch();\n  const storeHistorys = useSelector(selectAll);\n\n  const paramRef = useRef(null);\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    dispatch(getStoreHistory({page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current}));\n  }, [activePage, size]);\n\n  const computedItems = (items) => {\n    return items.map((item) => {\n      return {\n        ...item,\n        createdDate: moment(item.createdDate).format(\"DD-MM-YYYY\")\n      };\n    });\n  };\n\n  // Code\tTên kho\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại kho\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: {width: '1%'},\n      filter: false,\n    },\n    {key: 'storeName', label: 'Tên kho', _style: {width: '10%'}},\n    {key: 'productName', label: 'Tên sản phẩm', _style: {width: '15%'}},\n    {key: 'type', label: 'Hình thức', _style: {width: '15%'}, filter: false},\n    {key: 'createdDate', label: 'Ngày tạo', _style: {width: '15%'}, filter: false},\n    {key: 'quantity', label: 'Số lượng', _style: {width: '15%'}, filter: false},\n  ];\n\n  const debouncedSearchColumn = useCallback(\n    _.debounce(value => {\n      if (Object.keys(value).length > 0) {\n        Object.keys(value).forEach(key => {\n          if(!value[key]) delete value[key]\n        })\n        paramRef.current = value\n        dispatch(getStoreHistory({page: 0, size: size, sort: 'createdDate,DESC', ...value}));\n      }\n    }, 300),\n    []\n  );\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value)\n  };\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách lịch sử xuất nhập kho\n      </CCardHeader>\n      <CCardBody>\n        <CDataTable\n          items={computedItems(storeHistorys)}\n          fields={fields}\n          columnFilter\n          itemsPerPageSelect={{label: 'Số lượng trên một trang', values: [50, 100, 150, 200]}}\n          itemsPerPage={size}\n          hover\n          sorter\n          noItemsView={{\n            noResults: 'Không tìm thấy kết quả',\n            noItems: 'Không có dữ liệu'\n          }}\n          loading={initialState.loading}\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={(val) => console.log('new page:', val)}\n          onPagesChange={(val) => console.log('new pages:', val)}\n          onPaginationChange={(val) => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={(val) => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            type: (item ) => (\n              <td>\n                <CBadge color={getBadge(item.type)}>{mappingStatus[item.type]}</CBadge>\n              </td>\n            ),\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={(i) => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default StoreHistory;\n"]}]}