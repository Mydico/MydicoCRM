{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/edit-warehouse-export.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/edit-warehouse-export.js","mtime":1621451583975},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0J1dHRvbiwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDQ2FyZEJvZHksIENDb2wsIENGb3JtLCBDVGV4dGFyZWEsIENGb3JtR3JvdXAsIENMYWJlbCwgQ0lucHV0LCBDUm93LCBDQ2FyZFRpdGxlIH0gZnJvbSAnQGNvcmV1aS9yZWFjdC9saWInOwppbXBvcnQgQ0ljb24gZnJvbSAnQGNvcmV1aS9pY29ucy1yZWFjdC9saWIvQ0ljb24nOwo7CmltcG9ydCB7IEZvcm1payB9IGZyb20gJ2Zvcm1payc7CmltcG9ydCAqIGFzIFl1cCBmcm9tICd5dXAnOwppbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCB7IGdldERldGFpbFdhcmVob3VzZUltcG9ydCwgdXBkYXRlV2FyZWhvdXNlSW1wb3J0IH0gZnJvbSAnLi4vSW1wb3J0L3dhcmVob3VzZS1pbXBvcnQuYXBpJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBmZXRjaGluZywgZ2xvYmFsaXplZFdhcmVob3VzZUltcG9ydFNlbGVjdG9ycyB9IGZyb20gJy4uL0ltcG9ydC93YXJlaG91c2UtaW1wb3J0LnJlZHVjZXInOwppbXBvcnQgU2VsZWN0IGZyb20gJ3JlYWN0LXNlbGVjdCc7CmltcG9ydCB7IGN1cnJlbmN5TWFzayB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvY3VycmVuY3ktaW5wdXQvY3VycmVuY3ktaW5wdXQnOwppbXBvcnQgTWFza2VkSW5wdXQgZnJvbSAncmVhY3QtdGV4dC1tYXNrJzsKaW1wb3J0IHsgRm9ybUZlZWRiYWNrLCBUYWJsZSB9IGZyb20gJ3JlYWN0c3RyYXAnOwppbXBvcnQgeyBnbG9iYWxpemVkV2FyZWhvdXNlU2VsZWN0b3JzIH0gZnJvbSAnLi4vV2FyZWhvdXNlL3dhcmVob3VzZS5yZWR1Y2VyJzsKaW1wb3J0IHsgZ2V0V2FyZWhvdXNlIH0gZnJvbSAnLi4vV2FyZWhvdXNlL3dhcmVob3VzZS5hcGknOwppbXBvcnQgeyBnbG9iYWxpemVkUHJvZHVjdFNlbGVjdG9ycyB9IGZyb20gJy4uLy4uL3Byb2R1Y3QvUHJvZHVjdExpc3QvcHJvZHVjdC5yZWR1Y2VyJzsKaW1wb3J0IHsgZ2V0UHJvZHVjdCB9IGZyb20gJy4uLy4uL3Byb2R1Y3QvUHJvZHVjdExpc3QvcHJvZHVjdC5hcGknOwppbXBvcnQgeyBXYXJlaG91c2VJbXBvcnRUeXBlIH0gZnJvbSAnLi9jb250YW50cyc7Cgp2YXIgdmFsaWRhdGlvblNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRpb25TY2hlbWEoKSB7CiAgcmV0dXJuIFl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICBzdG9yZTogWXVwLm9iamVjdCgpLnJlcXVpcmVkKCdLaG8ga2jDtG5nIMSR4buDIHRy4buRbmcnKQogIH0pOwp9OwoKaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvbm9ybWFsaXplJzsKZXhwb3J0IHZhciBtYXBwaW5nU3RhdHVzID0gewogIEFDVElWRTogJ8SQQU5HIEhP4bqgVCDEkOG7mE5HJywKICBESVNBQkxFRDogJ0tIw5RORyBIT+G6oFQgxJDhu5hORycsCiAgREVMRVRFRDogJ8SQw4MgWMOTQScKfTsKCnZhciBFZGl0V2FyZWhvdXNlRXhwb3J0ID0gZnVuY3Rpb24gRWRpdFdhcmVob3VzZUV4cG9ydChwcm9wcykgewogIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS53YXJlaG91c2VJbXBvcnQ7CiAgfSksCiAgICAgIGluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3Rvci5pbml0aWFsU3RhdGU7CgogIHZhciBfdXNlU2VsZWN0b3IyID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYXV0aGVudGljYXRpb247CiAgfSksCiAgICAgIGFjY291bnQgPSBfdXNlU2VsZWN0b3IyLmFjY291bnQ7CgogIHZhciBzZWxlY3RBbGxXYXJlaG91c2UgPSBnbG9iYWxpemVkV2FyZWhvdXNlU2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgc2VsZWN0QWxsUHJvZHVjdCA9IGdsb2JhbGl6ZWRQcm9kdWN0U2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgc2VsZWN0QnlJZCA9IGdsb2JhbGl6ZWRXYXJlaG91c2VJbXBvcnRTZWxlY3RvcnMuc2VsZWN0QnlJZDsKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBzZWxlY3RlZFdhcmVob3VzZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldFNlbGVjdGVkV2FyZWhvdXNlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShudWxsKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDEpOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKHRydWUpLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGlzU2VsZWN0ZWRXYXJlaG91c2UgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRJc1NlbGVjdGVkV2FyZWhvdXNlID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIF91c2VTdGF0ZTcgPSB1c2VTdGF0ZShudWxsKSwKICAgICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLAogICAgICBpbml0VmFsdWVzU3RhdGUgPSBfdXNlU3RhdGU4WzBdLAogICAgICBzZXRJbml0VmFsdWVzU3RhdGUgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgd2FyZWhvdXNlcyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbFdhcmVob3VzZSk7CiAgdmFyIHByb2R1Y3RzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsUHJvZHVjdCk7CiAgdmFyIHdhcmVob3VzZUltcG9ydCA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHNlbGVjdEJ5SWQoc3RhdGUsIHByb3BzLm1hdGNoLnBhcmFtcy5pZCk7CiAgfSk7CgogIHZhciBfdXNlU3RhdGU5ID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGUxMCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTksIDIpLAogICAgICBwcm9kdWN0TGlzdCA9IF91c2VTdGF0ZTEwWzBdLAogICAgICBzZXRQcm9kdWN0TGlzdCA9IF91c2VTdGF0ZTEwWzFdOwoKICB2YXIgaW5pdGlhbFZhbHVlcyA9IHsKICAgIHN0b3JlOiAnJywKICAgIG5vdGU6ICcnCiAgfTsKCiAgdmFyIG9uU2VsZWN0V2FyZWhvdXNlID0gZnVuY3Rpb24gb25TZWxlY3RXYXJlaG91c2UodmFsdWUpIHsKICAgIHNldFNlbGVjdGVkV2FyZWhvdXNlKHZhbHVlKTsKICAgIHNldElzU2VsZWN0ZWRXYXJlaG91c2UodHJ1ZSk7CiAgfTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIHZhciBfYWNjb3VudCRkZXBhcnRtZW50OwoKICAgIGRpc3BhdGNoKGdldFdhcmVob3VzZSh7CiAgICAgIGRlcGFydG1lbnQ6IEpTT04uc3RyaW5naWZ5KFsoKF9hY2NvdW50JGRlcGFydG1lbnQgPSBhY2NvdW50LmRlcGFydG1lbnQpID09PSBudWxsIHx8IF9hY2NvdW50JGRlcGFydG1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hY2NvdW50JGRlcGFydG1lbnQuaWQpIHx8ICcnXSkKICAgIH0pKTsKICAgIGRpc3BhdGNoKGdldFByb2R1Y3QoKSk7CiAgICBkaXNwYXRjaChnZXREZXRhaWxXYXJlaG91c2VJbXBvcnQocHJvcHMubWF0Y2gucGFyYW1zLmlkKSk7CiAgfSwgW10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAod2FyZWhvdXNlSW1wb3J0KSB7CiAgICAgIHNldEluaXRWYWx1ZXNTdGF0ZSh3YXJlaG91c2VJbXBvcnQpOwogICAgICBzZXRTZWxlY3RlZFdhcmVob3VzZSh3YXJlaG91c2VJbXBvcnQuc3RvcmUpOwogICAgICBzZXRQcm9kdWN0TGlzdChBcnJheS5pc0FycmF5KHdhcmVob3VzZUltcG9ydC5zdG9yZUlucHV0RGV0YWlscykgPyB3YXJlaG91c2VJbXBvcnQuc3RvcmVJbnB1dERldGFpbHMgOiBbXSk7CiAgICB9CiAgfSwgW3dhcmVob3VzZUltcG9ydF0pOwoKICB2YXIgb25TdWJtaXQgPSBmdW5jdGlvbiBvblN1Ym1pdCh2YWx1ZXMsIF9yZWYpIHsKICAgIHZhciByZXNldEZvcm0gPSBfcmVmLnJlc2V0Rm9ybTsKICAgIHZhbHVlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWVzKSk7CiAgICB2YWx1ZXMuc3RvcmVJbnB1dERldGFpbHMgPSBwcm9kdWN0TGlzdDsKICAgIHZhbHVlcy50eXBlID0gV2FyZWhvdXNlSW1wb3J0VHlwZS5FWFBPUlQ7CiAgICBkaXNwYXRjaChmZXRjaGluZygpKTsKICAgIGRpc3BhdGNoKHVwZGF0ZVdhcmVob3VzZUltcG9ydCh2YWx1ZXMpKTsKICAgIHJlc2V0Rm9ybSgpOwogIH07CgogIHZhciBvbkNoYW5nZVF1YW50aXR5ID0gZnVuY3Rpb24gb25DaGFuZ2VRdWFudGl0eShfcmVmMiwgaW5kZXgpIHsKICAgIHZhciB0YXJnZXQgPSBfcmVmMi50YXJnZXQ7CgogICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgIGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5ID0gdGFyZ2V0LnZhbHVlOwogICAgc2V0UHJvZHVjdExpc3QoY29weUFycik7CiAgfTsKCiAgdmFyIG9uUmVtb3ZlUHJvZHVjdCA9IGZ1bmN0aW9uIG9uUmVtb3ZlUHJvZHVjdChpbmRleCkgewogICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgIGNvcHlBcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvblNlbGVjdGVkUHJvZHVjdCA9IGZ1bmN0aW9uIG9uU2VsZWN0ZWRQcm9kdWN0KF9yZWYzLCBpbmRleCkgewogICAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWU7CiAgICB2YXIgYXJyID0gcHJvZHVjdExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLnByb2R1Y3QuaWQgPT09IHZhbHVlLmlkOwogICAgfSk7CgogICAgaWYgKGFyci5sZW5ndGggPT09IDApIHsKICAgICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgICAgY29weUFycltpbmRleF0ucHJvZHVjdCA9IHZhbHVlOwogICAgICBjb3B5QXJyW2luZGV4XS5wcmljZSA9IE51bWJlcih2YWx1ZS5wcmljZSk7CiAgICAgIGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5ID0gMTsKICAgICAgc2V0UHJvZHVjdExpc3QoY29weUFycik7CiAgICB9CiAgfTsKCiAgdmFyIG9uU2VhcmNoUHJvZHVjdCA9IGZ1bmN0aW9uIG9uU2VhcmNoUHJvZHVjdCh2YWx1ZSkgewogICAgZGlzcGF0Y2goZ2V0UHJvZHVjdCh7CiAgICAgIHBhZ2U6IDAsCiAgICAgIHNpemU6IDIwLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsZGVzYycsCiAgICAgIGNvZGU6IHZhbHVlLAogICAgICBuYW1lOiB2YWx1ZQogICAgfSkpOwogIH07CgogIHZhciBvbkFkZFByb2R1Y3QgPSBmdW5jdGlvbiBvbkFkZFByb2R1Y3QoKSB7CiAgICB2YXIgZGF0YSA9IHsKICAgICAgcHJvZHVjdDoge30sCiAgICAgIHF1YW50aXR5OiAxCiAgICB9OwogICAgc2V0UHJvZHVjdExpc3QoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCksIFtkYXRhXSkpOwogIH07CgogIHZhciBvbkNoYW5nZVByaWNlID0gZnVuY3Rpb24gb25DaGFuZ2VQcmljZShfcmVmNCwgaW5kZXgpIHsKICAgIHZhciB0YXJnZXQgPSBfcmVmNC50YXJnZXQ7CiAgICB2YXIgY29weUFyciA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocHJvZHVjdExpc3QpKTsKICAgIGNvcHlBcnJbaW5kZXhdLnByaWNlID0gTnVtYmVyKHRhcmdldC52YWx1ZS5yZXBsYWNlKC9cRC9nLCAnJykpOwogICAgc2V0UHJvZHVjdExpc3QoY29weUFycik7CiAgfTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzKSB7CiAgICAgIGhpc3RvcnkuZ29CYWNrKCk7CiAgICB9CiAgfSwgW2luaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3NdKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1paywgewogICAgaW5pdGlhbFZhbHVlczogaW5pdFZhbHVlc1N0YXRlIHx8IGluaXRpYWxWYWx1ZXMsCiAgICBlbmFibGVSZWluaXRpYWxpemU6IHRydWUsCiAgICB2YWxpZGF0ZTogdmFsaWRhdGUodmFsaWRhdGlvblNjaGVtYSksCiAgICBvblN1Ym1pdDogb25TdWJtaXQKICB9LCBmdW5jdGlvbiAoX3JlZjUpIHsKICAgIHZhciBfc2VsZWN0ZWRXYXJlaG91c2UkZGUsIF92YWx1ZXMkc3RvcmVUcmFuc2ZlciwgX3NlbGVjdGVkV2FyZWhvdXNlJGRlMjsKCiAgICB2YXIgdmFsdWVzID0gX3JlZjUudmFsdWVzLAogICAgICAgIGhhbmRsZUNoYW5nZSA9IF9yZWY1LmhhbmRsZUNoYW5nZSwKICAgICAgICBoYW5kbGVCbHVyID0gX3JlZjUuaGFuZGxlQmx1ciwKICAgICAgICBoYW5kbGVTdWJtaXQgPSBfcmVmNS5oYW5kbGVTdWJtaXQsCiAgICAgICAgc2V0RmllbGRWYWx1ZSA9IF9yZWY1LnNldEZpZWxkVmFsdWUsCiAgICAgICAgaGFuZGxlUmVzZXQgPSBfcmVmNS5oYW5kbGVSZXNldDsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybSwgewogICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBub1ZhbGlkYXRlOiB0cnVlLAogICAgICBuYW1lOiAic2ltcGxlRm9ybSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCB7CiAgICAgIGNsYXNzTmFtZTogImNhcmQtYWNjZW50LWluZm8iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIkNoXHUxRUNEbiBraG8geHVcdTFFQTV0IikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIHsKICAgICAgY2xhc3NOYW1lOiAibWItMyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgc206IDQKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAibGFzdE5hbWUiCiAgICB9LCAiQ2hcdTFFQ0RuIEtobyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGl0ZW0pIHsKICAgICAgICBzZXRGaWVsZFZhbHVlKCdzdG9yZScsIGl0ZW0udmFsdWUpOwogICAgICAgIG9uU2VsZWN0V2FyZWhvdXNlKGl0ZW0udmFsdWUpOwogICAgICB9LAogICAgICBwbGFjZWhvbGRlcjogIiIsCiAgICAgIHZhbHVlOiB7CiAgICAgICAgdmFsdWU6IHZhbHVlcy5zdG9yZSwKICAgICAgICBsYWJlbDogIiIuY29uY2F0KHZhbHVlcy5zdG9yZS5uYW1lKQogICAgICB9LAogICAgICBvcHRpb25zOiB3YXJlaG91c2VzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogaXRlbSwKICAgICAgICAgIGxhYmVsOiAiIi5jb25jYXQoaXRlbS5uYW1lKQogICAgICAgIH07CiAgICAgIH0pCiAgICB9KSwgIWlzU2VsZWN0ZWRXYXJlaG91c2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCAiQlx1MUVBMW4gcGhcdTFFQTNpIGNoXHUxRUNEbiBraG8gaFx4RTBuZyIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlRceEVBbiBraG86IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRXYXJlaG91c2UubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiU1x1MUVEMSBcdTAxMTFpXHUxRUM3biB0aG9cdTFFQTFpOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkV2FyZWhvdXNlLnRlbCkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiQ2hpIG5oXHhFMW5oOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRXYXJlaG91c2UkZGUgPSBzZWxlY3RlZFdhcmVob3VzZS5kZXBhcnRtZW50KSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWRXYXJlaG91c2UkZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZFdhcmVob3VzZSRkZS5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5OiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkV2FyZWhvdXNlLmFkZHJlc3MpKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCB7CiAgICAgIGNsYXNzTmFtZTogImNhcmQtYWNjZW50LWluZm8iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIkNoXHUxRUNEbiBraG8gbmhcdTFFQURwIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIHsKICAgICAgY2xhc3NOYW1lOiAibWItMyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgc206IDQKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAibGFzdE5hbWUiCiAgICB9LCAiQ2hcdTFFQ0RuIEtobyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGl0ZW0pIHsKICAgICAgICBzZXRGaWVsZFZhbHVlKCdzdG9yZVRyYW5zZmVyJywgaXRlbS52YWx1ZSk7CiAgICAgICAgb25TZWxlY3RXYXJlaG91c2UoaXRlbS52YWx1ZSk7CiAgICAgIH0sCiAgICAgIHBsYWNlaG9sZGVyOiAiIiwKICAgICAgdmFsdWU6IHsKICAgICAgICB2YWx1ZTogdmFsdWVzLnN0b3JlVHJhbnNmZXIsCiAgICAgICAgbGFiZWw6ICIiLmNvbmNhdCgoX3ZhbHVlcyRzdG9yZVRyYW5zZmVyID0gdmFsdWVzLnN0b3JlVHJhbnNmZXIpID09PSBudWxsIHx8IF92YWx1ZXMkc3RvcmVUcmFuc2ZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRzdG9yZVRyYW5zZmVyLm5hbWUpCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IHdhcmVob3VzZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLAogICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdChpdGVtLm5hbWUpCiAgICAgICAgfTsKICAgICAgfSkKICAgIH0pLCAhaXNTZWxlY3RlZFdhcmVob3VzZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sICJCXHUxRUExbiBwaFx1MUVBM2kgY2hcdTFFQ0RuIGtobyBoXHhFMG5nIikpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiVFx4RUFuIGtobzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIHNlbGVjdGVkV2FyZWhvdXNlID09PSBudWxsIHx8IHNlbGVjdGVkV2FyZWhvdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZFdhcmVob3VzZS5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJTXHUxRUQxIFx1MDExMWlcdTFFQzduIHRob1x1MUVBMWk6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRXYXJlaG91c2UudGVsKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJDaGkgbmhceEUxbmg6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9zZWxlY3RlZFdhcmVob3VzZSRkZTIgPSBzZWxlY3RlZFdhcmVob3VzZS5kZXBhcnRtZW50KSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWRXYXJlaG91c2UkZGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWRXYXJlaG91c2UkZGUyLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlx1MDExMFx1MUVDQmEgY2hcdTFFQzk6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRXYXJlaG91c2UuYWRkcmVzcykpKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgc2l6ZTogInNtIiwKICAgICAgY2xhc3NOYW1lOiAibWwtMyBtYi0zIiwKICAgICAgb25DbGljazogb25BZGRQcm9kdWN0CiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAnY2lsQXJyb3dDaXJjbGVSaWdodCcsCiAgICAgIGNsYXNzTmFtZTogIm1yLTIiCiAgICB9KSwgIlRoXHhFQW0gc1x1MUVBM24gcGhcdTFFQTltIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlLCB7CiAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgIHN0cmlwZWQ6IHRydWUKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJTXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlx1MDExMFx1MDFBMW4gdlx1MUVDQiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiRHVuZyB0XHhFRGNoIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJTXHUxRUQxIGxcdTAxQjBcdTFFRTNuZyIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIsIG51bGwsIHByb2R1Y3RMaXN0ID09PSBudWxsIHx8IHByb2R1Y3RMaXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9kdWN0TGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIHZhciBfaXRlbSRwcm9kdWN0LCBfaXRlbSRwcm9kdWN0MiwgX2l0ZW0kcHJvZHVjdDM7CgogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgewogICAgICAgIGtleTogaW5kZXgKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aWR0aDogNTAwCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgICB2YWx1ZTogewogICAgICAgICAgdmFsdWU6IGl0ZW0sCiAgICAgICAgICBsYWJlbDogaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kcHJvZHVjdCA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdC5uYW1lCiAgICAgICAgfSwKICAgICAgICBvbklucHV0Q2hhbmdlOiBvblNlYXJjaFByb2R1Y3QsCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25TZWxlY3RlZFByb2R1Y3QoZXZlbnQsIGluZGV4KTsKICAgICAgICB9LAogICAgICAgIG1lbnVQb3J0YWxUYXJnZXQ6IGRvY3VtZW50LmJvZHksCiAgICAgICAgb3B0aW9uczogcHJvZHVjdHMgPT09IG51bGwgfHwgcHJvZHVjdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb2R1Y3RzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdmFyIF9pdGVtJHByb2R1Y3RCcmFuZDsKCiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB2YWx1ZTogaXRlbSwKICAgICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfaXRlbSRwcm9kdWN0QnJhbmQgPSBpdGVtLnByb2R1Y3RCcmFuZCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdEJyYW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0QnJhbmQubmFtZSwgIi0iKS5jb25jYXQoaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLm5hbWUsICItIikuY29uY2F0KGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS52b2x1bWUpCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kcHJvZHVjdDIgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0Mi51bml0KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kcHJvZHVjdDMgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0My52b2x1bWUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNYXNrZWRJbnB1dCwgewogICAgICAgIG1hc2s6IGN1cnJlbmN5TWFzaywKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBvbkNoYW5nZVByaWNlKGV2ZW50LCBpbmRleCk7CiAgICAgICAgfSwKICAgICAgICB2YWx1ZTogdHlwZW9mIHByb2R1Y3RMaXN0W2luZGV4XS5wcmljZSAhPT0gJ251bWJlcicgPyBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ3ZpLVZOJywgewogICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICBjdXJyZW5jeTogJ1ZORCcKICAgICAgICB9KS5mb3JtYXQocHJvZHVjdExpc3RbaW5kZXhdLnByaWNlKSA6IHByb2R1Y3RMaXN0W2luZGV4XS5wcmljZSwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyZWYsIHByb3BzKSB7CiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCBfZXh0ZW5kcyh7CiAgICAgICAgICAgIGlubmVyUmVmOiByZWYKICAgICAgICAgIH0sIHByb3BzKSk7CiAgICAgICAgfQogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2lkdGg6IDEwMAogICAgICAgIH0KICAgICAgfSwgaXRlbS5mb2xsb3dJbmRleCA+PSAwID8gaXRlbS5xdWFudGl0eSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgIG1pbjogMSwKICAgICAgICBuYW1lOiAiY29kZSIsCiAgICAgICAgaWQ6ICJjb2RlIiwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBvbkNoYW5nZVF1YW50aXR5KGV2ZW50LCBpbmRleCk7CiAgICAgICAgfSwKICAgICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgICAgdmFsdWU6IGl0ZW0ucXVhbnRpdHkKICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdpZHRoOiAxMDAKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICBzaXplOiAic20iLAogICAgICAgIGNsYXNzTmFtZTogIm1yLTMiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gb25SZW1vdmVQcm9kdWN0KGluZGV4KTsKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgbmFtZTogImNpbFhDaXJjbGUiCiAgICAgIH0pKSkpOwogICAgfSkpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkVGl0bGUsIG51bGwsICJUaFx4RjRuZyB0aW4ga2hceEUxYyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNCIsCiAgICAgIHNtOiAiNSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAidXNlck5hbWUiCiAgICB9LCAiR2hpIGNoXHhGQSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDVGV4dGFyZWEsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAibm90ZSIsCiAgICAgIGlkOiAibm90ZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiIiwKICAgICAgYXV0b0NvbXBsZXRlOiAiYWRkcmVzcyIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5ub3RlCiAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNCIsCiAgICAgIHNtOiAiNSIsCiAgICAgIGNsYXNzTmFtZTogIm1sLWF1dG8iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICBjbGFzc05hbWU6ICJ0YWJsZS1jbGVhciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiVFx1MUVENW5nIHNcdTFFRDEgbFx1MDFCMFx1MUVFM25nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgfSwgcHJvZHVjdExpc3QucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGN1cnJlbnQpIHsKICAgICAgcmV0dXJuIHN1bSArIE51bWJlcihjdXJyZW50LnF1YW50aXR5KTsKICAgIH0sIDApIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiVFx1MUVENW5nIHRpXHUxRUMxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgbWluOiAxLAogICAgICBuYW1lOiAiY29kZSIsCiAgICAgIGlkOiAiY29kZSIsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ3RvdGFsTW9uZXknLCBldmVudC50YXJnZXQudmFsdWUpOwogICAgICB9LAogICAgICBkZWZhdWx0VmFsdWU6IHByb2R1Y3RMaXN0LnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50KSB7CiAgICAgICAgcmV0dXJuIHN1bSArIGN1cnJlbnQucHJpY2UgKiBjdXJyZW50LnF1YW50aXR5OwogICAgICB9LCAwKSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLnRvdGFsTW9uZXkKICAgIH0pKSkpKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIHsKICAgICAgY2xhc3NOYW1lOiAiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIHR5cGU6ICJzdWJtaXQiLAogICAgICBzaXplOiAibGciLAogICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICBkaXNhYmxlZDogaW5pdGlhbFN0YXRlLmxvYWRpbmcKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWwtc2F2ZSIKICAgIH0pLCAiICIsIGluaXRpYWxTdGF0ZS5sb2FkaW5nID8gJ8SQYW5nIHjhu60gbMO9JyA6ICdMxrB1IGzhuqFpJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInJlc2V0IiwKICAgICAgc2l6ZTogImxnIiwKICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICBvbkNsaWNrOiBoYW5kbGVSZXNldCwKICAgICAgY2xhc3NOYW1lOiAibWwtNSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWwtYmFuIgogICAgfSksICIgWFx4RjNhIG5oXHUxRUFEcCBsaVx1MUVDN3UiKSkpOwogIH0pKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEVkaXRXYXJlaG91c2VFeHBvcnQ7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/edit-warehouse-export.js"],"names":["React","useEffect","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CTextarea","CFormGroup","CLabel","CInput","CRow","CCardTitle","CIcon","Formik","Yup","useDispatch","useSelector","getDetailWarehouseImport","updateWarehouseImport","useHistory","fetching","globalizedWarehouseImportSelectors","Select","currencyMask","MaskedInput","FormFeedback","Table","globalizedWarehouseSelectors","getWarehouse","globalizedProductSelectors","getProduct","WarehouseImportType","validationSchema","object","shape","store","required","validate","mappingStatus","ACTIVE","DISABLED","DELETED","EditWarehouseExport","props","state","warehouseImport","initialState","authentication","account","selectAllWarehouse","selectAll","selectAllProduct","selectById","dispatch","history","selectedWarehouse","setSelectedWarehouse","isSelectedWarehouse","setIsSelectedWarehouse","initValuesState","setInitValuesState","warehouses","products","match","params","id","productList","setProductList","initialValues","note","onSelectWarehouse","value","department","JSON","stringify","Array","isArray","storeInputDetails","onSubmit","values","resetForm","parse","type","EXPORT","onChangeQuantity","index","target","copyArr","quantity","onRemoveProduct","splice","onSelectedProduct","arr","filter","item","product","length","price","Number","onSearchProduct","page","size","sort","code","name","onAddProduct","data","onChangePrice","replace","updatingSuccess","goBack","handleChange","handleBlur","handleSubmit","setFieldValue","handleReset","label","map","tel","address","storeTransfer","width","event","document","body","productBrand","volume","unit","Intl","NumberFormat","style","currency","format","ref","followIndex","reduce","sum","current","totalMoney","loading"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CTextarea,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CRow,\n\n  CCardTitle,\n} from '@coreui/react/lib';\nimport CIcon from '@coreui/icons-react/lib/CIcon';;\nimport {Formik} from 'formik';\nimport * as Yup from 'yup';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {getDetailWarehouseImport, updateWarehouseImport} from '../Import/warehouse-import.api';\n\n\nimport {useHistory} from 'react-router-dom';\nimport {fetching, globalizedWarehouseImportSelectors} from '../Import/warehouse-import.reducer';\nimport Select from 'react-select';\nimport {currencyMask} from '../../../components/currency-input/currency-input';\nimport MaskedInput from 'react-text-mask';\nimport {FormFeedback, Table} from 'reactstrap';\nimport {globalizedWarehouseSelectors} from '../Warehouse/warehouse.reducer';\nimport {getWarehouse} from '../Warehouse/warehouse.api';\nimport {globalizedProductSelectors} from '../../product/ProductList/product.reducer';\nimport {getProduct} from '../../product/ProductList/product.api';\nimport {WarehouseImportType} from './contants';\nconst validationSchema = function() {\n  return Yup.object().shape({\n    store: Yup.object().required('Kho không để trống'),\n  });\n};\n\nimport {validate} from '../../../../shared/utils/normalize';\n\n\nexport const mappingStatus = {\n  ACTIVE: 'ĐANG HOẠT ĐỘNG',\n  DISABLED: 'KHÔNG HOẠT ĐỘNG',\n  DELETED: 'ĐÃ XÓA',\n};\n\n\nconst EditWarehouseExport = (props) => {\n  const {initialState} = useSelector((state) => state.warehouseImport);\n  const {account} = useSelector((state) => state.authentication);\n\n  const {selectAll: selectAllWarehouse} = globalizedWarehouseSelectors;\n  const {selectAll: selectAllProduct} = globalizedProductSelectors;\n  const {selectById} = globalizedWarehouseImportSelectors;\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [selectedWarehouse, setSelectedWarehouse] = useState(null);\n  const [,] = useState(null);\n  const [isSelectedWarehouse, setIsSelectedWarehouse] = useState(true);\n  const [initValuesState, setInitValuesState] = useState(null);\n\n  const warehouses = useSelector(selectAllWarehouse);\n  const products = useSelector(selectAllProduct);\n  const warehouseImport = useSelector((state) => selectById(state, props.match.params.id));\n\n  const [productList, setProductList] = useState([]);\n\n  const initialValues = {\n    store: '',\n    note: '',\n  };\n  const onSelectWarehouse = (value) => {\n    setSelectedWarehouse(value);\n    setIsSelectedWarehouse(true);\n  };\n\n  useEffect(() => {\n    dispatch(getWarehouse({department: JSON.stringify([account.department?.id || ''])}));\n    dispatch(getProduct());\n    dispatch(getDetailWarehouseImport(props.match.params.id));\n  }, []);\n\n  useEffect(() => {\n    if (warehouseImport) {\n      setInitValuesState(warehouseImport);\n      setSelectedWarehouse(warehouseImport.store);\n      setProductList(Array.isArray(warehouseImport.storeInputDetails) ? warehouseImport.storeInputDetails : []);\n    }\n  }, [warehouseImport]);\n\n  const onSubmit = (values, {resetForm}) => {\n    values = JSON.parse(JSON.stringify(values));\n    values.storeInputDetails = productList;\n    values.type = WarehouseImportType.EXPORT;\n    dispatch(fetching());\n    dispatch(updateWarehouseImport(values));\n    resetForm();\n  };\n\n  const onChangeQuantity = ({target}, index) => {\n    const copyArr = [...productList];\n    copyArr[index].quantity = target.value;\n    setProductList(copyArr);\n  };\n\n  const onRemoveProduct = (index) => {\n    const copyArr = [...productList];\n    copyArr.splice(index, 1);\n    setProductList(copyArr);\n  };\n\n  const onSelectedProduct = ({value}, index) => {\n    const arr = productList.filter((item) => item.product.id === value.id);\n    if (arr.length === 0) {\n      const copyArr = [...productList];\n      copyArr[index].product = value;\n      copyArr[index].price = Number(value.price);\n      copyArr[index].quantity = 1;\n      setProductList(copyArr);\n    }\n  };\n\n  const onSearchProduct = (value) => {\n    dispatch(getProduct({ page: 0, size: 20, sort: 'createdDate,desc', code: value, name: value }));\n  }\n\n  const onAddProduct = () => {\n    const data = {product: {}, quantity: 1};\n    setProductList([...productList, data]);\n  };\n\n  const onChangePrice = ({target}, index) => {\n    const copyArr = JSON.parse(JSON.stringify(productList));\n    copyArr[index].price = Number(target.value.replace(/\\D/g, ''));\n    setProductList(copyArr);\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  return (\n    <CCard>\n      <Formik initialValues={initValuesState || initialValues} enableReinitialize validate={validate(validationSchema)} onSubmit={onSubmit}>\n        {({\n          values,\n\n\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          setFieldValue,\n\n\n          handleReset\n          ,\n        }) => (\n          <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n            <CCard className=\"card-accent-info\">\n              <CCardHeader>\n                <CCardTitle>Chọn kho xuất</CCardTitle>\n              </CCardHeader>\n              <CCardBody>\n                <CRow className=\"mb-3\">\n                  <CCol sm={4}>\n                    <CLabel htmlFor=\"lastName\">Chọn Kho</CLabel>\n                    <Select\n                      onChange={(item) => {\n                        setFieldValue('store', item.value);\n                        onSelectWarehouse(item.value);\n                      }}\n                      placeholder=\"\"\n                      value={{\n                        value: values.store,\n                        label: `${values.store.name}`,\n                      }}\n                      options={warehouses.map((item) => ({\n                        value: item,\n                        label: `${item.name}`,\n                      }))}\n                    />\n                    {!isSelectedWarehouse && <FormFeedback className=\"d-block\">Bạn phải chọn kho hàng</FormFeedback>}\n                  </CCol>\n                </CRow>\n                <CRow>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Tên kho:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.name}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.tel}</dd>\n                    </dl>\n                  </CCol>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Chi nhánh:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.department?.name}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.address}</dd>\n                    </dl>\n                  </CCol>\n                </CRow>\n              </CCardBody>\n            </CCard>\n            <CCard className=\"card-accent-info\">\n              <CCardHeader>\n                <CCardTitle>Chọn kho nhập</CCardTitle>\n              </CCardHeader>\n              <CCardBody>\n                <CRow className=\"mb-3\">\n                  <CCol sm={4}>\n                    <CLabel htmlFor=\"lastName\">Chọn Kho</CLabel>\n                    <Select\n                      onChange={(item) => {\n                        setFieldValue('storeTransfer', item.value);\n                        onSelectWarehouse(item.value);\n                      }}\n                      placeholder=\"\"\n                      value={{\n                        value: values.storeTransfer,\n                        label: `${values.storeTransfer?.name}`,\n                      }}\n                      options={warehouses.map((item) => ({\n                        value: item,\n                        label: `${item.name}`,\n                      }))}\n                    />\n                    {!isSelectedWarehouse && <FormFeedback className=\"d-block\">Bạn phải chọn kho hàng</FormFeedback>}\n                  </CCol>\n                </CRow>\n                <CRow>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Tên kho:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.name}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.tel}</dd>\n                    </dl>\n                  </CCol>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Chi nhánh:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.department?.name}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.address}</dd>\n                    </dl>\n                  </CCol>\n                </CRow>\n              </CCardBody>\n            </CCard>\n\n            <CButton color=\"primary\" variant=\"outline\" shape=\"square\" size=\"sm\" className=\"ml-3 mb-3\" onClick={onAddProduct}>\n              <CIcon name={'cilArrowCircleRight'} className=\"mr-2\" />\n              Thêm sản phẩm\n            </CButton>\n            <CCard>\n              <CCardBody>\n                <Table responsive striped>\n                  <thead>\n                    <tr>\n                      <th>Sản phẩm</th>\n                      <th>Đơn vị</th>\n                      <th>Dung tích</th>\n                      <th>Số lượng</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {productList?.map((item, index) => {\n                      return (\n                        <tr key={index}>\n                          <td style={{width: 500}}>\n                            <Select\n                              value={{\n                                value: item,\n                                label: item?.product?.name,\n                              }}\n                              onInputChange={onSearchProduct}\n                              onChange={(event) => onSelectedProduct(event, index)}\n                              menuPortalTarget={document.body}\n                              options={products?.map((item) => ({\n                                value: item,\n                                label: `${item?.productBrand?.name}-${item?.name}-${item?.volume}`,\n                              }))}\n                            />\n                          </td>\n                          <td>{item?.product?.unit}</td>\n                          <td>{item?.product?.volume}</td>\n                          <td>\n                            {\n                              <MaskedInput\n                                mask={currencyMask}\n                                onChange={(event) => onChangePrice(event, index)}\n                                value={\n                                  typeof productList[index].price !== 'number' ?\n                                    new Intl.NumberFormat('vi-VN', {style: 'currency', currency: 'VND'}).format(\n                                        productList[index].price,\n                                    ) :\n                                    productList[index].price\n                                }\n                                render={(ref, props) => <CInput innerRef={ref} {...props} />}\n                              />\n                            }\n                          </td>\n                          <td style={{width: 100}}>\n                            {item.followIndex >= 0 ? (\n                              item.quantity\n                            ) : (\n                              <CInput\n                                type=\"number\"\n                                min={1}\n                                name=\"code\"\n                                id=\"code\"\n                                onChange={(event) => onChangeQuantity(event, index)}\n                                onBlur={handleBlur}\n                                value={item.quantity}\n                              />\n                            )}\n                          </td>\n\n                          <td style={{width: 100}}>\n                            <CButton\n                              color=\"danger\"\n                              variant=\"outline\"\n                              shape=\"square\"\n                              size=\"sm\"\n                              className=\"mr-3\"\n                              onClick={() => onRemoveProduct(index)}\n                            >\n                              <CIcon name=\"cilXCircle\" />\n                            </CButton>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </Table>\n              </CCardBody>\n            </CCard>\n            <CCard>\n              <CCardHeader>\n                <CCardTitle>Thông tin khác</CCardTitle>\n              </CCardHeader>\n              <CCardBody>\n                <CRow>\n                  <CCol lg=\"4\" sm=\"5\">\n                    <CFormGroup>\n                      <CLabel htmlFor=\"userName\">Ghi chú</CLabel>\n                      <CTextarea\n                        type=\"text\"\n                        name=\"note\"\n                        id=\"note\"\n                        placeholder=\"\"\n                        autoComplete=\"address\"\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.note}\n                      />\n                    </CFormGroup>\n                  </CCol>\n                  <CCol lg=\"4\" sm=\"5\" className=\"ml-auto\">\n                    <Table className=\"table-clear\">\n                      <tbody>\n                        <tr>\n                          <td className=\"left\">\n                            <strong>Tổng số lượng</strong>\n                          </td>\n                          <td className=\"right\">{productList.reduce((sum, current) => sum + Number(current.quantity), 0) || ''}</td>\n                        </tr>\n                        <tr>\n                          <td className=\"left\">\n                            <strong>Tổng tiền</strong>\n                          </td>\n                          <td className=\"right\">\n                            {\n                              <CInput\n                                type=\"number\"\n                                min={1}\n                                name=\"code\"\n                                id=\"code\"\n                                onChange={(event) => {\n                                  setFieldValue('totalMoney', event.target.value);\n                                }}\n                                defaultValue={productList.reduce((sum, current) => sum + current.price * current.quantity, 0)}\n                                onBlur={handleBlur}\n                                value={values.totalMoney}\n                              />\n                            }\n                          </td>\n                        </tr>\n                      </tbody>\n                    </Table>\n                  </CCol>\n                </CRow>\n              </CCardBody>\n            </CCard>\n            <CFormGroup className=\"d-flex justify-content-center\">\n              <CButton type=\"submit\" size=\"lg\" color=\"primary\" disabled={initialState.loading}>\n                <CIcon name=\"cil-save\" /> {initialState.loading ? 'Đang xử lý' : 'Lưu lại'}\n              </CButton>\n              <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={handleReset} className=\"ml-5\">\n                <CIcon name=\"cil-ban\" /> Xóa nhập liệu\n              </CButton>\n            </CFormGroup>\n          </CForm>\n        )}\n      </Formik>\n    </CCard>\n  );\n};\n\nexport default EditWarehouseExport;\n"]}]}