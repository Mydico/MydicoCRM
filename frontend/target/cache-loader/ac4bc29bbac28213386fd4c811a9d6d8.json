{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/product/ProductList/Products.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/product/ProductList/Products.js","mtime":1623522121068},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDQ29sLCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsgLy8gaW1wb3J0IHVzZXJzRGF0YSBmcm9tICcuLi8uLi8uLi91c2Vycy9Vc2Vyc0RhdGEuanMnOwoKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXRQcm9kdWN0IH0gZnJvbSAnLi9wcm9kdWN0LmFwaS5qcyc7CmltcG9ydCB7IGdsb2JhbGl6ZWRQcm9kdWN0U2VsZWN0b3JzLCByZXNldCB9IGZyb20gJy4vcHJvZHVjdC5yZWR1Y2VyLmpzJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyB1c2VyU2FmZVNlbGVjdG9yIH0gZnJvbSAnLi4vLi4vbG9naW4vYXV0aGVudGljYXRlLnJlZHVjZXIuanMnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CnZhciBtYXBwaW5nU3RhdHVzID0gewogIEFDVElWRTogJ8SQQU5HIEhP4bqgVCDEkOG7mE5HJywKICBESVNBQkxFRDogJ0tIw5RORyBIT+G6oFQgxJDhu5hORycsCiAgREVMRVRFRDogJ8SQw4MgWMOTQScKfTsKdmFyIHNlbGVjdEFsbCA9IGdsb2JhbGl6ZWRQcm9kdWN0U2VsZWN0b3JzLnNlbGVjdEFsbDsgLy8gQ29kZQlUw6puIHPhuqNuIHBo4bqpbQlOZ8aw4budaSBsacOqbiBs4bqhYwlOxINtIFNpbmgJxJBp4buHbiB0aG/huqFpCU5ow6JuIHZpw6puIHF14bqjbiBsw70JTmjDs20gc+G6o24gcGjhuqltCVBow6JuIGxv4bqhaQlT4butYQlU4bqhbyDEkcahbgoKdmFyIGZpZWxkcyA9IFt7CiAga2V5OiAnb3JkZXInLAogIGxhYmVsOiAnU1RUJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMSUnCiAgfSwKICBmaWx0ZXI6IGZhbHNlCn0sIHsKICBrZXk6ICdjb2RlJywKICBsYWJlbDogJ03DoycsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzEwJScKICB9Cn0sIHsKICBrZXk6ICduYW1lJywKICBsYWJlbDogJ1TDqm4gc+G6o24gcGjhuqltJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMTAlJwogIH0KfSwgewogIGtleTogJ3ByaWNlJywKICBsYWJlbDogJ0dpw6Egc2Fsb24nLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxNSUnCiAgfQp9LCB7CiAga2V5OiAnYWdlbnRQcmljZScsCiAgbGFiZWw6ICdHacOhIMSR4bqhaSBsw70nLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxMCUnCiAgfQp9LCB7CiAga2V5OiAncHJvZHVjdEdyb3VwJywKICBsYWJlbDogJ05ow7NtIHPhuqNuIHBo4bqpbScsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzEwJScKICB9Cn0sIHsKICBrZXk6ICdzdGF0dXMnLAogIGxhYmVsOiAnVHLhuqFuZyB0aMOhaScsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzEwJScKICB9Cn0sIHsKICBrZXk6ICdzaG93X2RldGFpbHMnLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxMCUnCiAgfSwKICBsYWJlbDogJycsCiAgZmlsdGVyOiBmYWxzZQp9XTsKCnZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHN0YXR1cykgewogIHN3aXRjaCAoc3RhdHVzKSB7CiAgICBjYXNlICdBQ1RJVkUnOgogICAgICByZXR1cm4gJ3N1Y2Nlc3MnOwoKICAgIGNhc2UgJ0RJU0FCTEVEJzoKICAgICAgcmV0dXJuICdkYW5nZXInOwoKICAgIGNhc2UgJ0RFTEVURUQnOgogICAgICByZXR1cm4gJ3dhcm5pbmcnOwoKICAgIGNhc2UgJ0Jhbm5lZCc6CiAgICAgIHJldHVybiAnZGFuZ2VyJzsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gJ3ByaW1hcnknOwogIH0KfTsKCnZhciBQcm9kdWN0ID0gZnVuY3Rpb24gUHJvZHVjdChwcm9wcykgewogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBfZGV0YWlscyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldERldGFpbHMgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IodXNlclNhZmVTZWxlY3RvciksCiAgICAgIGFjY291bnQgPSBfdXNlU2VsZWN0b3IuYWNjb3VudDsKCiAgdmFyIGlzQWRtaW4gPSBhY2NvdW50LmF1dGhvcml0aWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIGl0ZW0gPT09ICdST0xFX0FETUlOJzsKICB9KS5sZW5ndGggPiAwOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnByb2R1Y3Q7CiAgfSksCiAgICAgIGluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3RvcjIuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKDEpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRBY3RpdmVQYWdlID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZSg1MCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2l6ZSA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldFNpemUgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHZhciBwYXJhbVJlZiA9IHVzZVJlZihudWxsKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2gocmVzZXQoKSk7CiAgfSwgW10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICB2YXIgbG9jYWxQYXJhbXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGFyYW1zJyk7CgogICAgdmFyIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQoewogICAgICBwYWdlOiBhY3RpdmVQYWdlIC0gMSwKICAgICAgc2l6ZTogc2l6ZSwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICB9LCBwYXJhbVJlZi5jdXJyZW50KTsKCiAgICBpZiAobG9jYWxQYXJhbXMpIHsKICAgICAgcGFyYW1zID0gSlNPTi5wYXJzZShsb2NhbFBhcmFtcyk7CiAgICAgIHNldEFjdGl2ZVBhZ2UocGFyYW1zLnBhZ2UgKyAxKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BhcmFtcycpOwogICAgfQoKICAgIGRpc3BhdGNoKGdldFByb2R1Y3QocGFyYW1zKSk7CiAgfSwgW2FjdGl2ZVBhZ2UsIHNpemVdKTsKICB2YXIgcHJvZHVjdHMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGwpOwoKICB2YXIgY29tcHV0ZWRJdGVtcyA9IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoaXRlbXMpIHsKICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdmFyIF9pdGVtJHByb2R1Y3RHcm91cDsKCiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgIHByb2R1Y3RHcm91cDogKF9pdGVtJHByb2R1Y3RHcm91cCA9IGl0ZW0ucHJvZHVjdEdyb3VwKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0R3JvdXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3RHcm91cC5uYW1lLAogICAgICAgIGNyZWF0ZWREYXRlOiBtb21lbnQoaXRlbS5jcmVhdGVkRGF0ZSkuZm9ybWF0KCdERC1NTS1ZWVlZJykKICAgICAgfSk7CiAgICB9KTsKICB9OwoKICB2YXIgdG9nZ2xlRGV0YWlscyA9IGZ1bmN0aW9uIHRvZ2dsZURldGFpbHMoaW5kZXgpIHsKICAgIHZhciBwb3NpdGlvbiA9IF9kZXRhaWxzLmluZGV4T2YoaW5kZXgpOwoKICAgIHZhciBuZXdEZXRhaWxzID0gX2RldGFpbHMuc2xpY2UoKTsKCiAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7CiAgICAgIG5ld0RldGFpbHMuc3BsaWNlKHBvc2l0aW9uLCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIG5ld0RldGFpbHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF9kZXRhaWxzKSwgW2luZGV4XSk7CiAgICB9CgogICAgc2V0RGV0YWlscyhuZXdEZXRhaWxzKTsKICB9OwoKICB2YXIgY3N2Q29udGVudCA9IGNvbXB1dGVkSXRlbXMocHJvZHVjdHMpLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoaXRlbSkuam9pbignLCcpOwogIH0pLmpvaW4oJ1xuJyk7CiAgdmFyIGNzdkNvZGUgPSAnZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LFNFUD0sJTBBJyArIGVuY29kZVVSSUNvbXBvbmVudChjc3ZDb250ZW50KTsKCiAgdmFyIHRvQ3JlYXRlUHJvZHVjdCA9IGZ1bmN0aW9uIHRvQ3JlYXRlUHJvZHVjdCgpIHsKICAgIHZhciBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgcGFnZTogYWN0aXZlUGFnZSAtIDEsCiAgICAgIHNpemU6IHNpemUsCiAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgfSwgcGFyYW1SZWYuY3VycmVudCk7CgogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BhcmFtcycsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpOwogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvbmV3IikpOwogIH07CgogIHZhciB0b0VkaXRQcm9kdWN0ID0gZnVuY3Rpb24gdG9FZGl0UHJvZHVjdCh1c2VySWQpIHsKICAgIHZhciBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgcGFnZTogYWN0aXZlUGFnZSAtIDEsCiAgICAgIHNpemU6IHNpemUsCiAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgfSwgcGFyYW1SZWYuY3VycmVudCk7CgogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BhcmFtcycsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpOwogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvIikuY29uY2F0KHVzZXJJZCwgIi9lZGl0IikpOwogIH07CgogIHZhciBkZWJvdW5jZWRTZWFyY2hDb2x1bW4gPSB1c2VDYWxsYmFjayhfLmRlYm91bmNlKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPiAwKSB7CiAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoIXZhbHVlW2tleV0pIGRlbGV0ZSB2YWx1ZVtrZXldOwogICAgICB9KTsKICAgICAgcGFyYW1SZWYuY3VycmVudCA9IHZhbHVlOwogICAgICBkaXNwYXRjaChnZXRQcm9kdWN0KF9vYmplY3RTcHJlYWQoewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgICAgfSwgdmFsdWUpKSk7CiAgICB9CiAgfSwgMzAwKSwgW10pOwoKICB2YXIgb25GaWx0ZXJDb2x1bW4gPSBmdW5jdGlvbiBvbkZpbHRlckNvbHVtbih2YWx1ZSkgewogICAgZGVib3VuY2VkU2VhcmNoQ29sdW1uKHZhbHVlKTsKICB9OwoKICB2YXIgbWVtb0NvbXB1dGVkSXRlbXMgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoaXRlbXMpIHsKICAgIHJldHVybiBjb21wdXRlZEl0ZW1zKGl0ZW1zKTsKICB9LCBbXSk7CiAgdmFyIG1lbW9MaXN0ZWQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBtZW1vQ29tcHV0ZWRJdGVtcyhwcm9kdWN0cyk7CiAgfSwgW3Byb2R1Y3RzXSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtZ3JpZCIKICB9KSwgIiBEYW5oIHNceEUxY2ggc1x1MUVBM24gcGhcdTFFQTltIiwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BPU1QnICYmIHJvbC5lbnRpdHkgPT09ICcvYXBpL3Byb2R1Y3RzJzsKICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICBvbkNsaWNrOiB0b0NyZWF0ZVByb2R1Y3QKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1wbHVzIgogIH0pLCAiIFRoXHhFQW0gbVx1MUVEQmkgc1x1MUVBM24gcGhcdTFFQTltIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICBjbGFzc05hbWU6ICJtYi0yIiwKICAgIGhyZWY6IGNzdkNvZGUsCiAgICBkb3dubG9hZDogImNvcmV1aS10YWJsZS1kYXRhLmNzdiIsCiAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgfSwgIlRcdTFFQTNpIGV4Y2VsICguY3N2KSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICByZXNwb25zaXZlOiB0cnVlLAogICAgaXRlbXM6IG1lbW9MaXN0ZWQsCiAgICBmaWVsZHM6IGZpZWxkcywKICAgIGNvbHVtbkZpbHRlcjogdHJ1ZSwKICAgIHRhYmxlRmlsdGVyOiB0cnVlLAogICAgY2xlYW5lcjogdHJ1ZSwKICAgIGl0ZW1zUGVyUGFnZVNlbGVjdDogewogICAgICBsYWJlbDogJ1Phu5EgbMaw4bujbmcgdHLDqm4gbeG7mXQgdHJhbmcnLAogICAgICB2YWx1ZXM6IFs1MCwgMTAwLCAxNTAsIDIwMF0KICAgIH0sCiAgICBpdGVtc1BlclBhZ2U6IHNpemUsCiAgICBob3ZlcjogdHJ1ZSwKICAgIHNvcnRlcjogdHJ1ZSwKICAgIGxvYWRpbmc6IGluaXRpYWxTdGF0ZS5sb2FkaW5nIC8vIG9uUm93Q2xpY2s9eyhpdGVtLGluZGV4LGNvbCxlKSA9PiBjb25zb2xlLmxvZyhpdGVtLGluZGV4LGNvbCxlKX0KICAgICwKICAgIG9uUGFnZUNoYW5nZTogZnVuY3Rpb24gb25QYWdlQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlOicsIHZhbCk7CiAgICB9LAogICAgb25QYWdlc0NoYW5nZTogZnVuY3Rpb24gb25QYWdlc0NoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgcGFnZXM6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2luYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIHNldFNpemUodmFsKTsKICAgIH0gLy8gb25GaWx0ZXJlZEl0ZW1zQ2hhbmdlPXsodmFsKSA9PiBjb25zb2xlLmxvZygnbmV3IGZpbHRlcmVkIGl0ZW1zOicsIHZhbCl9CiAgICAvLyBvblNvcnRlclZhbHVlQ2hhbmdlPXsodmFsKSA9PiBjb25zb2xlLmxvZygnbmV3IHNvcnRlciB2YWx1ZTonLCB2YWwpfQogICAgLAogICAgb25UYWJsZUZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25UYWJsZUZpbHRlckNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgdGFibGUgZmlsdGVyOicsIHZhbCk7CiAgICB9LAogICAgb25Db2x1bW5GaWx0ZXJDaGFuZ2U6IG9uRmlsdGVyQ29sdW1uLAogICAgc2NvcGVkU2xvdHM6IHsKICAgICAgb3JkZXI6IGZ1bmN0aW9uIG9yZGVyKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGluZGV4ICsgMSk7CiAgICAgIH0sCiAgICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0JhZGdlLCB7CiAgICAgICAgICBjb2xvcjogZ2V0QmFkZ2UoaXRlbS5zdGF0dXMpCiAgICAgICAgfSwgbWFwcGluZ1N0YXR1c1tpdGVtLnN0YXR1c10pKTsKICAgICAgfSwKICAgICAgcHJpY2U6IGZ1bmN0aW9uIHByaWNlKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgbmV3IEludGwuTnVtYmVyRm9ybWF0KCd2aS1WTicsIHsKICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgfSkuZm9ybWF0KGl0ZW0ucHJpY2UpKTsKICAgICAgfSwKICAgICAgYWdlbnRQcmljZTogZnVuY3Rpb24gYWdlbnRQcmljZShpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIG5ldyBJbnRsLk51bWJlckZvcm1hdCgndmktVk4nLCB7CiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgIH0pLmZvcm1hdChpdGVtLmFnZW50UHJpY2UpKTsKICAgICAgfSwKICAgICAgc2hvd19kZXRhaWxzOiBmdW5jdGlvbiBzaG93X2RldGFpbHMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJkLWZsZXggcHktMiIKICAgICAgICB9LCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgICAgICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUFVUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS9wcm9kdWN0cyc7CiAgICAgICAgfSkubGVuZ3RoID4gMCkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0zIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHRvRWRpdFByb2R1Y3QoaXRlbS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICJjaWwtcGVuY2lsIgogICAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICB0b2dnbGVEZXRhaWxzKGl0ZW0uaWQpOwogICAgICAgICAgfQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsWm9vbSIKICAgICAgICB9KSkpOwogICAgICB9LAogICAgICBkZXRhaWxzOiBmdW5jdGlvbiBkZXRhaWxzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbGxhcHNlLCB7CiAgICAgICAgICBzaG93OiBfZGV0YWlscy5pbmNsdWRlcyhpdGVtLmlkKQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIlRoXHhGNG5nIHRpbiBuZ1x1MDFCMFx1MUVERGkgZFx4RjluZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBsZzogIjYiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJNXHhFMzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5jb2RlKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiVFx4RUFuIHNcdTFFQTNuIHBoXHUxRUE5bToiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiXHUwMTEwXHUwMUExbiB2XHUxRUNCOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLnVuaXQpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJHaVx4RTEgXHUwMTExXHUxRUExaSBsXHhGRDoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgbmV3IEludGwuTnVtYmVyRm9ybWF0KCd2aS1WTicsIHsKICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgfSkuZm9ybWF0KGl0ZW0uYWdlbnRQcmljZSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICAgIGxnOiAiNiIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIkdpXHhFMSBzYWxvbjoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgbmV3IEludGwuTnVtYmVyRm9ybWF0KCd2aS1WTicsIHsKICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgfSkuZm9ybWF0KGl0ZW0ucHJpY2UpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiTmhceEYzbSBzXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5wcm9kdWN0R3JvdXApKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJNXHhGNCB0XHUxRUEzOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmRlc2MpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUclx1MUVBMW5nIHRoXHhFMWkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5zdGF0dXMpKSkpKSk7CiAgICAgIH0KICAgIH0KICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1BhZ2luYXRpb24sIHsKICAgIGFjdGl2ZVBhZ2U6IGFjdGl2ZVBhZ2UsCiAgICBwYWdlczogTWF0aC5mbG9vcihpbml0aWFsU3RhdGUudG90YWxJdGVtIC8gc2l6ZSkgKyAxLAogICAgb25BY3RpdmVQYWdlQ2hhbmdlOiBmdW5jdGlvbiBvbkFjdGl2ZVBhZ2VDaGFuZ2UoaSkgewogICAgICByZXR1cm4gc2V0QWN0aXZlUGFnZShpKTsKICAgIH0KICB9KSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/product/ProductList/Products.js"],"names":["React","useCallback","useEffect","useRef","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CCol","CPagination","CIcon","useDispatch","useSelector","getProduct","globalizedProductSelectors","reset","useHistory","userSafeSelector","moment","_","mappingStatus","ACTIVE","DISABLED","DELETED","selectAll","fields","key","label","_style","width","filter","getBadge","status","Product","props","details","setDetails","account","isAdmin","authorities","item","length","state","product","initialState","activePage","setActivePage","size","setSize","dispatch","history","paramRef","localParams","localStorage","getItem","params","page","sort","current","JSON","parse","removeItem","products","computedItems","items","map","productGroup","name","createdDate","format","toggleDetails","index","position","indexOf","newDetails","slice","splice","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateProduct","setItem","stringify","push","match","url","toEditProduct","userId","debouncedSearchColumn","debounce","value","keys","forEach","onFilterColumn","memoComputedItems","memoListed","useMemo","role","rol","method","entity","loading","val","console","log","order","price","Intl","NumberFormat","style","currency","agentPrice","show_details","id","includes","code","unit","desc","Math","floor","totalItem","i"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,MAAxC,EAAgDC,QAAhD,QAAgE,OAAhE;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,SAArC,EAAgDC,UAAhD,EAA4DC,KAA5D,EAAmEC,WAAnE,EAAgFC,IAAhF,EAAsFC,IAAtF,EAA4FC,WAA5F,QAA+G,mBAA/G,C,CACA;;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,0BAAT,EAAqCC,KAArC,QAAkD,sBAAlD;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,gBAAT,QAAiC,qCAAjC;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,IAAMC,aAAa,GAAG;AACpBC,EAAAA,MAAM,EAAE,gBADY;AAEpBC,EAAAA,QAAQ,EAAE,iBAFU;AAGpBC,EAAAA,OAAO,EAAE;AAHW,CAAtB;IAKQC,S,GAAcV,0B,CAAdU,S,EACN;;AACA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,GAAG,EAAE,OADP;AAEEC,EAAAA,KAAK,EAAE,KAFT;AAGEC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAHV;AAIEC,EAAAA,MAAM,EAAE;AAJV,CADa,EAOb;AAAEJ,EAAAA,GAAG,EAAE,MAAP;AAAeC,EAAAA,KAAK,EAAE,IAAtB;AAA4BC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAApC,CAPa,EAQb;AAAEH,EAAAA,GAAG,EAAE,MAAP;AAAeC,EAAAA,KAAK,EAAE,cAAtB;AAAsCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA9C,CARa,EASb;AAAEH,EAAAA,GAAG,EAAE,OAAP;AAAgBC,EAAAA,KAAK,EAAE,WAAvB;AAAoCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA5C,CATa,EAUb;AAAEH,EAAAA,GAAG,EAAE,YAAP;AAAqBC,EAAAA,KAAK,EAAE,YAA5B;AAA0CC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAlD,CAVa,EAWb;AAAEH,EAAAA,GAAG,EAAE,cAAP;AAAuBC,EAAAA,KAAK,EAAE,eAA9B;AAA+CC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAvD,CAXa,EAYb;AAAEH,EAAAA,GAAG,EAAE,QAAP;AAAiBC,EAAAA,KAAK,EAAE,YAAxB;AAAsCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA9C,CAZa,EAab;AACEH,EAAAA,GAAG,EAAE,cADP;AAEEE,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAFV;AAGEF,EAAAA,KAAK,EAAE,EAHT;AAIEG,EAAAA,MAAM,EAAE;AAJV,CAba,CAAf;;AAqBA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,MAAM,EAAI;AACzB,UAAQA,MAAR;AACE,SAAK,QAAL;AACE,aAAO,SAAP;;AACF,SAAK,UAAL;AACE,aAAO,QAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF,SAAK,QAAL;AACE,aAAO,QAAP;;AACF;AACE,aAAO,SAAP;AAVJ;AAYD,CAbD;;AAcF,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,KAAK,EAAI;AAAA,kBACOnC,QAAQ,CAAC,EAAD,CADf;AAAA;AAAA,MAChBoC,QADgB;AAAA,MACPC,UADO;;AAAA,qBAEHxB,WAAW,CAACK,gBAAD,CAFR;AAAA,MAEfoB,OAFe,gBAEfA,OAFe;;AAGvB,MAAMC,OAAO,GAAGD,OAAO,CAACE,WAAR,CAAoBT,MAApB,CAA2B,UAAAU,IAAI;AAAA,WAAIA,IAAI,KAAK,YAAb;AAAA,GAA/B,EAA0DC,MAA1D,GAAmE,CAAnF;;AAHuB,sBAIE7B,WAAW,CAAC,UAAA8B,KAAK;AAAA,WAAIA,KAAK,CAACC,OAAV;AAAA,GAAN,CAJb;AAAA,MAIfC,YAJe,iBAIfA,YAJe;;AAAA,mBAKa7C,QAAQ,CAAC,CAAD,CALrB;AAAA;AAAA,MAKhB8C,UALgB;AAAA,MAKJC,aALI;;AAAA,mBAMC/C,QAAQ,CAAC,EAAD,CANT;AAAA;AAAA,MAMhBgD,IANgB;AAAA,MAMVC,OANU;;AAOvB,MAAMC,QAAQ,GAAGtC,WAAW,EAA5B;AACA,MAAMuC,OAAO,GAAGlC,UAAU,EAA1B;AACA,MAAMmC,QAAQ,GAAGrD,MAAM,CAAC,IAAD,CAAvB;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACdoD,IAAAA,QAAQ,CAAClC,KAAK,EAAN,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;AAIAlB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMuD,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAApB;;AACA,QAAIC,MAAM;AAAKC,MAAAA,IAAI,EAAEX,UAAU,GAAG,CAAxB;AAA2BE,MAAAA,IAAI,EAAJA,IAA3B;AAAiCU,MAAAA,IAAI,EAAE;AAAvC,OAA8DN,QAAQ,CAACO,OAAvE,CAAV;;AACA,QAAIN,WAAJ,EAAiB;AACfG,MAAAA,MAAM,GAAGI,IAAI,CAACC,KAAL,CAAWR,WAAX,CAAT;AACAN,MAAAA,aAAa,CAACS,MAAM,CAACC,IAAP,GAAc,CAAf,CAAb;AACAH,MAAAA,YAAY,CAACQ,UAAb,CAAwB,QAAxB;AACD;;AACDZ,IAAAA,QAAQ,CAACpC,UAAU,CAAC0C,MAAD,CAAX,CAAR;AACD,GATQ,EASN,CAACV,UAAD,EAAaE,IAAb,CATM,CAAT;AAWA,MAAMe,QAAQ,GAAGlD,WAAW,CAACY,SAAD,CAA5B;;AACA,MAAMuC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,KAAK,EAAI;AAC7B,WAAOA,KAAK,CAACC,GAAN,CAAU,UAAAzB,IAAI,EAAI;AAAA;;AACvB,6CACKA,IADL;AAEE0B,QAAAA,YAAY,wBAAE1B,IAAI,CAAC0B,YAAP,uDAAE,mBAAmBC,IAFnC;AAGEC,QAAAA,WAAW,EAAElD,MAAM,CAACsB,IAAI,CAAC4B,WAAN,CAAN,CAAyBC,MAAzB,CAAgC,YAAhC;AAHf;AAKD,KANM,CAAP;AAOD,GARD;;AASA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,KAAK,EAAI;AAC7B,QAAMC,QAAQ,GAAGrC,QAAO,CAACsC,OAAR,CAAgBF,KAAhB,CAAjB;;AACA,QAAIG,UAAU,GAAGvC,QAAO,CAACwC,KAAR,EAAjB;;AACA,QAAIH,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBE,MAAAA,UAAU,CAACE,MAAX,CAAkBJ,QAAlB,EAA4B,CAA5B;AACD,KAFD,MAEO;AACLE,MAAAA,UAAU,gCAAOvC,QAAP,IAAgBoC,KAAhB,EAAV;AACD;;AACDnC,IAAAA,UAAU,CAACsC,UAAD,CAAV;AACD,GATD;;AAaA,MAAMG,UAAU,GAAGd,aAAa,CAACD,QAAD,CAAb,CAChBG,GADgB,CACZ,UAAAzB,IAAI;AAAA,WAAIsC,MAAM,CAACC,MAAP,CAAcvC,IAAd,EAAoBwC,IAApB,CAAyB,GAAzB,CAAJ;AAAA,GADQ,EAEhBA,IAFgB,CAEX,IAFW,CAAnB;AAGA,MAAMC,OAAO,GAAG,yCAAyCC,kBAAkB,CAACL,UAAD,CAA3E;;AACA,MAAMM,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,QAAM5B,MAAM;AAAKC,MAAAA,IAAI,EAAEX,UAAU,GAAG,CAAxB;AAA2BE,MAAAA,IAAI,EAAJA,IAA3B;AAAiCU,MAAAA,IAAI,EAAE;AAAvC,OAA8DN,QAAQ,CAACO,OAAvE,CAAZ;;AACAL,IAAAA,YAAY,CAAC+B,OAAb,CAAqB,QAArB,EAA+BzB,IAAI,CAAC0B,SAAL,CAAe9B,MAAf,CAA/B;AACAL,IAAAA,OAAO,CAACoC,IAAR,WAAgBpD,KAAK,CAACqD,KAAN,CAAYC,GAA5B;AACD,GAJD;;AAMA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,MAAM,EAAI;AAC9B,QAAMnC,MAAM;AAAKC,MAAAA,IAAI,EAAEX,UAAU,GAAG,CAAxB;AAA2BE,MAAAA,IAAI,EAAJA,IAA3B;AAAiCU,MAAAA,IAAI,EAAE;AAAvC,OAA8DN,QAAQ,CAACO,OAAvE,CAAZ;;AACAL,IAAAA,YAAY,CAAC+B,OAAb,CAAqB,QAArB,EAA+BzB,IAAI,CAAC0B,SAAL,CAAe9B,MAAf,CAA/B;AACAL,IAAAA,OAAO,CAACoC,IAAR,WAAgBpD,KAAK,CAACqD,KAAN,CAAYC,GAA5B,cAAmCE,MAAnC;AACD,GAJD;;AAMA,MAAMC,qBAAqB,GAAG/F,WAAW,CACvCuB,CAAC,CAACyE,QAAF,CAAW,UAAAC,KAAK,EAAI;AAClB,QAAIf,MAAM,CAACgB,IAAP,CAAYD,KAAZ,EAAmBpD,MAAnB,GAA4B,CAAhC,EAAmC;AACjCqC,MAAAA,MAAM,CAACgB,IAAP,CAAYD,KAAZ,EAAmBE,OAAnB,CAA2B,UAAArE,GAAG,EAAI;AAChC,YAAG,CAACmE,KAAK,CAACnE,GAAD,CAAT,EAAgB,OAAOmE,KAAK,CAACnE,GAAD,CAAZ;AACjB,OAFD;AAGAyB,MAAAA,QAAQ,CAACO,OAAT,GAAmBmC,KAAnB;AACA5C,MAAAA,QAAQ,CAACpC,UAAU;AAAG2C,QAAAA,IAAI,EAAE,CAAT;AAAYT,QAAAA,IAAI,EAAEA,IAAlB;AAAwBU,QAAAA,IAAI,EAAE;AAA9B,SAAqDoC,KAArD,EAAX,CAAR;AACD;AACF,GARD,EAQG,GARH,CADuC,EAUvC,EAVuC,CAAzC;;AAaA,MAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAAAH,KAAK,EAAI;AAC9BF,IAAAA,qBAAqB,CAACE,KAAD,CAArB;AACD,GAFD;;AAIA,MAAMI,iBAAiB,GAAGtG,KAAK,CAACC,WAAN,CAAkB,UAAAoE,KAAK;AAAA,WAAID,aAAa,CAACC,KAAD,CAAjB;AAAA,GAAvB,EAAiD,EAAjD,CAA1B;AACA,MAAMkC,UAAU,GAAGvG,KAAK,CAACwG,OAAN,CAAc;AAAA,WAAMF,iBAAiB,CAACnC,QAAD,CAAvB;AAAA,GAAd,EAAiD,CAACA,QAAD,CAAjD,CAAnB;AAEA,sBACE,oBAAC,KAAD,qBACE,oBAAC,WAAD,qBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC;AAAZ,IADF,sCAEG,CAACxB,OAAO,IAAID,OAAO,CAAC+D,IAAR,CAAatE,MAAb,CAAoB,UAAAuE,GAAG;AAAA,WAAIA,GAAG,CAACC,MAAJ,KAAe,MAAf,IAAyBD,GAAG,CAACE,MAAJ,KAAe,eAA5C;AAAA,GAAvB,EAAoF9D,MAApF,GAA6F,CAAzG,kBACC,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,OAAO,EAAC,SAAjC;AAA2C,IAAA,SAAS,EAAC,MAArD;AAA4D,IAAA,OAAO,EAAE0C;AAArE,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC;AAAZ,IADF,yCAHJ,CADF,eASE,oBAAC,SAAD,qBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,SAAS,EAAC,MAAnC;AAA0C,IAAA,IAAI,EAAEF,OAAhD;AAAyD,IAAA,QAAQ,EAAC,uBAAlE;AAA0F,IAAA,MAAM,EAAC;AAAjG,6BADF,eAIE,oBAAC,UAAD;AACE,IAAA,UAAU,EAAE,IADd;AAEE,IAAA,KAAK,EAAEiB,UAFT;AAGE,IAAA,MAAM,EAAEzE,MAHV;AAIE,IAAA,YAAY,MAJd;AAKE,IAAA,WAAW,MALb;AAME,IAAA,OAAO,MANT;AAOE,IAAA,kBAAkB,EAAE;AAAEE,MAAAA,KAAK,EAAE,yBAAT;AAAoCoD,MAAAA,MAAM,EAAE,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,GAAf;AAA5C,KAPtB;AAQE,IAAA,YAAY,EAAEhC,IARhB;AASE,IAAA,KAAK,MATP;AAUE,IAAA,MAAM,MAVR;AAWE,IAAA,OAAO,EAAEH,YAAY,CAAC4D,OAXxB,CAYE;AAZF;AAaE,IAAA,YAAY,EAAE,sBAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,GAAzB,CAAJ;AAAA,KAbnB;AAcE,IAAA,aAAa,EAAE,uBAAAA,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,GAA1B,CAAJ;AAAA,KAdpB;AAeE,IAAA,kBAAkB,EAAE,4BAAAA,GAAG;AAAA,aAAIzD,OAAO,CAACyD,GAAD,CAAX;AAAA,KAfzB,CAgBE;AACA;AAjBF;AAkBE,IAAA,mBAAmB,EAAE,6BAAAA,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC,CAAJ;AAAA,KAlB1B;AAmBE,IAAA,oBAAoB,EAAET,cAnBxB;AAoBE,IAAA,WAAW,EAAE;AACXY,MAAAA,KAAK,EAAE,eAACpE,IAAD,EAAO+B,KAAP;AAAA,4BAAiB,gCAAKA,KAAK,GAAG,CAAb,CAAjB;AAAA,OADI;AAEXvC,MAAAA,MAAM,EAAE,gBAAAQ,IAAI;AAAA,4BACV,6CACE,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAET,QAAQ,CAACS,IAAI,CAACR,MAAN;AAAvB,WAAuCZ,aAAa,CAACoB,IAAI,CAACR,MAAN,CAApD,CADF,CADU;AAAA,OAFD;AAOX6E,MAAAA,KAAK,EAAE,eAAArE,IAAI;AAAA,4BAAI,gCAAK,IAAIsE,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;AAAEC,UAAAA,KAAK,EAAE,UAAT;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B,SAA/B,EAAuE5C,MAAvE,CAA8E7B,IAAI,CAACqE,KAAnF,CAAL,CAAJ;AAAA,OAPA;AAQXK,MAAAA,UAAU,EAAE,oBAAA1E,IAAI;AAAA,4BAAI,gCAAK,IAAIsE,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;AAAEC,UAAAA,KAAK,EAAE,UAAT;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B,SAA/B,EAAuE5C,MAAvE,CAA8E7B,IAAI,CAAC0E,UAAnF,CAAL,CAAJ;AAAA,OARL;AASXC,MAAAA,YAAY,EAAE,sBAAA3E,IAAI,EAAI;AACpB,4BACE;AAAI,UAAA,SAAS,EAAC;AAAd,WACG,CAACF,OAAO,IAAID,OAAO,CAAC+D,IAAR,CAAatE,MAAb,CAAoB,UAAAuE,GAAG;AAAA,iBAAIA,GAAG,CAACC,MAAJ,KAAe,KAAf,IAAwBD,GAAG,CAACE,MAAJ,KAAe,eAA3C;AAAA,SAAvB,EAAmF9D,MAAnF,GAA4F,CAAxG,kBACC,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,KAAK,EAAC,QAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,SAAS,EAAC,MALZ;AAME,UAAA,OAAO,EAAE,mBAAM;AACbgD,YAAAA,aAAa,CAACjD,IAAI,CAAC4E,EAAN,CAAb;AACD;AARH,wBAUE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UAVF,CAFJ,eAeE,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,KAAK,EAAC,QAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,OAAO,EAAE,mBAAM;AACb9C,YAAAA,aAAa,CAAC9B,IAAI,CAAC4E,EAAN,CAAb;AACD;AAPH,wBASE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UATF,CAfF,CADF;AA6BD,OAvCU;AAwCXjF,MAAAA,OAAO,EAAE,iBAAAK,IAAI,EAAI;AACf,4BACE,oBAAC,SAAD;AAAW,UAAA,IAAI,EAAEL,QAAO,CAACkF,QAAR,CAAiB7E,IAAI,CAAC4E,EAAtB;AAAjB,wBACE,oBAAC,SAAD,qBACE,uEADF,eAEE,oBAAC,IAAD,qBACE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC;AAAT,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,oBADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B5E,IAAI,CAAC8E,IAA/B,CAFF,CADF,eAKE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,wCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B9E,IAAI,CAAC2B,IAA/B,CAFF,CALF,eASE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,oCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B3B,IAAI,CAAC+E,IAA/B,CAFF,CATF,eAaE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,yCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WACG,IAAIT,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;AAAEC,UAAAA,KAAK,EAAE,UAAT;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B,SAA/B,EAAuE5C,MAAvE,CAA8E7B,IAAI,CAAC0E,UAAnF,CADH,CAFF,CAbF,CADF,eAqBE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC;AAAT,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,2BADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WACG,IAAIJ,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;AAAEC,UAAAA,KAAK,EAAE,UAAT;AAAqBC,UAAAA,QAAQ,EAAE;AAA/B,SAA/B,EAAuE5C,MAAvE,CAA8E7B,IAAI,CAACqE,KAAnF,CADH,CAFF,CADF,eAOE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,wCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BrE,IAAI,CAAC0B,YAA/B,CAFF,CAPF,eAWE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,4BADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B1B,IAAI,CAACgF,IAA/B,CAFF,CAXF,eAeE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,gCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BhF,IAAI,CAACR,MAA/B,CAFF,CAfF,CArBF,CAFF,CADF,CADF;AAiDD;AA1FU;AApBf,IAJF,eAqHE,oBAAC,WAAD;AACE,IAAA,UAAU,EAAEa,UADd;AAEE,IAAA,KAAK,EAAE4E,IAAI,CAACC,KAAL,CAAW9E,YAAY,CAAC+E,SAAb,GAAyB5E,IAApC,IAA4C,CAFrD;AAGE,IAAA,kBAAkB,EAAE,4BAAA6E,CAAC;AAAA,aAAI9E,aAAa,CAAC8E,CAAD,CAAjB;AAAA;AAHvB,IArHF,CATF,CADF;AAuID,CA5ND;;AA8NA,eAAe3F,OAAf","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CCol, CPagination } from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProduct } from './product.api.js';\nimport { globalizedProductSelectors, reset } from './product.reducer.js';\nimport { useHistory } from 'react-router-dom';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\nimport moment from 'moment';\nimport _ from 'lodash'\nconst mappingStatus = {\n  ACTIVE: 'ĐANG HOẠT ĐỘNG',\n  DISABLED: 'KHÔNG HOẠT ĐỘNG',\n  DELETED: 'ĐÃ XÓA'\n};\nconst { selectAll } = globalizedProductSelectors;\n  // Code\tTên sản phẩm\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tNhóm sản phẩm\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: { width: '1%' },\n      filter: false\n    },\n    { key: 'code', label: 'Mã', _style: { width: '10%' } },\n    { key: 'name', label: 'Tên sản phẩm', _style: { width: '10%' } },\n    { key: 'price', label: 'Giá salon', _style: { width: '15%' } },\n    { key: 'agentPrice', label: 'Giá đại lý', _style: { width: '10%' } },\n    { key: 'productGroup', label: 'Nhóm sản phẩm', _style: { width: '10%' } },\n    { key: 'status', label: 'Trạng thái', _style: { width: '10%' } },\n    {\n      key: 'show_details',\n      _style: { width: '10%' },\n      label: '',\n      filter: false\n    }\n  ];\n\n  const getBadge = status => {\n    switch (status) {\n      case 'ACTIVE':\n        return 'success';\n      case 'DISABLED':\n        return 'danger';\n      case 'DELETED':\n        return 'warning';\n      case 'Banned':\n        return 'danger';\n      default:\n        return 'primary';\n    }\n  };\nconst Product = props => {\n  const [details, setDetails] = useState([]);\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  const { initialState } = useSelector(state => state.product);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(50);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const paramRef = useRef(null);\n\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    const localParams = localStorage.getItem('params');\n    let params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    if (localParams) {\n      params = JSON.parse(localParams);\n      setActivePage(params.page + 1);\n      localStorage.removeItem('params');\n    }\n    dispatch(getProduct(params));\n  }, [activePage, size]);\n\n  const products = useSelector(selectAll);\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        productGroup: item.productGroup?.name,\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY')\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n\n\n  const csvContent = computedItems(products)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateProduct = () => {\n    const params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    localStorage.setItem('params', JSON.stringify(params));\n    history.push(`${props.match.url}/new`);\n  };\n\n  const toEditProduct = userId => {\n    const params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    localStorage.setItem('params', JSON.stringify(params));\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n\n  const debouncedSearchColumn = useCallback(\n    _.debounce(value => {\n      if (Object.keys(value).length > 0) {\n        Object.keys(value).forEach(key => {\n          if(!value[key]) delete value[key]\n        })\n        paramRef.current = value;\n        dispatch(getProduct({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n      }\n    }, 300),\n    []\n  );\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value)\n  };\n\n  const memoComputedItems = React.useCallback(items => computedItems(items), []);\n  const memoListed = React.useMemo(() => memoComputedItems(products), [products]);\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách sản phẩm\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/products').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateProduct}>\n            <CIcon name=\"cil-plus\" /> Thêm mới sản phẩm\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CDataTable\n          responsive={true}\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [50, 100, 150, 200] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          loading={initialState.loading}\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={val => console.log('new page:', val)}\n          onPagesChange={val => console.log('new pages:', val)}\n          onPaginationChange={val => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={val => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            status: item => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{mappingStatus[item.status]}</CBadge>\n              </td>\n            ),\n            price: item => <td>{new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(item.price)}</td>,\n            agentPrice: item => <td>{new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(item.agentPrice)}</td>,\n            show_details: item => {\n              return (\n                <td className=\"d-flex py-2\">\n                  {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/products').length > 0) && (\n                    <CButton\n                      color=\"primary\"\n                      variant=\"outline\"\n                      shape=\"square\"\n                      size=\"sm\"\n                      className=\"mr-3\"\n                      onClick={() => {\n                        toEditProduct(item.id);\n                      }}\n                    >\n                      <CIcon name=\"cil-pencil\" />\n                    </CButton>\n                  )}\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                </td>\n              );\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin người dùng</h5>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Mã:</dt>\n                          <dd className=\"col-sm-9\">{item.code}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên sản phẩm:</dt>\n                          <dd className=\"col-sm-9\">{item.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Đơn vị:</dt>\n                          <dd className=\"col-sm-9\">{item.unit}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Giá đại lý:</dt>\n                          <dd className=\"col-sm-9\">\n                            {new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(item.agentPrice)}\n                          </dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Giá salon:</dt>\n                          <dd className=\"col-sm-9\">\n                            {new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(item.price)}\n                          </dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Nhóm sản phẩm</dt>\n                          <dd className=\"col-sm-9\">{item.productGroup}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Mô tả:</dt>\n                          <dd className=\"col-sm-9\">{item.desc}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Trạng thái</dt>\n                          <dd className=\"col-sm-9\">{item.status}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default Product;\n"]}]}