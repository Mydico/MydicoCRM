{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/CreateOrder.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/CreateOrder.js","mtime":1619030466840},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0J1dHRvbiwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDQ2FyZEJvZHksIENDb2wsIENGb3JtLCBDQ2FyZFRpdGxlLCBDTGFiZWwsIENJbnB1dCwgQ0NvbGxhcHNlLCBDUm93LCBDRm9ybUdyb3VwLCBDVGV4dGFyZWEgfSBmcm9tICdAY29yZXVpL3JlYWN0JzsKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QnOwppbXBvcnQgeyBGb3JtLCBGb3JtaWsgfSBmcm9tICdmb3JtaWsnOwppbXBvcnQgKiBhcyBZdXAgZnJvbSAneXVwJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBjcmVhdGluZ09yZGVyIH0gZnJvbSAnLi9vcmRlci5hcGknOwppbXBvcnQgVG9hc3RlciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL25vdGlmaWNhdGlvbnMvdG9hc3Rlci9Ub2FzdGVyJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBjdXJyZW5jeU1hc2sgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2N1cnJlbmN5LWlucHV0L2N1cnJlbmN5LWlucHV0JzsKaW1wb3J0IE1hc2tlZElucHV0IGZyb20gJ3JlYWN0LXRleHQtbWFzayc7CmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JzsKaW1wb3J0IHsgZ2xvYmFsaXplZEN1c3RvbWVyU2VsZWN0b3JzIH0gZnJvbSAnLi4vLi4vY3VzdG9tZXIvY3VzdG9tZXIucmVkdWNlcic7CmltcG9ydCB7IGdldEN1c3RvbWVyIH0gZnJvbSAnLi4vLi4vY3VzdG9tZXIvY3VzdG9tZXIuYXBpJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFByb21vdGlvblNlbGVjdG9ycyB9IGZyb20gJy4uL1Byb21vdGlvbi9wcm9tb3Rpb24ucmVkdWNlcic7CmltcG9ydCB7IGdldFByb21vdGlvbiwgZ2V0UHJvbW90aW9uUHJvZHVjdCB9IGZyb20gJy4uL1Byb21vdGlvbi9wcm9tb3Rpb24uYXBpJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFdhcmVob3VzZVNlbGVjdG9ycyB9IGZyb20gJy4uLy4uL3dhcmVob3VzZS9XYXJlaG91c2Uvd2FyZWhvdXNlLnJlZHVjZXInOwppbXBvcnQgeyBnZXRXYXJlaG91c2UgfSBmcm9tICcuLi8uLi93YXJlaG91c2UvV2FyZWhvdXNlL3dhcmVob3VzZS5hcGknOwppbXBvcnQgeyBnZXREZXRhaWxQcm9kdWN0UHJvbW90aW9uIH0gZnJvbSAnLi4vUHJvbW90aW9uL3Byb21vdGlvbi5hcGknOwppbXBvcnQgeyBnbG9iYWxpemVkUHJvZHVjdFdhcmVob3VzZVNlbGVjdG9ycyB9IGZyb20gJy4uLy4uL3dhcmVob3VzZS9Qcm9kdWN0L3Byb2R1Y3Qtd2FyZWhvdXNlLnJlZHVjZXInOwppbXBvcnQgeyBnZXRQcm9kdWN0V2FyZWhvdXNlIH0gZnJvbSAnLi4vLi4vd2FyZWhvdXNlL1Byb2R1Y3QvcHJvZHVjdC13YXJlaG91c2UuYXBpJzsKaW1wb3J0IHsgRm9ybUZlZWRiYWNrLCBUYWJsZSB9IGZyb20gJ3JlYWN0c3RyYXAnOwoKdmFyIHZhbGlkYXRpb25TY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0aW9uU2NoZW1hKHZhbHVlcykgewogIHJldHVybiBZdXAub2JqZWN0KCkuc2hhcGUoewogICAgY3VzdG9tZXI6IFl1cC5vYmplY3QoKS5yZXF1aXJlZCgnS2jDoWNoIGjDoG5nICBraMO0bmcgxJHhu4MgdHLhu5FuZycpLm51bGxhYmxlKCksCiAgICBwcm9tb3Rpb246IFl1cC5vYmplY3QoKS5yZXF1aXJlZCgnQ2jGsMahbmcgdHLDrG5oIGLDoW4gaMOgbmcga2jDtG5nIMSR4buDIHRy4buRbmcnKS5udWxsYWJsZSgpCiAgfSk7Cn07Cgp2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShnZXRWYWxpZGF0aW9uU2NoZW1hKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZXMpIHsKICAgIHZhciB2YWxpZGF0aW9uU2NoZW1hID0gZ2V0VmFsaWRhdGlvblNjaGVtYSh2YWx1ZXMpOwoKICAgIHRyeSB7CiAgICAgIHZhbGlkYXRpb25TY2hlbWEudmFsaWRhdGVTeW5jKHZhbHVlcywgewogICAgICAgIGFib3J0RWFybHk6IGZhbHNlCiAgICAgIH0pOwogICAgICByZXR1cm4ge307CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICByZXR1cm4gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcihlcnJvcik7CiAgICB9CiAgfTsKfTsKCnZhciBnZXRFcnJvcnNGcm9tVmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcih2YWxpZGF0aW9uRXJyb3IpIHsKICB2YXIgRklSU1RfRVJST1IgPSAwOwogIHJldHVybiB2YWxpZGF0aW9uRXJyb3IuaW5uZXIucmVkdWNlKGZ1bmN0aW9uIChlcnJvcnMsIGVycm9yKSB7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBlcnJvcnMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBlcnJvci5wYXRoLCBlcnJvci5lcnJvcnNbRklSU1RfRVJST1JdKSk7CiAgfSwge30pOwp9OwoKdmFyIGZpbmRGaXJzdEVycm9yID0gZnVuY3Rpb24gZmluZEZpcnN0RXJyb3IoZm9ybU5hbWUsIGhhc0Vycm9yKSB7CiAgdmFyIGZvcm0gPSBkb2N1bWVudC5mb3Jtc1tmb3JtTmFtZV07CgogIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybS5sZW5ndGg7IGkrKykgewogICAgaWYgKGhhc0Vycm9yKGZvcm1baV0ubmFtZSkpIHsKICAgICAgZm9ybVtpXS5mb2N1cygpOwogICAgICBicmVhazsKICAgIH0KICB9Cn07Cgp2YXIgdmFsaWRhdGVGb3JtID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGVycm9ycykgewogIGZpbmRGaXJzdEVycm9yKCdzaW1wbGVGb3JtJywgZnVuY3Rpb24gKGZpZWxkTmFtZSkgewogICAgcmV0dXJuIEJvb2xlYW4oZXJyb3JzW2ZpZWxkTmFtZV0pOwogIH0pOwp9OwoKdmFyIG1hcHBpbmdUeXBlID0gewogIFNIT1JUVEVSTTogJ05n4bqvbiBo4bqhbicsCiAgTE9OR1RFUk06ICdEw6BpIGjhuqFuJwp9OwoKdmFyIENyZWF0ZU9yZGVyID0gZnVuY3Rpb24gQ3JlYXRlT3JkZXIocHJvcHMpIHsKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUub3JkZXI7CiAgfSksCiAgICAgIGluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3Rvci5pbml0aWFsU3RhdGU7CgogIHZhciBfdXNlU2VsZWN0b3IyID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvbW90aW9uOwogIH0pLAogICAgICBwcm9tb3Rpb25TdGF0ZSA9IF91c2VTZWxlY3RvcjIuaW5pdGlhbFN0YXRlOwoKICB2YXIgaW5pdGlhbFZhbHVlcyA9IHsKICAgIGN1c3RvbWVyOiBudWxsLAogICAgcHJvbW90aW9uOiBudWxsLAogICAgb3JkZXJEZXRhaWxzOiBbXSwKICAgIGNvZGU6ICcnLAogICAgbm90ZTogJycsCiAgICBhZGRyZXNzOiAnJwogIH07CiAgdmFyIHRvYXN0UmVmID0gdXNlUmVmKCk7CiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKICB2YXIgc2VsZWN0QWxsQ3VzdG9tZXIgPSBnbG9iYWxpemVkQ3VzdG9tZXJTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBzZWxlY3RBbGxQcm9tb3Rpb24gPSBnbG9iYWxpemVkUHJvbW90aW9uU2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgc2VsZWN0QWxsV2FyZWhvdXNlID0gZ2xvYmFsaXplZFdhcmVob3VzZVNlbGVjdG9ycy5zZWxlY3RBbGw7CiAgdmFyIHNlbGVjdEFsbFByb2R1Y3RJbldhcmVob3VzZSA9IGdsb2JhbGl6ZWRQcm9kdWN0V2FyZWhvdXNlU2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgY3VzdG9tZXJzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsQ3VzdG9tZXIpOwogIHZhciBwcm9tb3Rpb25zID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsUHJvbW90aW9uKTsKICB2YXIgd2FyZWhvdXNlcyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbFdhcmVob3VzZSk7CiAgdmFyIHByb2R1Y3RJbldhcmVob3VzZXMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGxQcm9kdWN0SW5XYXJlaG91c2UpOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpbml0Rm9ybVN0YXRlID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0SW5pdEZvcm1TdGF0ZSA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgc2VsZWN0ZWRDdXN0b21lciA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIHNlbGVjdGVkUHJvbW90aW9uID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0U2VsZWN0ZWRQcm9tb3Rpb24gPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgX3VzZVN0YXRlNyA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksCiAgICAgIHNlbGVjdGVkV2FyZWhvdXNlID0gX3VzZVN0YXRlOFswXSwKICAgICAgc2V0U2VsZWN0ZWRXYXJlaG91c2UgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgX3VzZVN0YXRlOSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU5LCAyKSwKICAgICAgcHJvZHVjdExpc3QgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0UHJvZHVjdExpc3QgPSBfdXNlU3RhdGUxMFsxXTsKCiAgdmFyIF91c2VTdGF0ZTExID0gdXNlU3RhdGUodHJ1ZSksCiAgICAgIF91c2VTdGF0ZTEyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTEsIDIpLAogICAgICBpc1NlbGVjdGVkV2FyZWhvdXNlID0gX3VzZVN0YXRlMTJbMF0sCiAgICAgIHNldElzU2VsZWN0ZWRXYXJlaG91c2UgPSBfdXNlU3RhdGUxMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTEzID0gdXNlU3RhdGUoZmFsc2UpLAogICAgICBfdXNlU3RhdGUxNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTEzLCAyKSwKICAgICAgc2hvd1Byb2R1Y3RQcm9tb3Rpb24gPSBfdXNlU3RhdGUxNFswXSwKICAgICAgc2V0U2hvd1Byb2R1Y3RQcm9tb3Rpb24gPSBfdXNlU3RhdGUxNFsxXTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRpc3BhdGNoKGdldEN1c3RvbWVyKCkpOwogICAgZGlzcGF0Y2goZ2V0UHJvbW90aW9uKHsKICAgICAgaXNMb2NrOiAwCiAgICB9KSk7CiAgICBkaXNwYXRjaChnZXRXYXJlaG91c2UoKSk7CiAgICB2YXIgZXhpc3RPcmRlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmRlcicpOwoKICAgIHRyeSB7CiAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShleGlzdE9yZGVyKTsKCiAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPiAwKSB7CiAgICAgICAgc2V0SW5pdEZvcm1TdGF0ZShkYXRhKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkge30KICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0Rm9ybVN0YXRlKSB7CiAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoaW5pdEZvcm1TdGF0ZS5jdXN0b21lcik7CiAgICAgIHNldFNlbGVjdGVkUHJvbW90aW9uKGluaXRGb3JtU3RhdGUucHJvbW90aW9uKTsKICAgICAgc2V0U2VsZWN0ZWRXYXJlaG91c2UoaW5pdEZvcm1TdGF0ZS5zdG9yZSk7CiAgICAgIHNldFByb2R1Y3RMaXN0KGluaXRGb3JtU3RhdGUub3JkZXJEZXRhaWxzKTsKICAgIH0KICB9LCBbaW5pdEZvcm1TdGF0ZV0pOwoKICB2YXIgdG9PcmRlckludm9pY2UgPSBmdW5jdGlvbiB0b09yZGVySW52b2ljZShkYXRhKSB7CiAgICBoaXN0b3J5LnB1c2goewogICAgICBwYXRobmFtZTogIiIuY29uY2F0KHByb3BzLm1hdGNoLnVybCwgIi9pbnZvaWNlIiksCiAgICAgIHN0YXRlOiBkYXRhCiAgICB9KTsKICB9OwoKICB2YXIgb25TdWJtaXQgPSBmdW5jdGlvbiBvblN1Ym1pdCh2YWx1ZXMsIF9yZWYpIHsKICAgIHZhciBzZXRTdWJtaXR0aW5nID0gX3JlZi5zZXRTdWJtaXR0aW5nLAogICAgICAgIHNldEVycm9ycyA9IF9yZWYuc2V0RXJyb3JzOwogICAgLy8gdmFsdWVzLmNvZGUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA5MDAwMCkgKyAxMDAwMDsKICAgIGlmICghdmFsdWVzLmFkZHJlc3MpIHZhbHVlcy5hZGRyZXNzID0gc2VsZWN0ZWRDdXN0b21lci5hZGRyZXNzOwogICAgdmFsdWVzLmN1c3RvbWVyID0gc2VsZWN0ZWRDdXN0b21lcjsKICAgIHZhbHVlcy5zdG9yZSA9IHNlbGVjdGVkV2FyZWhvdXNlOwogICAgdmFsdWVzLnByb21vdGlvbiA9IHNlbGVjdGVkUHJvbW90aW9uOwogICAgdmFsdWVzLm9yZGVyRGV0YWlscyA9IHByb2R1Y3RMaXN0OwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ29yZGVyJywgSlNPTi5zdHJpbmdpZnkodmFsdWVzKSk7CiAgICB0b09yZGVySW52b2ljZSh2YWx1ZXMpOyAvLyBkaXNwYXRjaChjcmVhdGluZ09yZGVyKHZhbHVlcykpOwogIH07CgogIHZhciBvblNlbGVjdEN1c3RvbWVyID0gZnVuY3Rpb24gb25TZWxlY3RDdXN0b21lcihfcmVmMikgewogICAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWU7CiAgICB2YXIgYXJyID0gY3VzdG9tZXJzLmZpbHRlcihmdW5jdGlvbiAoY3VzdG9tZXIpIHsKICAgICAgcmV0dXJuIGN1c3RvbWVyLmlkID09PSB2YWx1ZTsKICAgIH0pOwoKICAgIGlmIChhcnIubGVuZ3RoID09PSAxKSB7CiAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoYXJyWzBdKTsKICAgIH0KICB9OwoKICB2YXIgb25TZWxlY3RQcm9tb3Rpb24gPSBmdW5jdGlvbiBvblNlbGVjdFByb21vdGlvbihfcmVmMykgewogICAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWU7CiAgICB2YXIgYXJyID0gcHJvbW90aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGN1c3RvbWVyKSB7CiAgICAgIHJldHVybiBjdXN0b21lci5pZCA9PT0gdmFsdWU7CiAgICB9KTsKCiAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMSkgewogICAgICBzZXRTZWxlY3RlZFByb21vdGlvbihhcnJbMF0pOwogICAgfQogIH07CgogIHZhciBvblNlbGVjdGVkUHJvZHVjdCA9IGZ1bmN0aW9uIG9uU2VsZWN0ZWRQcm9kdWN0KF9yZWY0LCBpbmRleCkgewogICAgdmFyIHZhbHVlID0gX3JlZjQudmFsdWU7CgogICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgIGNvcHlBcnJbaW5kZXhdLnByaWNlUmVhbCA9IE51bWJlcih2YWx1ZS5wcmljZSk7CiAgICBjb3B5QXJyW2luZGV4XS5wcm9kdWN0ID0gdmFsdWU7CiAgICBzZXRQcm9kdWN0TGlzdChjb3B5QXJyKTsKICAgIG9uQ2hhbmdlUXVhbnRpdHkoewogICAgICB0YXJnZXQ6IHsKICAgICAgICB2YWx1ZTogMQogICAgICB9CiAgICB9LCBpbmRleCk7CiAgfTsKCiAgdmFyIG9uU2VsZWN0V2FyZWhvdXNlID0gZnVuY3Rpb24gb25TZWxlY3RXYXJlaG91c2UodmFsdWUpIHsKICAgIHNldFNlbGVjdGVkV2FyZWhvdXNlKHZhbHVlKTsKICAgIHNldElzU2VsZWN0ZWRXYXJlaG91c2UodHJ1ZSk7CiAgfTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChzZWxlY3RlZFByb21vdGlvbiAhPT0gbnVsbCAmJiBzZWxlY3RlZFByb21vdGlvbiAhPT0gdm9pZCAwICYmIHNlbGVjdGVkUHJvbW90aW9uLmlkKSB7CiAgICAgIGRpc3BhdGNoKGdldERldGFpbFByb2R1Y3RQcm9tb3Rpb24oewogICAgICAgIHByb21vdGlvbjogc2VsZWN0ZWRQcm9tb3Rpb24uaWQKICAgICAgfSkpOwogICAgfQogIH0sIFtzZWxlY3RlZFByb21vdGlvbl0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoc2VsZWN0ZWRXYXJlaG91c2UgIT09IG51bGwgJiYgc2VsZWN0ZWRXYXJlaG91c2UgIT09IHZvaWQgMCAmJiBzZWxlY3RlZFdhcmVob3VzZS5pZCkgewogICAgICBkaXNwYXRjaChnZXRQcm9kdWN0V2FyZWhvdXNlKHsKICAgICAgICBzdG9yZTogc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkV2FyZWhvdXNlLmlkCiAgICAgIH0pKTsKICAgIH0KICB9LCBbc2VsZWN0ZWRXYXJlaG91c2VdKTsKCiAgdmFyIG9uQWRkUHJvZHVjdCA9IGZ1bmN0aW9uIG9uQWRkUHJvZHVjdCgpIHsKICAgIGlmIChzZWxlY3RlZFdhcmVob3VzZSAhPT0gbnVsbCAmJiBzZWxlY3RlZFdhcmVob3VzZSAhPT0gdm9pZCAwICYmIHNlbGVjdGVkV2FyZWhvdXNlLmlkKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHByb2R1Y3Q6IHt9LAogICAgICAgIHF1YW50aXR5OiAxLAogICAgICAgIHJlZHVjZVBlcmNlbnQ6IDAsCiAgICAgICAgcHJpY2VSZWFsOiAwLAogICAgICAgIHN0b3JlOiB7CiAgICAgICAgICBpZDogc2VsZWN0ZWRXYXJlaG91c2UuaWQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNldFByb2R1Y3RMaXN0KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpLCBbZGF0YV0pKTsKICAgIH0gZWxzZSB7CiAgICAgIHNldElzU2VsZWN0ZWRXYXJlaG91c2UoZmFsc2UpOwogICAgfQogIH07CgogIHZhciBvbkNoYW5nZVF1YW50aXR5ID0gZnVuY3Rpb24gb25DaGFuZ2VRdWFudGl0eShfcmVmNSwgaW5kZXgpIHsKICAgIHZhciB0YXJnZXQgPSBfcmVmNS50YXJnZXQ7CgogICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgIGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5ID0gdGFyZ2V0LnZhbHVlOwogICAgY29weUFycltpbmRleF0ucHJpY2VUb3RhbCA9IGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5ICogY29weUFycltpbmRleF0ucHJpY2VSZWFsOwoKICAgIGlmIChBcnJheS5pc0FycmF5KHByb21vdGlvblN0YXRlLnByb21vdGlvblByb2R1Y3RzKSkgewogICAgICB2YXIgZm91bmRlZCA9IHByb21vdGlvblN0YXRlLnByb21vdGlvblByb2R1Y3RzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnByb2R1Y3QuaWQgPT09IGNvcHlBcnJbaW5kZXhdLnByb2R1Y3QuaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGZvdW5kZWQubGVuZ3RoID4gMCkgewogICAgICAgIGlmICh0YXJnZXQudmFsdWUgPj0gZm91bmRlZFswXS5idXkpIHsKICAgICAgICAgIHZhciByYXRpbyA9IGZvdW5kZWRbMF0uZ2lmdCAvIGZvdW5kZWRbMF0uYnV5OwogICAgICAgICAgdmFyIGdpZnQgPSBNYXRoLmZsb29yKHRhcmdldC52YWx1ZSAqIHJhdGlvKTsKICAgICAgICAgIHZhciBleGlzdEV4dHJhUHJvZHVjdEluZGV4ID0gY29weUFyci5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZm9sbG93SW5kZXggPT09IGluZGV4OwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGV4aXN0RXh0cmFQcm9kdWN0SW5kZXggIT0gLTEpIHsKICAgICAgICAgICAgY29weUFycltleGlzdEV4dHJhUHJvZHVjdEluZGV4XS5xdWFudGl0eSA9IGdpZnQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgZXh0cmFQcm9kdWN0ID0gewogICAgICAgICAgICAgIHByb2R1Y3Q6IGNvcHlBcnJbaW5kZXhdLnByb2R1Y3QsCiAgICAgICAgICAgICAgcXVhbnRpdHk6IGdpZnQsCiAgICAgICAgICAgICAgcHJpY2VSZWFsOiBOdW1iZXIoY29weUFycltpbmRleF0ucHJvZHVjdC5wcmljZSksCiAgICAgICAgICAgICAgcmVkdWNlUGVyY2VudDogMTAwLAogICAgICAgICAgICAgIHN0b3JlOiB7CiAgICAgICAgICAgICAgICBpZDogc2VsZWN0ZWRXYXJlaG91c2UuaWQKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGZvbGxvd0luZGV4OiBpbmRleAogICAgICAgICAgICB9OwogICAgICAgICAgICBjb3B5QXJyLnNwbGljZShpbmRleCArIDEsIDAsIGV4dHJhUHJvZHVjdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgc2V0UHJvZHVjdExpc3QoY29weUFycik7CiAgfTsKCiAgdmFyIG9uQ2hhbmdlUHJpY2UgPSBmdW5jdGlvbiBvbkNoYW5nZVByaWNlKF9yZWY2LCBpbmRleCkgewogICAgdmFyIHRhcmdldCA9IF9yZWY2LnRhcmdldDsKICAgIHZhciBjb3B5QXJyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9kdWN0TGlzdCkpOwogICAgY29weUFycltpbmRleF0ucHJpY2VSZWFsID0gTnVtYmVyKHRhcmdldC52YWx1ZS5yZXBsYWNlKC9cRC9nLCAnJykpOwogICAgY29weUFycltpbmRleF0ucHJpY2VUb3RhbCA9IGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5ICogY29weUFycltpbmRleF0ucHJpY2VSZWFsOwogICAgc2V0UHJvZHVjdExpc3QoY29weUFycik7CiAgfTsKCiAgdmFyIG9uQ2hhbmdlUmVkdWNlUGVyY2VudCA9IGZ1bmN0aW9uIG9uQ2hhbmdlUmVkdWNlUGVyY2VudChfcmVmNywgaW5kZXgpIHsKICAgIHZhciB0YXJnZXQgPSBfcmVmNy50YXJnZXQ7CgogICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgIGNvcHlBcnJbaW5kZXhdLnJlZHVjZVBlcmNlbnQgPSB0YXJnZXQudmFsdWU7CiAgICBjb3B5QXJyW2luZGV4XS5wcmljZVRvdGFsID0gY29weUFycltpbmRleF0ucHJpY2VSZWFsICogY29weUFycltpbmRleF0ucXVhbnRpdHkgLSBjb3B5QXJyW2luZGV4XS5wcmljZVJlYWwgKiBjb3B5QXJyW2luZGV4XS5xdWFudGl0eSAqIGNvcHlBcnJbaW5kZXhdLnJlZHVjZVBlcmNlbnQgLyAxMDA7CiAgICBzZXRQcm9kdWN0TGlzdChjb3B5QXJyKTsKICB9OwoKICB2YXIgb25SZW1vdmVQcm9kdWN0ID0gZnVuY3Rpb24gb25SZW1vdmVQcm9kdWN0KGluZGV4KSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCk7CgogICAgY29weUFyci5zcGxpY2UoaW5kZXgsIDEpOwogICAgc2V0UHJvZHVjdExpc3QoY29weUFycik7CiAgfTsKCiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtaWssIHsKICAgIGluaXRpYWxWYWx1ZXM6IGluaXRGb3JtU3RhdGUgfHwgaW5pdGlhbFZhbHVlcywKICAgIGVuYWJsZVJlaW5pdGlhbGl6ZTogdHJ1ZSwKICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSh2YWxpZGF0aW9uU2NoZW1hKSwKICAgIG9uU3VibWl0OiBvblN1Ym1pdAogIH0sIGZ1bmN0aW9uIChfcmVmOCkgewogICAgdmFyIF92YWx1ZXMkY3VzdG9tZXIsIF92YWx1ZXMkY3VzdG9tZXIyLCBfc2VsZWN0ZWRDdXN0b21lciRicmEsIF9zZWxlY3RlZEN1c3RvbWVyJGNpdCwgX3NlbGVjdGVkQ3VzdG9tZXIkZGlzLCBfc2VsZWN0ZWRDdXN0b21lciR0eXAsIF92YWx1ZXMkcHJvbW90aW9uLCBfdmFsdWVzJHByb21vdGlvbjIsIF92YWx1ZXMkc3RvcmUsIF9zZWxlY3RlZFdhcmVob3VzZSRjaSwgX3NlbGVjdGVkV2FyZWhvdXNlJGRpLCBfc2VsZWN0ZWRXYXJlaG91c2Ukd2E7CgogICAgdmFyIHZhbHVlcyA9IF9yZWY4LnZhbHVlcywKICAgICAgICBlcnJvcnMgPSBfcmVmOC5lcnJvcnMsCiAgICAgICAgdG91Y2hlZCA9IF9yZWY4LnRvdWNoZWQsCiAgICAgICAgc3RhdHVzID0gX3JlZjguc3RhdHVzLAogICAgICAgIGRpcnR5ID0gX3JlZjguZGlydHksCiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX3JlZjguaGFuZGxlQ2hhbmdlLAogICAgICAgIGhhbmRsZUJsdXIgPSBfcmVmOC5oYW5kbGVCbHVyLAogICAgICAgIGhhbmRsZVN1Ym1pdCA9IF9yZWY4LmhhbmRsZVN1Ym1pdCwKICAgICAgICBzZXRGaWVsZFZhbHVlID0gX3JlZjguc2V0RmllbGRWYWx1ZSwKICAgICAgICBpc1N1Ym1pdHRpbmcgPSBfcmVmOC5pc1N1Ym1pdHRpbmcsCiAgICAgICAgaXNWYWxpZCA9IF9yZWY4LmlzVmFsaWQsCiAgICAgICAgaGFuZGxlUmVzZXQgPSBfcmVmOC5oYW5kbGVSZXNldCwKICAgICAgICBzZXRUb3VjaGVkID0gX3JlZjguc2V0VG91Y2hlZDsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybSwgewogICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBub1ZhbGlkYXRlOiB0cnVlLAogICAgICBuYW1lOiAic2ltcGxlRm9ybSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCB7CiAgICAgIGNsYXNzTmFtZTogImNhcmQtYWNjZW50LXByaW1hcnkiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIlRoXHhGNG5nIHRpbiBraFx4RTFjaCBoXHhFMG5nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIHsKICAgICAgY2xhc3NOYW1lOiAibWItMyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgc206IDgKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAibGFzdE5hbWUiCiAgICB9LCAiQ2hcdTFFQ0RuIGtoXHhFMWNoIGhceEUwbmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgIG5hbWU6ICJjdXN0b21lciIsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShpdGVtKSB7CiAgICAgICAgc2V0RmllbGRWYWx1ZSgnY3VzdG9tZXInLCB7CiAgICAgICAgICBpZDogaXRlbS52YWx1ZSwKICAgICAgICAgIG5hbWU6IGl0ZW0ubGFiZWwKICAgICAgICB9KTsKICAgICAgICBvblNlbGVjdEN1c3RvbWVyKGl0ZW0pOwogICAgICB9LAogICAgICB2YWx1ZTogewogICAgICAgIHZhbHVlOiAoX3ZhbHVlcyRjdXN0b21lciA9IHZhbHVlcy5jdXN0b21lcikgPT09IG51bGwgfHwgX3ZhbHVlcyRjdXN0b21lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjdXN0b21lci5pZCwKICAgICAgICBsYWJlbDogKF92YWx1ZXMkY3VzdG9tZXIyID0gdmFsdWVzLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfdmFsdWVzJGN1c3RvbWVyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjdXN0b21lcjIubmFtZQogICAgICB9LAogICAgICBvcHRpb25zOiBjdXN0b21lcnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgbGFiZWw6ICJbIi5jb25jYXQoaXRlbS5jb2RlLCAiXSAiKS5jb25jYXQoaXRlbS5uYW1lLCAiICIpLmNvbmNhdChpdGVtLmFkZHJlc3MpCiAgICAgICAgfTsKICAgICAgfSkKICAgIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1GZWVkYmFjaywgewogICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgfSwgZXJyb3JzLmN1c3RvbWVyKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIk1ceEUzIGtoXHhFMWNoIGhceEUwbmc6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZEN1c3RvbWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkQ3VzdG9tZXIuY29kZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiSFx1MUVDRCB0XHhFQW46IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZEN1c3RvbWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkQ3VzdG9tZXIubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiU1x1MUVEMSBcdTAxMTFpXHUxRUM3biB0aG9cdTFFQTFpOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZEN1c3RvbWVyLnRlbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiQ2hpIG5oXHhFMW5oOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ3VzdG9tZXIkYnJhID0gc2VsZWN0ZWRDdXN0b21lci5icmFuY2gpID09PSBudWxsIHx8IF9zZWxlY3RlZEN1c3RvbWVyJGJyYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkQ3VzdG9tZXIkYnJhLm5hbWUpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlx1MDExMFx1MUVDQmEgY2hcdTFFQzk6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZEN1c3RvbWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkQ3VzdG9tZXIuYWRkcmVzcykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiVGhceEUwbmggcGhcdTFFRDE6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZEN1c3RvbWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDdXN0b21lciRjaXQgPSBzZWxlY3RlZEN1c3RvbWVyLmNpdHkpID09PSBudWxsIHx8IF9zZWxlY3RlZEN1c3RvbWVyJGNpdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkQ3VzdG9tZXIkY2l0Lm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlF1XHUxRUFEbiBodXlcdTFFQzduOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ3VzdG9tZXIkZGlzID0gc2VsZWN0ZWRDdXN0b21lci5kaXN0cmljdCkgPT09IG51bGwgfHwgX3NlbGVjdGVkQ3VzdG9tZXIkZGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWRDdXN0b21lciRkaXMubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiTG9cdTFFQTFpIGtoXHhFMWNoIGhceEUwbmc6ICIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ3VzdG9tZXIkdHlwID0gc2VsZWN0ZWRDdXN0b21lci50eXBlKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWRDdXN0b21lciR0eXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZEN1c3RvbWVyJHR5cC5uYW1lKSkpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIHhzOiAiMTIiLAogICAgICBzbTogIjYiLAogICAgICBtZDogIjEyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIHsKICAgICAgY2xhc3NOYW1lOiAiY2FyZC1hY2NlbnQtaW5mbyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZFRpdGxlLCBudWxsLCAiQ2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBraHV5XHUxRUJGbiBtXHUxRUExaSIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCB7CiAgICAgIGNsYXNzTmFtZTogIm1iLTMiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIHNtOiA0CiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogImxhc3ROYW1lIgogICAgfSwgIkNoXHUxRUNEbiBjaFx1MDFCMFx1MDFBMW5nIHRyXHhFQ25oIGJceEUxbiBoXHhFMG5nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwgewogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoaXRlbSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ3Byb21vdGlvbicsIHsKICAgICAgICAgIGlkOiBpdGVtLnZhbHVlLAogICAgICAgICAgbmFtZTogaXRlbS5sYWJlbAogICAgICAgIH0pOwogICAgICAgIG9uU2VsZWN0UHJvbW90aW9uKGl0ZW0pOwogICAgICB9LAogICAgICB2YWx1ZTogewogICAgICAgIHZhbHVlOiAoX3ZhbHVlcyRwcm9tb3Rpb24gPSB2YWx1ZXMucHJvbW90aW9uKSA9PT0gbnVsbCB8fCBfdmFsdWVzJHByb21vdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRwcm9tb3Rpb24uaWQsCiAgICAgICAgbGFiZWw6IChfdmFsdWVzJHByb21vdGlvbjIgPSB2YWx1ZXMucHJvbW90aW9uKSA9PT0gbnVsbCB8fCBfdmFsdWVzJHByb21vdGlvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWx1ZXMkcHJvbW90aW9uMi5uYW1lCiAgICAgIH0sCiAgICAgIG5hbWU6ICJwcm9tb3Rpb24iLAogICAgICBvcHRpb25zOiBwcm9tb3Rpb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogaXRlbS5pZCwKICAgICAgICAgIGxhYmVsOiAiIi5jb25jYXQoaXRlbS5uYW1lKQogICAgICAgIH07CiAgICAgIH0pCiAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5wcm9tb3Rpb24pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiVFx4RUFuIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmg6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFByb21vdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3RlZFByb21vdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRQcm9tb3Rpb24ubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiTmdceEUweSBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1OiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRQcm9tb3Rpb24gPT09IG51bGwgfHwgc2VsZWN0ZWRQcm9tb3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkUHJvbW90aW9uLnN0YXJ0VGltZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiU1x1MUVBM24gcGhcdTFFQTltIFx4RTFwIGRcdTFFRTVuZyIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIk5nXHhFMHkga1x1MUVCRnQgdGhceEZBYzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIHNlbGVjdGVkUHJvbW90aW9uID09PSBudWxsIHx8IHNlbGVjdGVkUHJvbW90aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZFByb21vdGlvbi5lbmRUaW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJMb1x1MUVBMWkgY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaDoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIG1hcHBpbmdUeXBlW3NlbGVjdGVkUHJvbW90aW9uID09PSBudWxsIHx8IHNlbGVjdGVkUHJvbW90aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZFByb21vdGlvbi50eXBlXSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgIHNpemU6ICJzbSIsCiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgc2V0U2hvd1Byb2R1Y3RQcm9tb3Rpb24oIXNob3dQcm9kdWN0UHJvbW90aW9uKTsKICAgICAgfQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogImNpbFpvb20iCiAgICB9KSwgIiBYZW0gc1x1MUVBM24gcGhcdTFFQTltIFx4RTFwIGRcdTFFRTVuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sbGFwc2UsIHsKICAgICAgc2hvdzogc2hvd1Byb2R1Y3RQcm9tb3Rpb24KICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIlRoXHhGNG5nIHRpbiBzXHUxRUEzbiBwaFx1MUVBOW0ga2h1eVx1MUVCRm4gbVx1MUVBMWkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCBBcnJheS5pc0FycmF5KHByb21vdGlvblN0YXRlLnByb21vdGlvblByb2R1Y3RzKSAmJiBwcm9tb3Rpb25TdGF0ZS5wcm9tb3Rpb25Qcm9kdWN0cy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTQiCiAgICAgIH0sICIiLmNvbmNhdChpdGVtLnByb2R1Y3QubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTgiCiAgICAgIH0sICJNdWEgIi5jb25jYXQoaXRlbS5idXksICIgVFx1MUVCN25nICIpLmNvbmNhdChpdGVtLmdpZnQpKSk7CiAgICB9KSkpKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgeHM6ICIxMiIsCiAgICAgIHNtOiAiNiIsCiAgICAgIG1kOiAiMTIiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgewogICAgICBjbGFzc05hbWU6ICJjYXJkLWFjY2VudC1pbmZvIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkVGl0bGUsIG51bGwsICJLaG8gaFx4RTBuZyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCB7CiAgICAgIGNsYXNzTmFtZTogIm1iLTMiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIHNtOiA0CiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogImxhc3ROYW1lIgogICAgfSwgIkNoXHUxRUNEbiBLaG8iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShpdGVtKSB7CiAgICAgICAgc2V0RmllbGRWYWx1ZSgnc3RvcmUnLCBpdGVtLnZhbHVlKTsKICAgICAgICBvblNlbGVjdFdhcmVob3VzZShpdGVtLnZhbHVlKTsKICAgICAgfSwKICAgICAgdmFsdWU6IHsKICAgICAgICB2YWx1ZTogdmFsdWVzLnN0b3JlLAogICAgICAgIGxhYmVsOiAoX3ZhbHVlcyRzdG9yZSA9IHZhbHVlcy5zdG9yZSkgPT09IG51bGwgfHwgX3ZhbHVlcyRzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRzdG9yZS5uYW1lCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IHdhcmVob3VzZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLAogICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdChpdGVtLm5hbWUpCiAgICAgICAgfTsKICAgICAgfSkKICAgIH0pLCAhaXNTZWxlY3RlZFdhcmVob3VzZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sICJCXHUxRUExbiBwaFx1MUVBM2kgY2hcdTFFQ0RuIGtobyBoXHhFMG5nIikpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiVFx4RUFuIGtobzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIHNlbGVjdGVkV2FyZWhvdXNlID09PSBudWxsIHx8IHNlbGVjdGVkV2FyZWhvdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZFdhcmVob3VzZS5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJTXHUxRUQxIFx1MDExMWlcdTFFQzduIHRob1x1MUVBMWk6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRXYXJlaG91c2UudGVsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5OiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkV2FyZWhvdXNlLmFkZHJlc3MpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlRoXHhFMG5oIHBoXHUxRUQxOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRXYXJlaG91c2UkY2kgPSBzZWxlY3RlZFdhcmVob3VzZS5jaXR5KSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWRXYXJlaG91c2UkY2kgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZFdhcmVob3VzZSRjaS5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJRdVx1MUVBRG4gaHV5XHUxRUM3bjoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIHNlbGVjdGVkV2FyZWhvdXNlID09PSBudWxsIHx8IHNlbGVjdGVkV2FyZWhvdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3NlbGVjdGVkV2FyZWhvdXNlJGRpID0gc2VsZWN0ZWRXYXJlaG91c2UuZGlzdHJpY3QpID09PSBudWxsIHx8IF9zZWxlY3RlZFdhcmVob3VzZSRkaSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkV2FyZWhvdXNlJGRpLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlhceEUzIHBoXHUwMUIwXHUxRUREbmc6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9zZWxlY3RlZFdhcmVob3VzZSR3YSA9IHNlbGVjdGVkV2FyZWhvdXNlLndhcmQpID09PSBudWxsIHx8IF9zZWxlY3RlZFdhcmVob3VzZSR3YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkV2FyZWhvdXNlJHdhLm5hbWUpKSkpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICBzaXplOiAic20iLAogICAgICBjbGFzc05hbWU6ICJtbC0zIG1iLTMiLAogICAgICBvbkNsaWNrOiBvbkFkZFByb2R1Y3QKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICdjaWxBcnJvd0NpcmNsZVJpZ2h0JywKICAgICAgY2xhc3NOYW1lOiAibXItMiIKICAgIH0pLCAiVGhceEVBbSBzXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGUsIHsKICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgc3RyaXBlZDogdHJ1ZQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoZWFkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlNcdTFFQTNuIHBoXHUxRUE5bSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiXHUwMTEwXHUwMUExbiB2XHUxRUNCIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJEdW5nIHRceEVEY2giKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlNcdTFFRDEgbFx1MDFCMFx1MUVFM25nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJcdTAxMTBcdTAxQTFuIGdpXHhFMSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiVGhceEUwbmggdGlcdTFFQzFuIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJDaGlcdTFFQkZ0IGtoXHUxRUE1dSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiVGhhbmggdG9ceEUxbiIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIsIG51bGwsIHByb2R1Y3RMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgdmFyIF9pdGVtJHByb2R1Y3QkcHJvZHVjdCwgX2l0ZW0kcHJvZHVjdCwgX2l0ZW0kcHJvZHVjdDI7CgogICAgICBjb25zb2xlLmxvZyhwcm9kdWN0TGlzdFtpbmRleF0ucHJpY2VSZWFsKTsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIHsKICAgICAgICBrZXk6IGluZGV4CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2lkdGg6IDMwMAogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgICAgdmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiBpdGVtLnByb2R1Y3QsCiAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KCgoX2l0ZW0kcHJvZHVjdCRwcm9kdWN0ID0gaXRlbS5wcm9kdWN0LnByb2R1Y3RCcmFuZCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdCRwcm9kdWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0JHByb2R1Y3QubmFtZSkgfHwgJycsICItIikuY29uY2F0KGl0ZW0ucHJvZHVjdC5uYW1lIHx8ICcnLCAiLSIpLmNvbmNhdChpdGVtLnByb2R1Y3Qudm9sdW1lIHx8ICcnKQogICAgICAgIH0sCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25TZWxlY3RlZFByb2R1Y3QoZXZlbnQsIGluZGV4KTsKICAgICAgICB9LAogICAgICAgIG1lbnVQb3J0YWxUYXJnZXQ6IGRvY3VtZW50LmJvZHksCiAgICAgICAgb3B0aW9uczogcHJvZHVjdEluV2FyZWhvdXNlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHZhciBfaXRlbSRwcm9kdWN0JHByb2R1Y3QyOwoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLnByb2R1Y3QsCiAgICAgICAgICAgIGxhYmVsOiAiIi5jb25jYXQoKF9pdGVtJHByb2R1Y3QkcHJvZHVjdDIgPSBpdGVtLnByb2R1Y3QucHJvZHVjdEJyYW5kKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0JHByb2R1Y3QyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0JHByb2R1Y3QyLm5hbWUsICItIikuY29uY2F0KGl0ZW0ucHJvZHVjdC5uYW1lLCAiLSIpLmNvbmNhdChpdGVtLnByb2R1Y3Qudm9sdW1lKQogICAgICAgICAgfTsKICAgICAgICB9KQogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIChfaXRlbSRwcm9kdWN0ID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0LnVuaXQpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoX2l0ZW0kcHJvZHVjdDIgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0Mi52b2x1bWUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdpZHRoOiAxMDAKICAgICAgICB9CiAgICAgIH0sIGl0ZW0uZm9sbG93SW5kZXggPj0gMCA/IGl0ZW0ucXVhbnRpdHkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBtaW46IDEsCiAgICAgICAgbmFtZTogImNvZGUiLAogICAgICAgIGlkOiAiY29kZSIsCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25DaGFuZ2VRdWFudGl0eShldmVudCwgaW5kZXgpOwogICAgICAgIH0sCiAgICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICAgIHZhbHVlOiBpdGVtLnF1YW50aXR5CiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWFza2VkSW5wdXQsIHsKICAgICAgICBtYXNrOiBjdXJyZW5jeU1hc2ssCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25DaGFuZ2VQcmljZShldmVudCwgaW5kZXgpOwogICAgICAgIH0sCiAgICAgICAgdmFsdWU6IHR5cGVvZiBpdGVtLnByaWNlUmVhbCAhPT0gJ251bWJlcicgPyBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ3ZpLVZOJywgewogICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICBjdXJyZW5jeTogJ1ZORCcKICAgICAgICB9KS5mb3JtYXQoaXRlbS5wcmljZVJlYWwpIDogaXRlbS5wcmljZVJlYWwsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIocmVmLCBwcm9wcykgewogICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgX2V4dGVuZHMoewogICAgICAgICAgICBpbm5lclJlZjogcmVmCiAgICAgICAgICB9LCBwcm9wcykpOwogICAgICAgIH0KICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoaXRlbS5wcmljZVJlYWwgKiBpdGVtLnF1YW50aXR5KS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgIH0pIHx8ICcnKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aWR0aDogMTAwCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBuYW1lOiAiY29kZSIsCiAgICAgICAgaWQ6ICJjb2RlIiwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBvbkNoYW5nZVJlZHVjZVBlcmNlbnQoZXZlbnQsIGluZGV4KTsKICAgICAgICB9LAogICAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgICB2YWx1ZTogaXRlbS5yZWR1Y2VQZXJjZW50CiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKGl0ZW0ucHJpY2VSZWFsICogaXRlbS5xdWFudGl0eSAtIGl0ZW0ucHJpY2VSZWFsICogaXRlbS5xdWFudGl0eSAqIGl0ZW0ucmVkdWNlUGVyY2VudCAvIDEwMCkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICB9KSB8fCAnJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2lkdGg6IDEwMAogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgY2xhc3NOYW1lOiAibXItMyIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBvblJlbW92ZVByb2R1Y3QoaW5kZXgpOwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICBuYW1lOiAiY2lsWENpcmNsZSIKICAgICAgfSkpKSk7CiAgICB9KSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIlRoXHhGNG5nIHRpbiBraFx4RTFjIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI0IiwKICAgICAgc206ICI1IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENUZXh0YXJlYSwgewogICAgICB0eXBlOiAidGV4dCIsCiAgICAgIG5hbWU6ICJhZGRyZXNzIiwKICAgICAgaWQ6ICJhZGRyZXNzIiwKICAgICAgcGxhY2Vob2xkZXI6ICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5IiwKICAgICAgYXV0b0NvbXBsZXRlOiAiYWRkcmVzcyIsCiAgICAgIHZhbGlkOiBlcnJvcnMuYWRkcmVzcyB8fCBudWxsLAogICAgICBpbnZhbGlkOiB0b3VjaGVkLmFkZHJlc3MgJiYgISFlcnJvcnMuYWRkcmVzcywKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLmFkZHJlc3MgfHwgKHNlbGVjdGVkQ3VzdG9tZXIgPT09IG51bGwgfHwgc2VsZWN0ZWRDdXN0b21lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRDdXN0b21lci5hZGRyZXNzKQogICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIkdoaSBjaFx4RkEiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1RleHRhcmVhLCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogIm5vdGUiLAogICAgICBpZDogIm5vdGUiLAogICAgICBwbGFjZWhvbGRlcjogImdoaSBjaFx4RkEiLAogICAgICBhdXRvQ29tcGxldGU6ICJub3RlIiwKICAgICAgdmFsaWQ6IGVycm9ycy5ub3RlIHx8IG51bGwsCiAgICAgIGludmFsaWQ6IHRvdWNoZWQubm90ZSAmJiAhIWVycm9ycy5ub3RlLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMubm90ZQogICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjQiLAogICAgICBzbTogIjUiLAogICAgICBjbGFzc05hbWU6ICJtbC1hdXRvIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGUsIHsKICAgICAgY2xhc3NOYW1lOiAidGFibGUtY2xlYXIiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGJvZHkiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIlRcdTFFRDVuZyBzXHUxRUQxIGxcdTAxQjBcdTFFRTNuZyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgIH0sIHByb2R1Y3RMaXN0LnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50KSB7CiAgICAgIHJldHVybiBzdW0gKyBOdW1iZXIoY3VycmVudC5xdWFudGl0eSk7CiAgICB9LCAwKSB8fCAnJykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIlRcdTFFRDVuZyB0aVx1MUVDMW4iKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICB9LCBwcm9kdWN0TGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY3VycmVudCkgewogICAgICByZXR1cm4gc3VtICsgY3VycmVudC5wcmljZVJlYWwgKiBjdXJyZW50LnF1YW50aXR5OwogICAgfSwgMCkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICB9KSB8fCAnJykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIkNoaVx1MUVCRnQga2hcdTFFQTV1IikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgfSwgcHJvZHVjdExpc3QucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGN1cnJlbnQpIHsKICAgICAgcmV0dXJuIHN1bSArIGN1cnJlbnQucHJpY2VSZWFsICogY3VycmVudC5xdWFudGl0eSAqIGN1cnJlbnQucmVkdWNlUGVyY2VudCAvIDEwMDsKICAgIH0sIDApLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgfSkgfHwgJycpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICBjbGFzc05hbWU6ICJsZWZ0IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsICJUaVx1MUVDMW4gdGhhbmggdG9ceEUxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCBwcm9kdWN0TGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY3VycmVudCkgewogICAgICByZXR1cm4gc3VtICsgKGN1cnJlbnQucHJpY2VSZWFsICogY3VycmVudC5xdWFudGl0eSAtIGN1cnJlbnQucHJpY2VSZWFsICogY3VycmVudC5xdWFudGl0eSAqIGN1cnJlbnQucmVkdWNlUGVyY2VudCAvIDEwMCk7CiAgICB9LCAwKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICBjdXJyZW5jeTogJ1ZORCcKICAgIH0pIHx8ICcnKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIHsKICAgICAgY2xhc3NOYW1lOiAiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIHR5cGU6ICJzdWJtaXQiLAogICAgICBzaXplOiAibGciLAogICAgICBjbGFzc05hbWU6ICJidG4gYnRuLXN1Y2Nlc3MiCiAgICB9LCAnVGnhur9wIHThu6VjJywgIiAiLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAiY2lsQXJyb3dSaWdodCIKICAgIH0pKSkpKSkpKTsKICB9KSk7Cn07CgpleHBvcnQgZGVmYXVsdCBDcmVhdGVPcmRlcjs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/CreateOrder.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CCardTitle","CLabel","CInput","CCollapse","CRow","CFormGroup","CTextarea","CIcon","Form","Formik","Yup","useDispatch","useSelector","creatingOrder","Toaster","useHistory","currencyMask","MaskedInput","Select","globalizedCustomerSelectors","getCustomer","globalizedPromotionSelectors","getPromotion","getPromotionProduct","globalizedWarehouseSelectors","getWarehouse","getDetailProductPromotion","globalizedProductWarehouseSelectors","getProductWarehouse","FormFeedback","Table","validationSchema","values","object","shape","customer","required","nullable","promotion","validate","getValidationSchema","validateSync","abortEarly","error","getErrorsFromValidationError","validationError","FIRST_ERROR","inner","reduce","errors","path","findFirstError","formName","hasError","form","document","forms","i","length","name","focus","validateForm","fieldName","Boolean","mappingType","SHORTTERM","LONGTERM","CreateOrder","props","state","order","initialState","promotionState","initialValues","orderDetails","code","note","address","toastRef","dispatch","history","selectAllCustomer","selectAll","selectAllPromotion","selectAllWarehouse","selectAllProductInWarehouse","customers","promotions","warehouses","productInWarehouses","initFormState","setInitFormState","selectedCustomer","setSelectedCustomer","selectedPromotion","setSelectedPromotion","selectedWarehouse","setSelectedWarehouse","productList","setProductList","isSelectedWarehouse","setIsSelectedWarehouse","showProductPromotion","setShowProductPromotion","isLock","existOrder","localStorage","getItem","data","JSON","parse","Object","keys","e","store","toOrderInvoice","push","pathname","match","url","onSubmit","setSubmitting","setErrors","setItem","stringify","onSelectCustomer","value","arr","filter","id","onSelectPromotion","onSelectedProduct","index","copyArr","priceReal","Number","price","product","onChangeQuantity","target","onSelectWarehouse","onAddProduct","quantity","reducePercent","priceTotal","Array","isArray","promotionProducts","founded","item","buy","ratio","gift","Math","floor","existExtraProductIndex","findIndex","followIndex","extraProduct","splice","onChangePrice","replace","onChangeReducePercent","onRemoveProduct","touched","status","dirty","handleChange","handleBlur","handleSubmit","setFieldValue","isSubmitting","isValid","handleReset","setTouched","label","map","tel","branch","city","district","type","startTime","endTime","ward","console","log","width","productBrand","volume","event","body","unit","Intl","NumberFormat","style","currency","format","ref","toLocaleString","sum","current"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CCardTitle,\n  CLabel,\n  CInput,\n  CCollapse,\n  CRow,\n  CFormGroup,\n  CTextarea\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { creatingOrder } from './order.api';\nimport Toaster from '../../../components/notifications/toaster/Toaster';\nimport { useHistory } from 'react-router-dom';\nimport { currencyMask } from '../../../components/currency-input/currency-input';\nimport MaskedInput from 'react-text-mask';\nimport Select from 'react-select';\nimport { globalizedCustomerSelectors } from '../../customer/customer.reducer';\nimport { getCustomer } from '../../customer/customer.api';\nimport { globalizedPromotionSelectors } from '../Promotion/promotion.reducer';\nimport { getPromotion, getPromotionProduct } from '../Promotion/promotion.api';\nimport { globalizedWarehouseSelectors } from '../../warehouse/Warehouse/warehouse.reducer';\nimport { getWarehouse } from '../../warehouse/Warehouse/warehouse.api';\nimport { getDetailProductPromotion } from '../Promotion/promotion.api';\nimport { globalizedProductWarehouseSelectors } from '../../warehouse/Product/product-warehouse.reducer';\nimport { getProductWarehouse } from '../../warehouse/Product/product-warehouse.api';\nimport { FormFeedback, Table } from 'reactstrap';\n\nconst validationSchema = function(values) {\n  return Yup.object().shape({\n    customer: Yup.object()\n      .required('Khách hàng  không để trống')\n      .nullable(),\n    promotion: Yup.object()\n      .required('Chương trình bán hàng không để trống')\n      .nullable()\n  });\n};\n\nconst validate = getValidationSchema => {\n  return values => {\n    const validationSchema = getValidationSchema(values);\n    try {\n      validationSchema.validateSync(values, { abortEarly: false });\n      return {};\n    } catch (error) {\n      return getErrorsFromValidationError(error);\n    }\n  };\n};\n\nconst getErrorsFromValidationError = validationError => {\n  const FIRST_ERROR = 0;\n  return validationError.inner.reduce((errors, error) => {\n    return {\n      ...errors,\n      [error.path]: error.errors[FIRST_ERROR]\n    };\n  }, {});\n};\n\nconst findFirstError = (formName, hasError) => {\n  const form = document.forms[formName];\n  for (let i = 0; i < form.length; i++) {\n    if (hasError(form[i].name)) {\n      form[i].focus();\n      break;\n    }\n  }\n};\n\nconst validateForm = errors => {\n  findFirstError('simpleForm', fieldName => {\n    return Boolean(errors[fieldName]);\n  });\n};\nconst mappingType = {\n  SHORTTERM: 'Ngắn hạn',\n  LONGTERM: 'Dài hạn'\n};\n\nconst CreateOrder = props => {\n  const { initialState } = useSelector(state => state.order);\n  const { initialState: promotionState } = useSelector(state => state.promotion);\n\n  const initialValues = {\n    customer: null,\n    promotion: null,\n    orderDetails: [],\n    code: '',\n    note: '',\n    address: ''\n  };\n  const toastRef = useRef();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { selectAll: selectAllCustomer } = globalizedCustomerSelectors;\n  const { selectAll: selectAllPromotion } = globalizedPromotionSelectors;\n  const { selectAll: selectAllWarehouse } = globalizedWarehouseSelectors;\n  const { selectAll: selectAllProductInWarehouse } = globalizedProductWarehouseSelectors;\n\n  const customers = useSelector(selectAllCustomer);\n  const promotions = useSelector(selectAllPromotion);\n  const warehouses = useSelector(selectAllWarehouse);\n  const productInWarehouses = useSelector(selectAllProductInWarehouse);\n\n  const [initFormState, setInitFormState] = useState(null);\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [selectedPromotion, setSelectedPromotion] = useState(null);\n  const [selectedWarehouse, setSelectedWarehouse] = useState(null);\n  const [productList, setProductList] = useState([]);\n  const [isSelectedWarehouse, setIsSelectedWarehouse] = useState(true);\n  const [showProductPromotion, setShowProductPromotion] = useState(false);\n  useEffect(() => {\n    dispatch(getCustomer());\n    dispatch(getPromotion({ isLock: 0 }));\n    dispatch(getWarehouse());\n    const existOrder = localStorage.getItem('order');\n    try {\n      const data = JSON.parse(existOrder);\n      if (Object.keys(data).length > 0) {\n        setInitFormState(data);\n      }\n    } catch (e) {}\n  }, []);\n\n  useEffect(() => {\n    if (initFormState) {\n      setSelectedCustomer(initFormState.customer);\n      setSelectedPromotion(initFormState.promotion);\n      setSelectedWarehouse(initFormState.store);\n      setProductList(initFormState.orderDetails);\n    }\n  }, [initFormState]);\n\n  const toOrderInvoice = data => {\n    history.push({ pathname: `${props.match.url}/invoice`, state: data });\n  };\n\n  const onSubmit = (values, { setSubmitting, setErrors }) => {\n    // values.code = Math.floor(Math.random() * 90000) + 10000;\n    if (!values.address) values.address = selectedCustomer.address;\n    values.customer = selectedCustomer;\n    values.store = selectedWarehouse;\n    values.promotion = selectedPromotion;\n    values.orderDetails = productList;\n    localStorage.setItem('order', JSON.stringify(values));\n    toOrderInvoice(values);\n    // dispatch(creatingOrder(values));\n  };\n\n  const onSelectCustomer = ({ value }) => {\n    const arr = customers.filter(customer => customer.id === value);\n    if (arr.length === 1) {\n      setSelectedCustomer(arr[0]);\n    }\n  };\n\n  const onSelectPromotion = ({ value }) => {\n    const arr = promotions.filter(customer => customer.id === value);\n    if (arr.length === 1) {\n      setSelectedPromotion(arr[0]);\n    }\n  };\n\n  const onSelectedProduct = ({ value }, index) => {\n    const copyArr = [...productList];\n    copyArr[index].priceReal = Number(value.price);\n    copyArr[index].product = value;\n    setProductList(copyArr);\n    onChangeQuantity({ target: { value: 1 } }, index);\n  };\n\n  const onSelectWarehouse = value => {\n    setSelectedWarehouse(value);\n    setIsSelectedWarehouse(true);\n  };\n\n  useEffect(() => {\n    if (selectedPromotion?.id) {\n      dispatch(getDetailProductPromotion({ promotion: selectedPromotion.id }));\n    }\n  }, [selectedPromotion]);\n\n  useEffect(() => {\n    if (selectedWarehouse?.id) {\n      dispatch(getProductWarehouse({ store: selectedWarehouse?.id }));\n    }\n  }, [selectedWarehouse]);\n\n  const onAddProduct = () => {\n    if (selectedWarehouse?.id) {\n      const data = { product: {}, quantity: 1, reducePercent: 0, priceReal: 0, store: { id: selectedWarehouse.id } };\n      setProductList([...productList, data]);\n    } else {\n      setIsSelectedWarehouse(false);\n    }\n  };\n\n  const onChangeQuantity = ({ target }, index) => {\n    const copyArr = [...productList];\n    copyArr[index].quantity = target.value;\n    copyArr[index].priceTotal = copyArr[index].quantity * copyArr[index].priceReal;\n    if (Array.isArray(promotionState.promotionProducts)) {\n      const founded = promotionState.promotionProducts.filter(item => item.product.id === copyArr[index].product.id);\n      if (founded.length > 0) {\n        if (target.value >= founded[0].buy) {\n          const ratio = founded[0].gift / founded[0].buy;\n          const gift = Math.floor(target.value * ratio);\n          const existExtraProductIndex = copyArr.findIndex(item => item.followIndex === index);\n          if (existExtraProductIndex != -1) {\n            copyArr[existExtraProductIndex].quantity = gift;\n          } else {\n            const extraProduct = {\n              product: copyArr[index].product,\n              quantity: gift,\n              priceReal: Number(copyArr[index].product.price),\n              reducePercent: 100,\n              store: { id: selectedWarehouse.id },\n              followIndex: index\n            };\n            copyArr.splice(index + 1, 0, extraProduct);\n          }\n        }\n      }\n    }\n    setProductList(copyArr);\n  };\n\n  const onChangePrice = ({ target }, index) => {\n    const copyArr = JSON.parse(JSON.stringify(productList));\n    copyArr[index].priceReal = Number(target.value.replace(/\\D/g, ''));\n    copyArr[index].priceTotal = copyArr[index].quantity * copyArr[index].priceReal;\n    setProductList(copyArr);\n  };\n\n  const onChangeReducePercent = ({ target }, index) => {\n    const copyArr = [...productList];\n    copyArr[index].reducePercent = target.value;\n    copyArr[index].priceTotal =\n      copyArr[index].priceReal * copyArr[index].quantity -\n      (copyArr[index].priceReal * copyArr[index].quantity * copyArr[index].reducePercent) / 100;\n    setProductList(copyArr);\n  };\n\n  const onRemoveProduct = index => {\n    const copyArr = [...productList];\n    copyArr.splice(index, 1);\n    setProductList(copyArr);\n  };\n\n  return (\n    <CCard>\n      <Formik initialValues={initFormState || initialValues} enableReinitialize validate={validate(validationSchema)} onSubmit={onSubmit}>\n        {({\n          values,\n          errors,\n          touched,\n          status,\n          dirty,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          setFieldValue,\n          isSubmitting,\n          isValid,\n          handleReset,\n          setTouched\n        }) => {\n          return (\n            <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n                <CCard className=\"card-accent-primary\">\n                  <CCardHeader>\n                    <CCardTitle>Thông tin khách hàng</CCardTitle>\n                  </CCardHeader>\n\n                  <CCardBody>\n                    <CFormGroup>\n                      <CRow className=\"mb-3\">\n                        <CCol sm={8}>\n                          <CLabel htmlFor=\"lastName\">Chọn khách hàng</CLabel>\n                          <Select\n                            name=\"customer\"\n                            onChange={item => {\n                              setFieldValue('customer', { id: item.value, name: item.label });\n                              onSelectCustomer(item);\n                            }}\n                            value={{\n                              value: values.customer?.id,\n                              label: values.customer?.name\n                            }}\n                            options={customers.map(item => ({\n                              value: item.id,\n                              label: `[${item.code}] ${item.name} ${item.address}`\n                            }))}\n                          />\n                        </CCol>\n                      </CRow>\n                      <FormFeedback className=\"d-block\">{errors.customer}</FormFeedback>\n                    </CFormGroup>\n\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Mã khách hàng:</dt>\n                          <dd className=\"col-sm-9\">{selectedCustomer?.code}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Họ tên:</dt>\n                          <dd className=\"col-sm-9\">{selectedCustomer?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                          <dd className=\"col-sm-9\">{selectedCustomer?.tel}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Chi nhánh:</dt>\n                          <dd className=\"col-sm-9\">{selectedCustomer?.branch?.name}</dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                          <dd className=\"col-sm-9\">{selectedCustomer?.address}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Thành phố:</dt>\n                          <dd className=\"col-sm-9\">{selectedCustomer?.city?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Quận huyện:</dt>\n                          <dd className=\"col-sm-9\">{selectedCustomer?.district?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Loại khách hàng: </dt>\n                          <dd className=\"col-sm-9\">{selectedCustomer?.type?.name}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCard>\n              <CCol xs=\"12\" sm=\"6\" md=\"12\">\n                <CCard className=\"card-accent-info\">\n                  <CCardHeader>\n                    <CCardTitle>Chương trình khuyến mại</CCardTitle>\n                  </CCardHeader>\n                  <CCardBody>\n                    <CFormGroup>\n                      <CRow className=\"mb-3\">\n                        <CCol sm={4}>\n                          <CLabel htmlFor=\"lastName\">Chọn chương trình bán hàng</CLabel>\n                          <Select\n                            onChange={item => {\n                              setFieldValue('promotion', { id: item.value, name: item.label });\n                              onSelectPromotion(item);\n                            }}\n                            value={{\n                              value: values.promotion?.id,\n                              label: values.promotion?.name\n                            }}\n                            name=\"promotion\"\n                            options={promotions.map(item => ({\n                              value: item.id,\n                              label: `${item.name}`\n                            }))}\n                          />\n                        </CCol>\n                      </CRow>\n                      <FormFeedback className=\"d-block\">{errors.promotion}</FormFeedback>\n                    </CFormGroup>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên chương trình:</dt>\n                          <dd className=\"col-sm-9\">{selectedPromotion?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Ngày bắt đầu:</dt>\n                          <dd className=\"col-sm-9\">{selectedPromotion?.startTime}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Sản phẩm áp dụng</dt>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Ngày kết thúc:</dt>\n                          <dd className=\"col-sm-9\">{selectedPromotion?.endTime}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Loại chương trình:</dt>\n                          <dd className=\"col-sm-9\">{mappingType[selectedPromotion?.type]}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                    <CButton\n                      color=\"primary\"\n                      variant=\"outline\"\n                      shape=\"square\"\n                      size=\"sm\"\n                      onClick={() => {\n                        setShowProductPromotion(!showProductPromotion);\n                      }}\n                    >\n                      <CIcon name=\"cilZoom\" /> Xem sản phẩm áp dụng\n                    </CButton>\n                    <CCollapse show={showProductPromotion}>\n                      <CCardBody>\n                        <h5>Thông tin sản phẩm khuyến mại</h5>\n                        <CRow>\n                          <CCol lg=\"6\">\n                            {Array.isArray(promotionState.promotionProducts) &&\n                              promotionState.promotionProducts.map((item, index) => (\n                                <dl className=\"row\">\n                                  <dt className=\"col-sm-4\">{`${item.product.name}`}</dt>\n                                  <dd className=\"col-sm-8\">{`Mua ${item.buy} Tặng ${item.gift}`}</dd>\n                                </dl>\n                              ))}\n                          </CCol>\n                        </CRow>\n                      </CCardBody>\n                    </CCollapse>\n                  </CCardBody>\n                </CCard>\n              </CCol>\n              <CCol xs=\"12\" sm=\"6\" md=\"12\">\n                <CCard className=\"card-accent-info\">\n                  <CCardHeader>\n                    <CCardTitle>Kho hàng</CCardTitle>\n                  </CCardHeader>\n                  <CCardBody>\n                    <CRow className=\"mb-3\">\n                      <CCol sm={4}>\n                        <CLabel htmlFor=\"lastName\">Chọn Kho</CLabel>\n                        <Select\n                          onChange={item => {\n                            setFieldValue('store', item.value);\n                            onSelectWarehouse(item.value);\n                          }}\n                          value={{\n                            value: values.store,\n                            label: values.store?.name\n                          }}\n                          options={warehouses.map(item => ({\n                            value: item,\n                            label: `${item.name}`\n                          }))}\n                        />\n                        {!isSelectedWarehouse && <FormFeedback className=\"d-block\">Bạn phải chọn kho hàng</FormFeedback>}\n                      </CCol>\n                    </CRow>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên kho:</dt>\n                          <dd className=\"col-sm-9\">{selectedWarehouse?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                          <dd className=\"col-sm-9\">{selectedWarehouse?.tel}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                          <dd className=\"col-sm-9\">{selectedWarehouse?.address}</dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Thành phố:</dt>\n                          <dd className=\"col-sm-9\">{selectedWarehouse?.city?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Quận huyện:</dt>\n                          <dd className=\"col-sm-9\">{selectedWarehouse?.district?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Xã phường:</dt>\n                          <dd className=\"col-sm-9\">{selectedWarehouse?.ward?.name}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCard>\n              </CCol>\n\n              <CButton color=\"primary\" variant=\"outline\" shape=\"square\" size=\"sm\" className=\"ml-3 mb-3\" onClick={onAddProduct}>\n                <CIcon name={'cilArrowCircleRight'} className=\"mr-2\" />\n                Thêm sản phẩm\n              </CButton>\n              <CCard>\n                <CCardBody>\n                  <Table responsive striped>\n                    <thead>\n                      <tr>\n                        <th>Sản phẩm</th>\n                        <th>Đơn vị</th>\n                        <th>Dung tích</th>\n                        <th>Số lượng</th>\n                        <th>Đơn giá</th>\n                        <th>Thành tiền</th>\n                        <th>Chiết khấu</th>\n                        <th>Thanh toán</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {productList.map((item, index) => {\n                        console.log(productList[index].priceReal);\n                        return (\n                          <tr key={index}>\n                            <td style={{ width: 300 }}>\n                              <Select\n                                value={{\n                                  value: item.product,\n                                  label: `${item.product.productBrand?.name || ''}-${item.product.name || ''}-${item.product.volume || ''}`\n                                }}\n                                onChange={event => onSelectedProduct(event, index)}\n                                menuPortalTarget={document.body}\n                                options={productInWarehouses.map(item => ({\n                                  value: item.product,\n                                  label: `${item.product.productBrand?.name}-${item.product.name}-${item.product.volume}`\n                                }))}\n                              />\n                            </td>\n                            <td>{item.product?.unit}</td>\n                            <td>{item.product?.volume}</td>\n                            <td style={{ width: 100 }}>\n                              {item.followIndex >= 0 ? (\n                                item.quantity\n                              ) : (\n                                <CInput\n                                  type=\"number\"\n                                  min={1}\n                                  name=\"code\"\n                                  id=\"code\"\n                                  onChange={event => onChangeQuantity(event, index)}\n                                  onBlur={handleBlur}\n                                  value={item.quantity}\n                                />\n                              )}\n                            </td>\n                            <td>\n                              {\n                                <MaskedInput\n                                  mask={currencyMask}\n                                  onChange={event => onChangePrice(event, index)}\n                                  value={\n                                    typeof item.priceReal !== 'number'\n                                      ? new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(item.priceReal)\n                                      : item.priceReal\n                                  }\n                                  render={(ref, props) => <CInput innerRef={ref} {...props} />}\n                                />\n                              }\n                            </td>\n                            <td>\n                              {(item.priceReal * item.quantity).toLocaleString('it-IT', {\n                                style: 'currency',\n                                currency: 'VND'\n                              }) || ''}\n                            </td>\n\n                            <td style={{ width: 100 }}>\n                              <CInput\n                                type=\"number\"\n                                name=\"code\"\n                                id=\"code\"\n                                onChange={event => onChangeReducePercent(event, index)}\n                                onBlur={handleBlur}\n                                value={item.reducePercent}\n                              />\n                            </td>\n                            <td>\n                              {(\n                                item.priceReal * item.quantity -\n                                (item.priceReal * item.quantity * item.reducePercent) / 100\n                              ).toLocaleString('it-IT', {\n                                style: 'currency',\n                                currency: 'VND'\n                              }) || ''}\n                            </td>\n                            <td style={{ width: 100 }}>\n                              <CButton\n                                color=\"danger\"\n                                variant=\"outline\"\n                                shape=\"square\"\n                                size=\"sm\"\n                                className=\"mr-3\"\n                                onClick={() => onRemoveProduct(index)}\n                              >\n                                <CIcon name=\"cilXCircle\" />\n                              </CButton>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </Table>\n                </CCardBody>\n              </CCard>\n              <CCard>\n                <CCardHeader>\n                  <CCardTitle>Thông tin khác</CCardTitle>\n                </CCardHeader>\n                <CCardBody>\n                  <CRow>\n                    <CCol lg=\"4\" sm=\"5\">\n                      <CFormGroup>\n                        <CLabel htmlFor=\"userName\">Địa chỉ</CLabel>\n                        <CTextarea\n                          type=\"text\"\n                          name=\"address\"\n                          id=\"address\"\n                          placeholder=\"Địa chỉ\"\n                          autoComplete=\"address\"\n                          valid={errors.address || null}\n                          invalid={touched.address && !!errors.address}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.address || selectedCustomer?.address}\n                        />\n                      </CFormGroup>\n                      <CFormGroup>\n                        <CLabel htmlFor=\"userName\">Ghi chú</CLabel>\n                        <CTextarea\n                          type=\"text\"\n                          name=\"note\"\n                          id=\"note\"\n                          placeholder=\"ghi chú\"\n                          autoComplete=\"note\"\n                          valid={errors.note || null}\n                          invalid={touched.note && !!errors.note}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.note}\n                        />\n                      </CFormGroup>\n                    </CCol>\n                    <CCol lg=\"4\" sm=\"5\" className=\"ml-auto\">\n                      <Table className=\"table-clear\">\n                        <tbody>\n                          <tr>\n                            <td className=\"left\">\n                              <strong>Tổng số lượng</strong>\n                            </td>\n                            <td className=\"right\">{productList.reduce((sum, current) => sum + Number(current.quantity), 0) || ''}</td>\n                          </tr>\n                          <tr>\n                            <td className=\"left\">\n                              <strong>Tổng tiền</strong>\n                            </td>\n                            <td className=\"right\">\n                              {productList\n                                .reduce((sum, current) => sum + current.priceReal * current.quantity, 0)\n                                .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                            </td>\n                          </tr>\n                          <tr>\n                            <td className=\"left\">\n                              <strong>Chiết khấu</strong>\n                            </td>\n                            <td className=\"right\">\n                              {productList\n                                .reduce((sum, current) => sum + (current.priceReal * current.quantity * current.reducePercent) / 100, 0)\n                                .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                            </td>\n                          </tr>\n                          <tr>\n                            <td className=\"left\">\n                              <strong>Tiền thanh toán</strong>\n                            </td>\n                            <td className=\"right\">\n                              <strong>\n                                {productList\n                                  .reduce(\n                                    (sum, current) =>\n                                      sum +\n                                      (current.priceReal * current.quantity -\n                                        (current.priceReal * current.quantity * current.reducePercent) / 100),\n                                    0\n                                  )\n                                  .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                              </strong>\n                            </td>\n                          </tr>\n                        </tbody>\n                      </Table>\n                      <CFormGroup className=\"d-flex justify-content-center\">\n                        <CButton type=\"submit\" size=\"lg\" className=\"btn btn-success\">\n                          {'Tiếp tục'} <CIcon name=\"cilArrowRight\" />\n                        </CButton>\n                      </CFormGroup>\n                    </CCol>\n                  </CRow>\n                </CCardBody>\n              </CCard>\n            </CForm>\n          );\n        }}\n      </Formik>\n    </CCard>\n  );\n};\n\nexport default CreateOrder;\n"]}]}