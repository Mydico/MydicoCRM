{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/CreateOrder.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/CreateOrder.js","mtime":1624373303359},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX29iamVjdERlc3RydWN0dXJpbmdFbXB0eShvYmopIHsgaWYgKG9iaiA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgZGVzdHJ1Y3R1cmUgdW5kZWZpbmVkIik7IH0KCmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfQoKaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDQnV0dG9uLCBDQ2FyZCwgQ0NhcmRIZWFkZXIsIENDYXJkQm9keSwgQ0NvbCwgQ0Zvcm0sIENDYXJkVGl0bGUsIENMYWJlbCwgQ0lucHV0LCBDQ29sbGFwc2UsIENSb3csIENGb3JtR3JvdXAsIENUZXh0YXJlYSB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKaW1wb3J0IHsgRm9ybWlrIH0gZnJvbSAnZm9ybWlrJzsKaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBjdXJyZW5jeU1hc2sgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2N1cnJlbmN5LWlucHV0L2N1cnJlbmN5LWlucHV0JzsKaW1wb3J0IE1hc2tlZElucHV0IGZyb20gJ3JlYWN0LXRleHQtbWFzayc7CmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JzsKaW1wb3J0IHsgZ2xvYmFsaXplZEN1c3RvbWVyU2VsZWN0b3JzIH0gZnJvbSAnLi4vLi4vY3VzdG9tZXIvY3VzdG9tZXIucmVkdWNlcic7CmltcG9ydCB7IGdldEN1c3RvbWVyIH0gZnJvbSAnLi4vLi4vY3VzdG9tZXIvY3VzdG9tZXIuYXBpJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFByb21vdGlvblNlbGVjdG9ycyB9IGZyb20gJy4uL1Byb21vdGlvbi9wcm9tb3Rpb24ucmVkdWNlcic7CmltcG9ydCB7IGdldFByb21vdGlvbiB9IGZyb20gJy4uL1Byb21vdGlvbi9wcm9tb3Rpb24uYXBpJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFdhcmVob3VzZVNlbGVjdG9ycyB9IGZyb20gJy4uLy4uL3dhcmVob3VzZS9XYXJlaG91c2Uvd2FyZWhvdXNlLnJlZHVjZXInOwppbXBvcnQgeyBnZXRXYXJlaG91c2UgfSBmcm9tICcuLi8uLi93YXJlaG91c2UvV2FyZWhvdXNlL3dhcmVob3VzZS5hcGknOwppbXBvcnQgeyBnZXREZXRhaWxQcm9kdWN0UHJvbW90aW9uIH0gZnJvbSAnLi4vUHJvbW90aW9uL3Byb21vdGlvbi5hcGknOwppbXBvcnQgeyBnbG9iYWxpemVkUHJvZHVjdFdhcmVob3VzZVNlbGVjdG9ycyB9IGZyb20gJy4uLy4uL3dhcmVob3VzZS9Qcm9kdWN0L3Byb2R1Y3Qtd2FyZWhvdXNlLnJlZHVjZXInOwppbXBvcnQgeyBnZXRQcm9kdWN0SW5zdG9yZSwgZ2V0UHJvZHVjdFdhcmVob3VzZSB9IGZyb20gJy4uLy4uL3dhcmVob3VzZS9Qcm9kdWN0L3Byb2R1Y3Qtd2FyZWhvdXNlLmFwaSc7CmltcG9ydCB7IEZvcm1GZWVkYmFjaywgVGFibGUgfSBmcm9tICdyZWFjdHN0cmFwJzsKaW1wb3J0IGNpdGllcyBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvY2l0eSc7CmltcG9ydCBkaXN0cmljdCBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvZGlzdHJpY3QuanNvbic7CmltcG9ydCB7IHVzZXJTYWZlU2VsZWN0b3IgfSBmcm9tICcuLi8uLi9sb2dpbi9hdXRoZW50aWNhdGUucmVkdWNlci5qcyc7Cgp2YXIgdmFsaWRhdGlvblNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRpb25TY2hlbWEoKSB7CiAgcmV0dXJuIFl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICBjdXN0b21lcjogWXVwLm9iamVjdCgpLnJlcXVpcmVkKCdLaMOhY2ggaMOgbmcgIGtow7RuZyDEkeG7gyB0cuG7kW5nJykubnVsbGFibGUoKSwKICAgIHByb21vdGlvbjogWXVwLm9iamVjdCgpLnJlcXVpcmVkKCdDaMawxqFuZyB0csOsbmggYsOhbiBow6BuZyBraMO0bmcgxJHhu4MgdHLhu5FuZycpLm51bGxhYmxlKCkKICB9KTsKfTsKCmltcG9ydCB7IHZhbGlkYXRlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2hhcmVkL3V0aWxzL25vcm1hbGl6ZSc7CmltcG9ydCB7IFByb2R1Y3RTdGF0dXMgfSBmcm9tICcuLi8uLi9wcm9kdWN0L1Byb2R1Y3RMaXN0L2NvbnRhbnRzJzsKdmFyIG1hcHBpbmdUeXBlID0gewogIFNIT1JUVEVSTTogJ05n4bqvbiBo4bqhbicsCiAgTE9OR1RFUk06ICdEw6BpIGjhuqFuJwp9Owp2YXIgc2VsZWN0QWxsQ3VzdG9tZXIgPSBnbG9iYWxpemVkQ3VzdG9tZXJTZWxlY3RvcnMuc2VsZWN0QWxsOwp2YXIgc2VsZWN0QWxsUHJvbW90aW9uID0gZ2xvYmFsaXplZFByb21vdGlvblNlbGVjdG9ycy5zZWxlY3RBbGw7CnZhciBzZWxlY3RBbGxXYXJlaG91c2UgPSBnbG9iYWxpemVkV2FyZWhvdXNlU2VsZWN0b3JzLnNlbGVjdEFsbDsKdmFyIHNlbGVjdEFsbFByb2R1Y3RJbldhcmVob3VzZSA9IGdsb2JhbGl6ZWRQcm9kdWN0V2FyZWhvdXNlU2VsZWN0b3JzLnNlbGVjdEFsbDsKCnZhciBDcmVhdGVPcmRlciA9IGZ1bmN0aW9uIENyZWF0ZU9yZGVyKHByb3BzKSB7CiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnByb21vdGlvbjsKICB9KSwKICAgICAgcHJvbW90aW9uU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKHVzZXJTYWZlU2VsZWN0b3IpLAogICAgICBhY2NvdW50ID0gX3VzZVNlbGVjdG9yMi5hY2NvdW50OwoKICB2YXIgaW5pdGlhbFZhbHVlcyA9IHsKICAgIGN1c3RvbWVyOiBudWxsLAogICAgcHJvbW90aW9uOiBudWxsLAogICAgb3JkZXJEZXRhaWxzOiBbXSwKICAgIGNvZGU6ICcnLAogICAgbm90ZTogJycsCiAgICBhZGRyZXNzOiAnJwogIH07CiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKICB2YXIgY3VzdG9tZXJzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsQ3VzdG9tZXIpOwogIHZhciBwcm9tb3Rpb25zID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsUHJvbW90aW9uKTsKICB2YXIgd2FyZWhvdXNlcyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbFdhcmVob3VzZSk7CiAgdmFyIHByb2R1Y3RJbldhcmVob3VzZXMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGxQcm9kdWN0SW5XYXJlaG91c2UpOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpbml0Rm9ybVN0YXRlID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0SW5pdEZvcm1TdGF0ZSA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgc2VsZWN0ZWRDdXN0b21lciA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIHNlbGVjdGVkUHJvbW90aW9uID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0U2VsZWN0ZWRQcm9tb3Rpb24gPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgX3VzZVN0YXRlNyA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksCiAgICAgIHNlbGVjdGVkV2FyZWhvdXNlID0gX3VzZVN0YXRlOFswXSwKICAgICAgc2V0U2VsZWN0ZWRXYXJlaG91c2UgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgX3VzZVN0YXRlOSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU5LCAyKSwKICAgICAgcHJvZHVjdExpc3QgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0UHJvZHVjdExpc3QgPSBfdXNlU3RhdGUxMFsxXTsKCiAgdmFyIF91c2VTdGF0ZTExID0gdXNlU3RhdGUodHJ1ZSksCiAgICAgIF91c2VTdGF0ZTEyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTEsIDIpLAogICAgICBpc1NlbGVjdGVkV2FyZWhvdXNlID0gX3VzZVN0YXRlMTJbMF0sCiAgICAgIHNldElzU2VsZWN0ZWRXYXJlaG91c2UgPSBfdXNlU3RhdGUxMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTEzID0gdXNlU3RhdGUoZmFsc2UpLAogICAgICBfdXNlU3RhdGUxNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTEzLCAyKSwKICAgICAgc2hvd1Byb2R1Y3RQcm9tb3Rpb24gPSBfdXNlU3RhdGUxNFswXSwKICAgICAgc2V0U2hvd1Byb2R1Y3RQcm9tb3Rpb24gPSBfdXNlU3RhdGUxNFsxXTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIHZhciBfYWNjb3VudCRkZXBhcnRtZW50OwoKICAgIGRpc3BhdGNoKGdldEN1c3RvbWVyKHsKICAgICAgcGFnZTogMCwKICAgICAgc2l6ZTogMjAsCiAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJywKICAgICAgZGVwZW5kZW5jeTogdHJ1ZQogICAgfSkpOwogICAgZGlzcGF0Y2goZ2V0UHJvbW90aW9uKHsKICAgICAgaXNMb2NrOiAwLAogICAgICBwYWdlOiAwLAogICAgICBzaXplOiAyMCwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnLAogICAgICBkZXBlbmRlbmN5OiB0cnVlCiAgICB9KSk7CiAgICBkaXNwYXRjaChnZXRXYXJlaG91c2UoewogICAgICBkZXBhcnRtZW50OiBKU09OLnN0cmluZ2lmeShbKChfYWNjb3VudCRkZXBhcnRtZW50ID0gYWNjb3VudC5kZXBhcnRtZW50KSA9PT0gbnVsbCB8fCBfYWNjb3VudCRkZXBhcnRtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWNjb3VudCRkZXBhcnRtZW50LmlkKSB8fCAnJ10pLAogICAgICBkZXBlbmRlbmN5OiB0cnVlCiAgICB9KSk7CiAgICB2YXIgZXhpc3RPcmRlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvcmRlcicpOwoKICAgIHRyeSB7CiAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShleGlzdE9yZGVyKTsKCiAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPiAwKSB7CiAgICAgICAgc2V0SW5pdEZvcm1TdGF0ZShkYXRhKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkge30KICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0Rm9ybVN0YXRlKSB7CiAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoaW5pdEZvcm1TdGF0ZS5jdXN0b21lcik7CiAgICAgIHNldFNlbGVjdGVkUHJvbW90aW9uKGluaXRGb3JtU3RhdGUucHJvbW90aW9uKTsKICAgICAgc2V0U2VsZWN0ZWRXYXJlaG91c2UoaW5pdEZvcm1TdGF0ZS5zdG9yZSk7CiAgICAgIHNldFByb2R1Y3RMaXN0KGluaXRGb3JtU3RhdGUub3JkZXJEZXRhaWxzKTsKICAgIH0KICB9LCBbaW5pdEZvcm1TdGF0ZV0pOwoKICB2YXIgdG9PcmRlckludm9pY2UgPSBmdW5jdGlvbiB0b09yZGVySW52b2ljZShkYXRhKSB7CiAgICBoaXN0b3J5LnB1c2goewogICAgICBwYXRobmFtZTogIiIuY29uY2F0KHByb3BzLm1hdGNoLnVybCwgIi9pbnZvaWNlIiksCiAgICAgIHN0YXRlOiBkYXRhCiAgICB9KTsKICB9OwoKICB2YXIgZGVib3VuY2VkU2VhcmNoQ3VzdG9tZXIgPSBfLmRlYm91bmNlKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgZGlzcGF0Y2goZ2V0Q3VzdG9tZXIoewogICAgICBwYWdlOiAwLAogICAgICBzaXplOiAyMCwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnLAogICAgICBjb2RlOiB2YWx1ZSwKICAgICAgbmFtZTogdmFsdWUsCiAgICAgIGFkZHJlc3M6IHZhbHVlLAogICAgICBjb250YWN0TmFtZTogdmFsdWUsCiAgICAgIGRlcGVuZGVuY3k6IHRydWUKICAgIH0pKTsKICB9LCAzMDApOwoKICB2YXIgb25TZWFyY2hDdXN0b21lciA9IGZ1bmN0aW9uIG9uU2VhcmNoQ3VzdG9tZXIodmFsdWUpIHsKICAgIGRlYm91bmNlZFNlYXJjaEN1c3RvbWVyKHZhbHVlKTsKICB9OwoKICB2YXIgb25TZWFyY2hQcm9taXRpb24gPSBmdW5jdGlvbiBvblNlYXJjaFByb21pdGlvbih2YWx1ZSkgewogICAgZGlzcGF0Y2goZ2V0UHJvbW90aW9uKHsKICAgICAgcGFnZTogMCwKICAgICAgc2l6ZTogMjAsCiAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJywKICAgICAgbmFtZTogdmFsdWUsCiAgICAgIGRlcGVuZGVuY3k6IHRydWUKICAgIH0pKTsKICB9OwoKICB2YXIgb25TdWJtaXQgPSBmdW5jdGlvbiBvblN1Ym1pdCh2YWx1ZXMsIF9yZWYpIHsKICAgIF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkoX3JlZik7CgogICAgdmFyIGlzVmFsaWRQcm9kdWN0ID0gdHJ1ZTsKICAgIHByb2R1Y3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgaWYgKGVsZW1lbnQucXVhbnRpdHkgPiBlbGVtZW50LnF1YW50aXR5SW5TdG9yZSkgewogICAgICAgIGlzVmFsaWRQcm9kdWN0ID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9KTsKICAgIGlmICghaXNWYWxpZFByb2R1Y3QpIHJldHVybjsKICAgIGlmICghdmFsdWVzLmFkZHJlc3MpIHZhbHVlcy5hZGRyZXNzID0gc2VsZWN0ZWRDdXN0b21lci5hZGRyZXNzOwogICAgdmFsdWVzLmN1c3RvbWVyID0gc2VsZWN0ZWRDdXN0b21lcjsKICAgIHZhbHVlcy5zdG9yZSA9IHNlbGVjdGVkV2FyZWhvdXNlOwogICAgdmFsdWVzLnByb21vdGlvbiA9IHNlbGVjdGVkUHJvbW90aW9uOwogICAgdmFsdWVzLm9yZGVyRGV0YWlscyA9IHByb2R1Y3RMaXN0OwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ29yZGVyJywgSlNPTi5zdHJpbmdpZnkodmFsdWVzKSk7CiAgICB0b09yZGVySW52b2ljZSh2YWx1ZXMpOyAvLyBkaXNwYXRjaChjcmVhdGluZ09yZGVyKHZhbHVlcykpOwogIH07CgogIHZhciBvblNlbGVjdEN1c3RvbWVyID0gZnVuY3Rpb24gb25TZWxlY3RDdXN0b21lcihfcmVmMikgewogICAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWU7CiAgICB2YXIgYXJyID0gY3VzdG9tZXJzLmZpbHRlcihmdW5jdGlvbiAoY3VzdG9tZXIpIHsKICAgICAgcmV0dXJuIGN1c3RvbWVyLmlkID09PSB2YWx1ZTsKICAgIH0pOwoKICAgIGlmIChhcnIubGVuZ3RoID09PSAxKSB7CiAgICAgIHNldFNlbGVjdGVkQ3VzdG9tZXIoYXJyWzBdKTsKICAgIH0KICB9OwoKICB2YXIgb25TZWxlY3RQcm9tb3Rpb24gPSBmdW5jdGlvbiBvblNlbGVjdFByb21vdGlvbihfcmVmMykgewogICAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWU7CiAgICB2YXIgYXJyID0gcHJvbW90aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGN1c3RvbWVyKSB7CiAgICAgIHJldHVybiBjdXN0b21lci5pZCA9PT0gdmFsdWU7CiAgICB9KTsKCiAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMSkgewogICAgICBzZXRTZWxlY3RlZFByb21vdGlvbihhcnJbMF0pOwogICAgfQogIH07CgogIHZhciBvblNlbGVjdGVkUHJvZHVjdCA9IGZ1bmN0aW9uIG9uU2VsZWN0ZWRQcm9kdWN0KF9yZWY0LCBpbmRleCkgewogICAgdmFyIHZhbHVlID0gX3JlZjQudmFsdWU7CgogICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgIGNvcHlBcnJbaW5kZXhdLnByaWNlUmVhbCA9IE51bWJlcih2YWx1ZS5wcmljZSk7CiAgICBjb3B5QXJyW2luZGV4XS5wcm9kdWN0ID0gdmFsdWU7CiAgICBzZXRQcm9kdWN0TGlzdChjb3B5QXJyKTsKICAgIG9uQ2hhbmdlUXVhbnRpdHkoewogICAgICB0YXJnZXQ6IHsKICAgICAgICB2YWx1ZTogMQogICAgICB9CiAgICB9LCBpbmRleCk7CiAgfTsKCiAgdmFyIG9uU2VsZWN0V2FyZWhvdXNlID0gZnVuY3Rpb24gb25TZWxlY3RXYXJlaG91c2UodmFsdWUpIHsKICAgIHNldFNlbGVjdGVkV2FyZWhvdXNlKHZhbHVlKTsKICAgIHNldElzU2VsZWN0ZWRXYXJlaG91c2UodHJ1ZSk7CiAgfTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChzZWxlY3RlZFByb21vdGlvbiAhPT0gbnVsbCAmJiBzZWxlY3RlZFByb21vdGlvbiAhPT0gdm9pZCAwICYmIHNlbGVjdGVkUHJvbW90aW9uLmlkKSB7CiAgICAgIGRpc3BhdGNoKGdldERldGFpbFByb2R1Y3RQcm9tb3Rpb24oewogICAgICAgIHByb21vdGlvbjogc2VsZWN0ZWRQcm9tb3Rpb24uaWQKICAgICAgfSkpOwogICAgfQogIH0sIFtzZWxlY3RlZFByb21vdGlvbl0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoc2VsZWN0ZWRXYXJlaG91c2UgIT09IG51bGwgJiYgc2VsZWN0ZWRXYXJlaG91c2UgIT09IHZvaWQgMCAmJiBzZWxlY3RlZFdhcmVob3VzZS5pZCkgewogICAgICBkaXNwYXRjaChnZXRQcm9kdWN0V2FyZWhvdXNlKHsKICAgICAgICBzdG9yZTogc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkV2FyZWhvdXNlLmlkLAogICAgICAgIHN0YXR1czogJ0FDVElWRScsCiAgICAgICAgcGFnZTogMCwKICAgICAgICBzaXplOiAyMCwKICAgICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycsCiAgICAgICAgZGVwZW5kZW5jeTogdHJ1ZQogICAgICB9KSk7CiAgICB9CiAgfSwgW3NlbGVjdGVkV2FyZWhvdXNlXSk7CgogIHZhciBvbkFkZFByb2R1Y3QgPSBmdW5jdGlvbiBvbkFkZFByb2R1Y3QoKSB7CiAgICBpZiAoc2VsZWN0ZWRXYXJlaG91c2UgIT09IG51bGwgJiYgc2VsZWN0ZWRXYXJlaG91c2UgIT09IHZvaWQgMCAmJiBzZWxlY3RlZFdhcmVob3VzZS5pZCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwcm9kdWN0OiB7fSwKICAgICAgICBxdWFudGl0eTogMSwKICAgICAgICBxdWFudGl0eUFuZEdpZnQ6IDAsCiAgICAgICAgcmVkdWNlUGVyY2VudDogMCwKICAgICAgICBwcmljZVJlYWw6IDAsCiAgICAgICAgc3RvcmU6IHsKICAgICAgICAgIGlkOiBzZWxlY3RlZFdhcmVob3VzZS5pZAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2V0UHJvZHVjdExpc3QoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCksIFtkYXRhXSkpOwogICAgfSBlbHNlIHsKICAgICAgc2V0SXNTZWxlY3RlZFdhcmVob3VzZShmYWxzZSk7CiAgICB9CiAgfTsKCiAgdmFyIGRlYm91bmNlZFNlYXJjaFByb2R1Y3QgPSBfLmRlYm91bmNlKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgZGlzcGF0Y2goZ2V0UHJvZHVjdFdhcmVob3VzZSh7CiAgICAgIHN0b3JlOiBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRXYXJlaG91c2UuaWQsCiAgICAgIHBhZ2U6IDAsCiAgICAgIHNpemU6IDIwLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycsCiAgICAgIG5hbWU6IHZhbHVlLAogICAgICBzdGF0dXM6ICdBQ1RJVkUnLAogICAgICBkZXBlbmRlbmN5OiB0cnVlCiAgICB9KSk7CiAgfSwgMzAwKTsKCiAgdmFyIG9uU2VhcmNoUHJvZHVjdCA9IGZ1bmN0aW9uIG9uU2VhcmNoUHJvZHVjdCh2YWx1ZSkgewogICAgZGVib3VuY2VkU2VhcmNoUHJvZHVjdCh2YWx1ZSk7CiAgfTsKCiAgdmFyIGRlYm91bmNlZFNlYXJjaFByb2R1Y3RJblN0b3JlID0gXy5kZWJvdW5jZShmdW5jdGlvbiAoY29weUFyciwgaW5kZXgpIHsKICAgIGRpc3BhdGNoKGdldFByb2R1Y3RJbnN0b3JlKHsKICAgICAgc3RvcmVJZDogc2VsZWN0ZWRXYXJlaG91c2UuaWQsCiAgICAgIHByb2R1Y3RJZDogY29weUFycltpbmRleF0ucHJvZHVjdC5pZAogICAgfSkpLnRoZW4oZnVuY3Rpb24gKG51bWJlck9mUXVhbnRpdHlJblN0b3JlKSB7CiAgICAgIGlmIChudW1iZXJPZlF1YW50aXR5SW5TdG9yZSAmJiBBcnJheS5pc0FycmF5KG51bWJlck9mUXVhbnRpdHlJblN0b3JlLnBheWxvYWQpICYmIG51bWJlck9mUXVhbnRpdHlJblN0b3JlLnBheWxvYWQubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBfbnVtYmVyT2ZRdWFudGl0eUluU3Q7CgogICAgICAgIGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5SW5TdG9yZSA9IChudW1iZXJPZlF1YW50aXR5SW5TdG9yZSA9PT0gbnVsbCB8fCBudW1iZXJPZlF1YW50aXR5SW5TdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9udW1iZXJPZlF1YW50aXR5SW5TdCA9IG51bWJlck9mUXVhbnRpdHlJblN0b3JlLnBheWxvYWRbMF0pID09PSBudWxsIHx8IF9udW1iZXJPZlF1YW50aXR5SW5TdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX251bWJlck9mUXVhbnRpdHlJblN0LnF1YW50aXR5KSB8fCAwOwogICAgICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogICAgICB9CiAgICB9KTsKICB9LCAxMDAwKTsKCiAgdmFyIG9uU2VhcmNoUHJvZHVjdEluc3RvcmUgPSBmdW5jdGlvbiBvblNlYXJjaFByb2R1Y3RJbnN0b3JlKGNvcHlBcnIsIGluZGV4KSB7CiAgICBpZiAoIWNvcHlBcnJbaW5kZXhdLnF1YW50aXR5SW5TdG9yZSkgewogICAgICBkZWJvdW5jZWRTZWFyY2hQcm9kdWN0SW5TdG9yZShjb3B5QXJyLCBpbmRleCk7CiAgICB9CiAgfTsKCiAgdmFyIG9uQ2hhbmdlUXVhbnRpdHkgPSBmdW5jdGlvbiBvbkNoYW5nZVF1YW50aXR5KF9yZWY1LCBpbmRleCkgewogICAgdmFyIHRhcmdldCA9IF9yZWY1LnRhcmdldDsKCiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCk7CgogICAgY29weUFycltpbmRleF0ucXVhbnRpdHkgPSB0YXJnZXQudmFsdWU7CiAgICBjb3B5QXJyW2luZGV4XS5wcmljZVRvdGFsID0gY29weUFycltpbmRleF0ucXVhbnRpdHkgKiBjb3B5QXJyW2luZGV4XS5wcmljZVJlYWw7CgogICAgaWYgKEFycmF5LmlzQXJyYXkocHJvbW90aW9uU3RhdGUucHJvbW90aW9uUHJvZHVjdHMpKSB7CiAgICAgIHZhciBmb3VuZGVkID0gcHJvbW90aW9uU3RhdGUucHJvbW90aW9uUHJvZHVjdHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucHJvZHVjdC5pZCA9PT0gY29weUFycltpbmRleF0ucHJvZHVjdC5pZDsKICAgICAgfSk7CgogICAgICBpZiAoZm91bmRlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgaWYgKHRhcmdldC52YWx1ZSA+PSBmb3VuZGVkWzBdLmJ1eSkgewogICAgICAgICAgdmFyIHJhdGlvID0gZm91bmRlZFswXS5naWZ0IC8gZm91bmRlZFswXS5idXk7CiAgICAgICAgICB2YXIgZ2lmdCA9IE1hdGguZmxvb3IodGFyZ2V0LnZhbHVlICogcmF0aW8pOwogICAgICAgICAgdmFyIGV4aXN0RXh0cmFQcm9kdWN0SW5kZXggPSBjb3B5QXJyLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5mb2xsb3dJbmRleCA9PT0gaW5kZXg7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoZXhpc3RFeHRyYVByb2R1Y3RJbmRleCAhPSAtMSkgewogICAgICAgICAgICBjb3B5QXJyW2V4aXN0RXh0cmFQcm9kdWN0SW5kZXhdLnF1YW50aXR5ID0gZ2lmdDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBleHRyYVByb2R1Y3QgPSB7CiAgICAgICAgICAgICAgcHJvZHVjdDogY29weUFycltpbmRleF0ucHJvZHVjdCwKICAgICAgICAgICAgICBxdWFudGl0eTogZ2lmdCwKICAgICAgICAgICAgICBwcmljZVJlYWw6IE51bWJlcihjb3B5QXJyW2luZGV4XS5wcm9kdWN0LnByaWNlKSwKICAgICAgICAgICAgICByZWR1Y2VQZXJjZW50OiAxMDAsCiAgICAgICAgICAgICAgc3RvcmU6IHsKICAgICAgICAgICAgICAgIGlkOiBzZWxlY3RlZFdhcmVob3VzZS5pZAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYXR0YWNoVG86IGluZGV4LAogICAgICAgICAgICAgIGZvbGxvd0luZGV4OiBpbmRleAogICAgICAgICAgICB9OwogICAgICAgICAgICBjb3B5QXJyLnNwbGljZShpbmRleCArIDEsIDAsIGV4dHJhUHJvZHVjdCk7CiAgICAgICAgICB9CgogICAgICAgICAgY29weUFycltpbmRleF0ucXVhbnRpdHlBbmRHaWZ0ID0gTnVtYmVyKGdpZnQpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChzZWxlY3RlZFdhcmVob3VzZSAmJiBjb3B5QXJyW2luZGV4XS5wcm9kdWN0KSB7CiAgICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogICAgICBvblNlYXJjaFByb2R1Y3RJbnN0b3JlKGNvcHlBcnIsIGluZGV4KTsKICAgIH0KICB9OwoKICB2YXIgb25DaGFuZ2VQcmljZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlUHJpY2UoX3JlZjYsIGluZGV4KSB7CiAgICB2YXIgdGFyZ2V0ID0gX3JlZjYudGFyZ2V0OwogICAgdmFyIGNvcHlBcnIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHByb2R1Y3RMaXN0KSk7CiAgICBjb3B5QXJyW2luZGV4XS5wcmljZVJlYWwgPSBOdW1iZXIodGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xEL2csICcnKSk7CiAgICBjb3B5QXJyW2luZGV4XS5wcmljZVRvdGFsID0gY29weUFycltpbmRleF0ucXVhbnRpdHkgKiBjb3B5QXJyW2luZGV4XS5wcmljZVJlYWw7CiAgICBzZXRQcm9kdWN0TGlzdChjb3B5QXJyKTsKICB9OwoKICB2YXIgb25DaGFuZ2VSZWR1Y2VQZXJjZW50ID0gZnVuY3Rpb24gb25DaGFuZ2VSZWR1Y2VQZXJjZW50KF9yZWY3LCBpbmRleCkgewogICAgdmFyIHRhcmdldCA9IF9yZWY3LnRhcmdldDsKCiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCk7CgogICAgY29weUFycltpbmRleF0ucmVkdWNlUGVyY2VudCA9IHRhcmdldC52YWx1ZSA+IDEwMCA/IDEwMCA6IHRhcmdldC52YWx1ZTsKICAgIGNvcHlBcnJbaW5kZXhdLnByaWNlVG90YWwgPSBjb3B5QXJyW2luZGV4XS5wcmljZVJlYWwgKiBjb3B5QXJyW2luZGV4XS5xdWFudGl0eSAtIGNvcHlBcnJbaW5kZXhdLnByaWNlUmVhbCAqIGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5ICogY29weUFycltpbmRleF0ucmVkdWNlUGVyY2VudCAvIDEwMDsKICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvblJlbW92ZVByb2R1Y3QgPSBmdW5jdGlvbiBvblJlbW92ZVByb2R1Y3QoaW5kZXgpIHsKICAgIHZhciBjb3B5QXJyID0gX3RvQ29uc3VtYWJsZUFycmF5KHByb2R1Y3RMaXN0KTsKCiAgICBjb3B5QXJyLnNwbGljZShpbmRleCwgMSk7CiAgICBzZXRQcm9kdWN0TGlzdChjb3B5QXJyKTsKICB9OwoKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWlrLCB7CiAgICBpbml0aWFsVmFsdWVzOiBpbml0Rm9ybVN0YXRlIHx8IGluaXRpYWxWYWx1ZXMsCiAgICBlbmFibGVSZWluaXRpYWxpemU6IHRydWUsCiAgICB2YWxpZGF0ZTogdmFsaWRhdGUodmFsaWRhdGlvblNjaGVtYSksCiAgICBvblN1Ym1pdDogb25TdWJtaXQKICB9LCBmdW5jdGlvbiAoX3JlZjgpIHsKICAgIHZhciBfdmFsdWVzJGN1c3RvbWVyLCBfdmFsdWVzJGN1c3RvbWVyMiwgX3NlbGVjdGVkQ3VzdG9tZXIkZGVwLCBfY2l0aWVzJGZpbHRlciQsIF9kaXN0cmljdCRmaWx0ZXIkLCBfc2VsZWN0ZWRDdXN0b21lciR0eXAsIF92YWx1ZXMkcHJvbW90aW9uLCBfdmFsdWVzJHByb21vdGlvbjIsIF92YWx1ZXMkc3RvcmU7CgogICAgdmFyIHZhbHVlcyA9IF9yZWY4LnZhbHVlcywKICAgICAgICBlcnJvcnMgPSBfcmVmOC5lcnJvcnMsCiAgICAgICAgdG91Y2hlZCA9IF9yZWY4LnRvdWNoZWQsCiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX3JlZjguaGFuZGxlQ2hhbmdlLAogICAgICAgIGhhbmRsZUJsdXIgPSBfcmVmOC5oYW5kbGVCbHVyLAogICAgICAgIGhhbmRsZVN1Ym1pdCA9IF9yZWY4LmhhbmRsZVN1Ym1pdCwKICAgICAgICBzZXRGaWVsZFZhbHVlID0gX3JlZjguc2V0RmllbGRWYWx1ZTsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybSwgewogICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBub1ZhbGlkYXRlOiB0cnVlLAogICAgICBuYW1lOiAic2ltcGxlRm9ybSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCB7CiAgICAgIGNsYXNzTmFtZTogImNhcmQtYWNjZW50LXByaW1hcnkiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIlRoXHhGNG5nIHRpbiBraFx4RTFjaCBoXHhFMG5nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIHsKICAgICAgY2xhc3NOYW1lOiAibWItMyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgc206IDgKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAibGFzdE5hbWUiCiAgICB9LCAiQ2hcdTFFQ0RuIGtoXHhFMWNoIGhceEUwbmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgIG5hbWU6ICJjdXN0b21lciIsCiAgICAgIG9uSW5wdXRDaGFuZ2U6IG9uU2VhcmNoQ3VzdG9tZXIsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShpdGVtKSB7CiAgICAgICAgc2V0RmllbGRWYWx1ZSgnY3VzdG9tZXInLCB7CiAgICAgICAgICBpZDogaXRlbS52YWx1ZSwKICAgICAgICAgIG5hbWU6IGl0ZW0ubGFiZWwKICAgICAgICB9KTsKICAgICAgICBvblNlbGVjdEN1c3RvbWVyKGl0ZW0pOwogICAgICB9LAogICAgICB2YWx1ZTogewogICAgICAgIHZhbHVlOiAoX3ZhbHVlcyRjdXN0b21lciA9IHZhbHVlcy5jdXN0b21lcikgPT09IG51bGwgfHwgX3ZhbHVlcyRjdXN0b21lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjdXN0b21lci5pZCwKICAgICAgICBsYWJlbDogKF92YWx1ZXMkY3VzdG9tZXIyID0gdmFsdWVzLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfdmFsdWVzJGN1c3RvbWVyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjdXN0b21lcjIubmFtZQogICAgICB9LAogICAgICBvcHRpb25zOiBjdXN0b21lcnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgbGFiZWw6ICJbIi5jb25jYXQoaXRlbS5jb2RlLCAiXSAiKS5jb25jYXQoaXRlbS5uYW1lLCAiICIpLmNvbmNhdChpdGVtLmFkZHJlc3MpCiAgICAgICAgfTsKICAgICAgfSkKICAgIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1GZWVkYmFjaywgewogICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgfSwgZXJyb3JzLmN1c3RvbWVyKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIk1ceEUzIGtoXHhFMWNoIGhceEUwbmc6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZEN1c3RvbWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkQ3VzdG9tZXIuY29kZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiSFx1MUVDRCB0XHhFQW46IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZEN1c3RvbWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkQ3VzdG9tZXIubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiU1x1MUVEMSBcdTAxMTFpXHUxRUM3biB0aG9cdTFFQTFpOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZEN1c3RvbWVyLnRlbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiQ2hpIG5oXHhFMW5oOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3NlbGVjdGVkQ3VzdG9tZXIkZGVwID0gc2VsZWN0ZWRDdXN0b21lci5kZXBhcnRtZW50KSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWRDdXN0b21lciRkZXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZEN1c3RvbWVyJGRlcC5uYW1lKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5OiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZEN1c3RvbWVyLmFkZHJlc3MpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlRoXHhFMG5oIHBoXHUxRUQxOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgKChfY2l0aWVzJGZpbHRlciQgPSBjaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChjaXR5KSB7CiAgICAgIHJldHVybiBjaXR5LnZhbHVlID09PSAoc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZEN1c3RvbWVyLmNpdHkpOwogICAgfSlbMF0pID09PSBudWxsIHx8IF9jaXRpZXMkZmlsdGVyJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NpdGllcyRmaWx0ZXIkLmxhYmVsKSB8fCAnJykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiUXVcdTFFQURuIGh1eVx1MUVDN246IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCAoKF9kaXN0cmljdCRmaWx0ZXIkID0gZGlzdHJpY3QuZmlsdGVyKGZ1bmN0aW9uIChkaXN0KSB7CiAgICAgIHJldHVybiBkaXN0LnZhbHVlID09PSAoc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZEN1c3RvbWVyLmRpc3RyaWN0KTsKICAgIH0pWzBdKSA9PT0gbnVsbCB8fCBfZGlzdHJpY3QkZmlsdGVyJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Rpc3RyaWN0JGZpbHRlciQubGFiZWwpIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJMb1x1MUVBMWkga2hceEUxY2ggaFx4RTBuZzogIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZEN1c3RvbWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRDdXN0b21lciR0eXAgPSBzZWxlY3RlZEN1c3RvbWVyLnR5cGUpID09PSBudWxsIHx8IF9zZWxlY3RlZEN1c3RvbWVyJHR5cCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkQ3VzdG9tZXIkdHlwLm5hbWUpKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCB7CiAgICAgIGNsYXNzTmFtZTogImNhcmQtYWNjZW50LWluZm8iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIkNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmgga2h1eVx1MUVCRm4gbVx1MUVBMWkiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgewogICAgICBjbGFzc05hbWU6ICJtYi0zIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBzbTogNAogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsYXN0TmFtZSIKICAgIH0sICJDaFx1MUVDRG4gY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBiXHhFMW4gaFx4RTBuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgb25JbnB1dENoYW5nZTogb25TZWFyY2hQcm9taXRpb24sCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShpdGVtKSB7CiAgICAgICAgc2V0RmllbGRWYWx1ZSgncHJvbW90aW9uJywgewogICAgICAgICAgaWQ6IGl0ZW0udmFsdWUsCiAgICAgICAgICBuYW1lOiBpdGVtLmxhYmVsCiAgICAgICAgfSk7CiAgICAgICAgb25TZWxlY3RQcm9tb3Rpb24oaXRlbSk7CiAgICAgIH0sCiAgICAgIHZhbHVlOiB7CiAgICAgICAgdmFsdWU6IChfdmFsdWVzJHByb21vdGlvbiA9IHZhbHVlcy5wcm9tb3Rpb24pID09PSBudWxsIHx8IF92YWx1ZXMkcHJvbW90aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJHByb21vdGlvbi5pZCwKICAgICAgICBsYWJlbDogKF92YWx1ZXMkcHJvbW90aW9uMiA9IHZhbHVlcy5wcm9tb3Rpb24pID09PSBudWxsIHx8IF92YWx1ZXMkcHJvbW90aW9uMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRwcm9tb3Rpb24yLm5hbWUKICAgICAgfSwKICAgICAgbmFtZTogInByb21vdGlvbiIsCiAgICAgIG9wdGlvbnM6IHByb21vdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdChpdGVtLm5hbWUpCiAgICAgICAgfTsKICAgICAgfSkKICAgIH0pKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1GZWVkYmFjaywgewogICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgfSwgZXJyb3JzLnByb21vdGlvbikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJUXHhFQW4gY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaDoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIHNlbGVjdGVkUHJvbW90aW9uID09PSBudWxsIHx8IHNlbGVjdGVkUHJvbW90aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZFByb21vdGlvbi5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJOZ1x4RTB5IGJcdTFFQUZ0IFx1MDExMVx1MUVBN3U6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFByb21vdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3RlZFByb21vdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRQcm9tb3Rpb24uc3RhcnRUaW1lKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJOZ1x4RTB5IGtcdTFFQkZ0IHRoXHhGQWM6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFByb21vdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3RlZFByb21vdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRQcm9tb3Rpb24uZW5kVGltZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiTG9cdTFFQTFpIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmg6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBtYXBwaW5nVHlwZVtzZWxlY3RlZFByb21vdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3RlZFByb21vdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRQcm9tb3Rpb24udHlwZV0pKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICBzaXplOiAic20iLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIHNldFNob3dQcm9kdWN0UHJvbW90aW9uKCFzaG93UHJvZHVjdFByb21vdGlvbik7CiAgICAgIH0KICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWxab29tIgogICAgfSksICIgWGVtIHNcdTFFQTNuIHBoXHUxRUE5bSBceEUxcCBkXHUxRUU1bmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbGxhcHNlLCB7CiAgICAgIHNob3c6IHNob3dQcm9kdWN0UHJvbW90aW9uCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJUaFx4RjRuZyB0aW4gc1x1MUVBM24gcGhcdTFFQTltIGtodXlcdTFFQkZuIG1cdTFFQTFpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgQXJyYXkuaXNBcnJheShwcm9tb3Rpb25TdGF0ZS5wcm9tb3Rpb25Qcm9kdWN0cykgJiYgcHJvbW90aW9uU3RhdGUucHJvbW90aW9uUHJvZHVjdHMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgIGNsYXNzTmFtZTogInJvdyIsCiAgICAgICAga2V5OiBpbmRleAogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTYiCiAgICAgIH0sICIiLmNvbmNhdChpdGVtLnByb2R1Y3QubmFtZSwgIiAiKS5jb25jYXQoaXRlbS5wcm9kdWN0LnZvbHVtZSwgIm1sIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTYiCiAgICAgIH0sICJNdWEgIi5jb25jYXQoaXRlbS5idXksICIgVFx1MUVCN25nICIpLmNvbmNhdChpdGVtLmdpZnQpKSk7CiAgICB9KSkpKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIHsKICAgICAgY2xhc3NOYW1lOiAiY2FyZC1hY2NlbnQtaW5mbyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZFRpdGxlLCBudWxsLCAiS2hvIGhceEUwbmciKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgewogICAgICBjbGFzc05hbWU6ICJtYi0zIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBzbTogNAogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsYXN0TmFtZSIKICAgIH0sICJDaFx1MUVDRG4gS2hvIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwgewogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoaXRlbSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ3N0b3JlJywgaXRlbS52YWx1ZSk7CiAgICAgICAgb25TZWxlY3RXYXJlaG91c2UoaXRlbS52YWx1ZSk7CiAgICAgIH0sCiAgICAgIHZhbHVlOiB7CiAgICAgICAgdmFsdWU6IHZhbHVlcy5zdG9yZSwKICAgICAgICBsYWJlbDogKF92YWx1ZXMkc3RvcmUgPSB2YWx1ZXMuc3RvcmUpID09PSBudWxsIHx8IF92YWx1ZXMkc3RvcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWx1ZXMkc3RvcmUubmFtZQogICAgICB9LAogICAgICBvcHRpb25zOiB3YXJlaG91c2VzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogaXRlbSwKICAgICAgICAgIGxhYmVsOiAiIi5jb25jYXQoaXRlbS5uYW1lKQogICAgICAgIH07CiAgICAgIH0pCiAgICB9KSwgIWlzU2VsZWN0ZWRXYXJlaG91c2UgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCAiQlx1MUVBMW4gcGhcdTFFQTNpIGNoXHUxRUNEbiBraG8gaFx4RTBuZyIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlRceEVBbiBraG86IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRXYXJlaG91c2UubmFtZSkpKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgc2l6ZTogInNtIiwKICAgICAgY2xhc3NOYW1lOiAibWwtMyBtYi0zIiwKICAgICAgb25DbGljazogb25BZGRQcm9kdWN0CiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAnY2lsQXJyb3dDaXJjbGVSaWdodCcsCiAgICAgIGNsYXNzTmFtZTogIm1yLTIiCiAgICB9KSwgIlRoXHhFQW0gc1x1MUVBM24gcGhcdTFFQTltIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlLCB7CiAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgIHN0cmlwZWQ6IHRydWUKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJTXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlx1MDExMFx1MDFBMW4gdlx1MUVDQiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiRHVuZyB0XHhFRGNoIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJTXHUxRUQxIGxcdTAxQjBcdTFFRTNuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiXHUwMTEwXHUwMUExbiBnaVx4RTEiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlRoXHhFMG5oIHRpXHUxRUMxbiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiQ2hpXHUxRUJGdCBraFx1MUVBNXUiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlRoYW5oIHRvXHhFMW4iKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGJvZHkiLCBudWxsLCBwcm9kdWN0TGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIHZhciBfaXRlbSRwcm9kdWN0JHByb2R1Y3QsIF9pdGVtJHByb2R1Y3QsIF9pdGVtJHByb2R1Y3QyOwoKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIHsKICAgICAgICBrZXk6IGluZGV4LAogICAgICAgIHN0eWxlOiBpdGVtLnF1YW50aXR5SW5TdG9yZSAhPT0gdW5kZWZpbmVkICYmIE51bWJlcihpdGVtLnF1YW50aXR5KSArIChOdW1iZXIoaXRlbS5xdWFudGl0eUFuZEdpZnQpIHx8IDApID4gaXRlbS5xdWFudGl0eUluU3RvcmUgPyB7CiAgICAgICAgICBib3hTaGFkb3c6ICcwcHggMHB4IDZweCA1cHggcmVkJwogICAgICAgIH0gOiB7fQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIG1pbldpZHRoOiAzMDAKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwgewogICAgICAgIHZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogaXRlbS5wcm9kdWN0LAogICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdCgoKF9pdGVtJHByb2R1Y3QkcHJvZHVjdCA9IGl0ZW0ucHJvZHVjdC5wcm9kdWN0QnJhbmQpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QkcHJvZHVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdCRwcm9kdWN0LmNvZGUpIHx8ICcnLCAiLSIpLmNvbmNhdChpdGVtLnByb2R1Y3QubmFtZSB8fCAnJywgIi0iKS5jb25jYXQoaXRlbS5wcm9kdWN0LnZvbHVtZSB8fCAnJykKICAgICAgICB9LAogICAgICAgIG9uSW5wdXRDaGFuZ2U6IG9uU2VhcmNoUHJvZHVjdCwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBvblNlbGVjdGVkUHJvZHVjdChldmVudCwgaW5kZXgpOwogICAgICAgIH0sCiAgICAgICAgbWVudVBvcnRhbFRhcmdldDogZG9jdW1lbnQuYm9keSwKICAgICAgICBvcHRpb25zOiBwcm9kdWN0SW5XYXJlaG91c2VzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdmFyIF9pdGVtJHByb2R1Y3QkcHJvZHVjdDI7CgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdmFsdWU6IGl0ZW0ucHJvZHVjdCwKICAgICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdCgoX2l0ZW0kcHJvZHVjdCRwcm9kdWN0MiA9IGl0ZW0ucHJvZHVjdC5wcm9kdWN0QnJhbmQpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QkcHJvZHVjdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QkcHJvZHVjdDIuY29kZSwgIi0iKS5jb25jYXQoaXRlbS5wcm9kdWN0Lm5hbWUsICItIikuY29uY2F0KGl0ZW0ucHJvZHVjdC52b2x1bWUpCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKF9pdGVtJHByb2R1Y3QgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QudW5pdCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIChfaXRlbSRwcm9kdWN0MiA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QyLnZvbHVtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgbWluV2lkdGg6IDEwMAogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgbWluOiAxLAogICAgICAgIG5hbWU6ICJjb2RlIiwKICAgICAgICBpZDogImNvZGUiLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlUXVhbnRpdHkoZXZlbnQsIGluZGV4KTsKICAgICAgICB9LAogICAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgICB2YWx1ZTogaXRlbS5xdWFudGl0eQogICAgICB9KSwgaXRlbS5xdWFudGl0eUluU3RvcmUgIT09IHVuZGVmaW5lZCAmJiBOdW1iZXIoaXRlbS5xdWFudGl0eSkgKyAoTnVtYmVyKGl0ZW0ucXVhbnRpdHlBbmRHaWZ0KSB8fCAwKSA+IGl0ZW0ucXVhbnRpdHlJblN0b3JlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1GZWVkYmFjaywgewogICAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICAgIH0sICJTXHUxRUQxIGxcdTAxQjBcdTFFRTNuZyBzXHUxRUEzbiBwaFx1MUVBOW0gdlx4RTAgcXVceEUwIHRcdTFFQjduZyBsXHUxRURCbiBoXHUwMUExbiBzXHUxRUQxIGxcdTAxQjBcdTFFRTNuZyB0cm9uZyBraG8iKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgbWluV2lkdGg6IDIwMAogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWFza2VkSW5wdXQsIHsKICAgICAgICBtYXNrOiBjdXJyZW5jeU1hc2ssCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25DaGFuZ2VQcmljZShldmVudCwgaW5kZXgpOwogICAgICAgIH0sCiAgICAgICAgdmFsdWU6IHR5cGVvZiBpdGVtLnByaWNlUmVhbCAhPT0gJ251bWJlcicgPyBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ3ZpLVZOJywgewogICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICBjdXJyZW5jeTogJ1ZORCcKICAgICAgICB9KS5mb3JtYXQoaXRlbS5wcmljZVJlYWwpIDogaXRlbS5wcmljZVJlYWwsCiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIocmVmLCBwcm9wcykgewogICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgX2V4dGVuZHMoewogICAgICAgICAgICBpbm5lclJlZjogcmVmCiAgICAgICAgICB9LCBwcm9wcykpOwogICAgICAgIH0KICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoaXRlbS5wcmljZVJlYWwgKiBpdGVtLnF1YW50aXR5KS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgIH0pIHx8ICcnKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBtaW5XaWR0aDogMTAwCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBtaW46IDAsCiAgICAgICAgbWF4OiAxMDAsCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25DaGFuZ2VSZWR1Y2VQZXJjZW50KGV2ZW50LCBpbmRleCk7CiAgICAgICAgfSwKICAgICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgICAgdmFsdWU6IGl0ZW0ucmVkdWNlUGVyY2VudAogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIChpdGVtLnByaWNlUmVhbCAqIGl0ZW0ucXVhbnRpdHkgLSBpdGVtLnByaWNlUmVhbCAqIGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnJlZHVjZVBlcmNlbnQgLyAxMDApLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICBjdXJyZW5jeTogJ1ZORCcKICAgICAgfSkgfHwgJycpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIG1pbldpZHRoOiAxMDAKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICBzaXplOiAic20iLAogICAgICAgIGNsYXNzTmFtZTogIm1yLTMiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICByZXR1cm4gb25SZW1vdmVQcm9kdWN0KGluZGV4KTsKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgbmFtZTogImNpbFhDaXJjbGUiCiAgICAgIH0pKSkpOwogICAgfSkpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkVGl0bGUsIG51bGwsICJUaFx4RjRuZyB0aW4ga2hceEUxYyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNCIsCiAgICAgIHNtOiAiNSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAidXNlck5hbWUiCiAgICB9LCAiXHUwMTEwXHUxRUNCYSBjaFx1MUVDOSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDVGV4dGFyZWEsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAiYWRkcmVzcyIsCiAgICAgIGlkOiAiYWRkcmVzcyIsCiAgICAgIHBsYWNlaG9sZGVyOiAiXHUwMTEwXHUxRUNCYSBjaFx1MUVDOSIsCiAgICAgIGF1dG9Db21wbGV0ZTogImFkZHJlc3MiLAogICAgICB2YWxpZDogZXJyb3JzLmFkZHJlc3MgfHwgbnVsbCwKICAgICAgaW52YWxpZDogdG91Y2hlZC5hZGRyZXNzICYmICEhZXJyb3JzLmFkZHJlc3MsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5hZGRyZXNzIHx8IChzZWxlY3RlZEN1c3RvbWVyID09PSBudWxsIHx8IHNlbGVjdGVkQ3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkQ3VzdG9tZXIuYWRkcmVzcykKICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJHaGkgY2hceEZBIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENUZXh0YXJlYSwgewogICAgICB0eXBlOiAidGV4dCIsCiAgICAgIG5hbWU6ICJub3RlIiwKICAgICAgaWQ6ICJub3RlIiwKICAgICAgcGxhY2Vob2xkZXI6ICJnaGkgY2hceEZBIiwKICAgICAgYXV0b0NvbXBsZXRlOiAibm90ZSIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5ub3RlCiAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNCIsCiAgICAgIHNtOiAiNSIsCiAgICAgIGNsYXNzTmFtZTogIm1sLWF1dG8iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICBjbGFzc05hbWU6ICJ0YWJsZS1jbGVhciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiVFx1MUVENW5nIHNcdTFFRDEgbFx1MDFCMFx1MUVFM25nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgfSwgcHJvZHVjdExpc3QucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGN1cnJlbnQpIHsKICAgICAgcmV0dXJuIHN1bSArIE51bWJlcihjdXJyZW50LnF1YW50aXR5KTsKICAgIH0sIDApIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiVFx1MUVENW5nIHRpXHUxRUMxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgIH0sIHByb2R1Y3RMaXN0LnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50KSB7CiAgICAgIHJldHVybiBzdW0gKyBjdXJyZW50LnByaWNlUmVhbCAqIGN1cnJlbnQucXVhbnRpdHk7CiAgICB9LCAwKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICBjdXJyZW5jeTogJ1ZORCcKICAgIH0pIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiQ2hpXHUxRUJGdCBraFx1MUVBNXUiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICB9LCBwcm9kdWN0TGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY3VycmVudCkgewogICAgICByZXR1cm4gc3VtICsgY3VycmVudC5wcmljZVJlYWwgKiBjdXJyZW50LnF1YW50aXR5ICogY3VycmVudC5yZWR1Y2VQZXJjZW50IC8gMTAwOwogICAgfSwgMCkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICB9KSB8fCAnJykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIlRpXHUxRUMxbiB0aGFuaCB0b1x4RTFuIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIHByb2R1Y3RMaXN0LnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50KSB7CiAgICAgIHJldHVybiBzdW0gKyAoY3VycmVudC5wcmljZVJlYWwgKiBjdXJyZW50LnF1YW50aXR5IC0gY3VycmVudC5wcmljZVJlYWwgKiBjdXJyZW50LnF1YW50aXR5ICogY3VycmVudC5yZWR1Y2VQZXJjZW50IC8gMTAwKTsKICAgIH0sIDApLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgfSkgfHwgJycpKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICBjbGFzc05hbWU6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNsYXNzTmFtZTogImJ0biBidG4tc3VjY2VzcyIKICAgIH0sICdUaeG6v3AgdOG7pWMnLCAiICIsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWxBcnJvd1JpZ2h0IgogICAgfSkpKSkpKSkpOwogIH0pOwp9OwoKZXhwb3J0IGRlZmF1bHQgQ3JlYXRlT3JkZXI7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/CreateOrder.js"],"names":["React","useCallback","useEffect","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CCardTitle","CLabel","CInput","CCollapse","CRow","CFormGroup","CTextarea","CIcon","Formik","Yup","useDispatch","useSelector","_","useHistory","currencyMask","MaskedInput","Select","globalizedCustomerSelectors","getCustomer","globalizedPromotionSelectors","getPromotion","globalizedWarehouseSelectors","getWarehouse","getDetailProductPromotion","globalizedProductWarehouseSelectors","getProductInstore","getProductWarehouse","FormFeedback","Table","cities","district","userSafeSelector","validationSchema","object","shape","customer","required","nullable","promotion","validate","ProductStatus","mappingType","SHORTTERM","LONGTERM","selectAllCustomer","selectAll","selectAllPromotion","selectAllWarehouse","selectAllProductInWarehouse","CreateOrder","props","state","promotionState","initialState","account","initialValues","orderDetails","code","note","address","dispatch","history","customers","promotions","warehouses","productInWarehouses","initFormState","setInitFormState","selectedCustomer","setSelectedCustomer","selectedPromotion","setSelectedPromotion","selectedWarehouse","setSelectedWarehouse","productList","setProductList","isSelectedWarehouse","setIsSelectedWarehouse","showProductPromotion","setShowProductPromotion","page","size","sort","dependency","isLock","department","JSON","stringify","id","existOrder","localStorage","getItem","data","parse","Object","keys","length","e","store","toOrderInvoice","push","pathname","match","url","debouncedSearchCustomer","debounce","value","name","contactName","onSearchCustomer","onSearchPromition","onSubmit","values","isValidProduct","forEach","element","quantity","quantityInStore","setItem","onSelectCustomer","arr","filter","onSelectPromotion","onSelectedProduct","index","copyArr","priceReal","Number","price","product","onChangeQuantity","target","onSelectWarehouse","status","onAddProduct","quantityAndGift","reducePercent","debouncedSearchProduct","onSearchProduct","debouncedSearchProductInStore","storeId","productId","then","numberOfQuantityInStore","Array","isArray","payload","onSearchProductInstore","priceTotal","promotionProducts","founded","item","buy","ratio","gift","Math","floor","existExtraProductIndex","findIndex","followIndex","extraProduct","attachTo","splice","onChangePrice","replace","onChangeReducePercent","onRemoveProduct","errors","touched","handleChange","handleBlur","handleSubmit","setFieldValue","label","map","tel","city","dist","type","startTime","endTime","volume","undefined","boxShadow","minWidth","productBrand","event","document","body","unit","Intl","NumberFormat","style","currency","format","ref","toLocaleString","reduce","sum","current"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CCardTitle,\n  CLabel,\n  CInput,\n  CCollapse,\n  CRow,\n  CFormGroup,\n  CTextarea\n} from '@coreui/react/lib';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport _ from 'lodash';\nimport { useHistory } from 'react-router-dom';\nimport { currencyMask } from '../../../components/currency-input/currency-input';\nimport MaskedInput from 'react-text-mask';\nimport Select from 'react-select';\nimport { globalizedCustomerSelectors } from '../../customer/customer.reducer';\nimport { getCustomer } from '../../customer/customer.api';\nimport { globalizedPromotionSelectors } from '../Promotion/promotion.reducer';\nimport { getPromotion } from '../Promotion/promotion.api';\nimport { globalizedWarehouseSelectors } from '../../warehouse/Warehouse/warehouse.reducer';\nimport { getWarehouse } from '../../warehouse/Warehouse/warehouse.api';\nimport { getDetailProductPromotion } from '../Promotion/promotion.api';\nimport { globalizedProductWarehouseSelectors } from '../../warehouse/Product/product-warehouse.reducer';\nimport { getProductInstore, getProductWarehouse } from '../../warehouse/Product/product-warehouse.api';\nimport { FormFeedback, Table } from 'reactstrap';\nimport cities from '../../../../shared/utils/city';\nimport district from '../../../../shared/utils/district.json';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\n\nconst validationSchema = function() {\n  return Yup.object().shape({\n    customer: Yup.object()\n      .required('Khách hàng  không để trống')\n      .nullable(),\n    promotion: Yup.object()\n      .required('Chương trình bán hàng không để trống')\n      .nullable()\n  });\n};\n\nimport { validate } from '../../../../shared/utils/normalize';\nimport { ProductStatus } from '../../product/ProductList/contants';\n\nconst mappingType = {\n  SHORTTERM: 'Ngắn hạn',\n  LONGTERM: 'Dài hạn'\n};\nconst { selectAll: selectAllCustomer } = globalizedCustomerSelectors;\nconst { selectAll: selectAllPromotion } = globalizedPromotionSelectors;\nconst { selectAll: selectAllWarehouse } = globalizedWarehouseSelectors;\nconst { selectAll: selectAllProductInWarehouse } = globalizedProductWarehouseSelectors;\nconst CreateOrder = props => {\n  const { initialState: promotionState } = useSelector(state => state.promotion);\n  const { account } = useSelector(userSafeSelector);\n\n  const initialValues = {\n    customer: null,\n    promotion: null,\n    orderDetails: [],\n    code: '',\n    note: '',\n    address: ''\n  };\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const customers = useSelector(selectAllCustomer);\n  const promotions = useSelector(selectAllPromotion);\n  const warehouses = useSelector(selectAllWarehouse);\n  const productInWarehouses = useSelector(selectAllProductInWarehouse);\n\n  const [initFormState, setInitFormState] = useState(null);\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [selectedPromotion, setSelectedPromotion] = useState(null);\n  const [selectedWarehouse, setSelectedWarehouse] = useState(null);\n  const [productList, setProductList] = useState([]);\n  const [isSelectedWarehouse, setIsSelectedWarehouse] = useState(true);\n  const [showProductPromotion, setShowProductPromotion] = useState(false);\n  useEffect(() => {\n    dispatch(getCustomer({ page: 0, size: 20, sort: 'createdDate,DESC', dependency: true }));\n    dispatch(getPromotion({ isLock: 0, page: 0, size: 20, sort: 'createdDate,DESC', dependency: true }));\n    dispatch(getWarehouse({ department: JSON.stringify([account.department?.id || '']), dependency: true }));\n    const existOrder = localStorage.getItem('order');\n    try {\n      const data = JSON.parse(existOrder);\n      if (Object.keys(data).length > 0) {\n        setInitFormState(data);\n      }\n    } catch (e) {}\n  }, []);\n\n  useEffect(() => {\n    if (initFormState) {\n      setSelectedCustomer(initFormState.customer);\n      setSelectedPromotion(initFormState.promotion);\n      setSelectedWarehouse(initFormState.store);\n      setProductList(initFormState.orderDetails);\n    }\n  }, [initFormState]);\n\n  const toOrderInvoice = data => {\n    history.push({ pathname: `${props.match.url}/invoice`, state: data });\n  };\n\n  const debouncedSearchCustomer = _.debounce(value => {\n    dispatch(\n      getCustomer({\n        page: 0,\n        size: 20,\n        sort: 'createdDate,DESC',\n        code: value,\n        name: value,\n        address: value,\n        contactName: value,\n        dependency: true\n      })\n    );\n  }, 300);\n\n  const onSearchCustomer = value => {\n    debouncedSearchCustomer(value);\n  };\n\n  const onSearchPromition = value => {\n    dispatch(getPromotion({ page: 0, size: 20, sort: 'createdDate,DESC', name: value, dependency: true }));\n  };\n\n  const onSubmit = (values, {}) => {\n    let isValidProduct = true;\n    productList.forEach(element => {\n      if (element.quantity > element.quantityInStore) {\n        isValidProduct = false;\n        return;\n      }\n    });\n    if (!isValidProduct) return;\n    if (!values.address) values.address = selectedCustomer.address;\n    values.customer = selectedCustomer;\n    values.store = selectedWarehouse;\n    values.promotion = selectedPromotion;\n    values.orderDetails = productList;\n    localStorage.setItem('order', JSON.stringify(values));\n    toOrderInvoice(values);\n    // dispatch(creatingOrder(values));\n  };\n\n  const onSelectCustomer = ({ value }) => {\n    const arr = customers.filter(customer => customer.id === value);\n    if (arr.length === 1) {\n      setSelectedCustomer(arr[0]);\n    }\n  };\n\n  const onSelectPromotion = ({ value }) => {\n    const arr = promotions.filter(customer => customer.id === value);\n    if (arr.length === 1) {\n      setSelectedPromotion(arr[0]);\n    }\n  };\n\n  const onSelectedProduct = ({ value }, index) => {\n    const copyArr = [...productList];\n    copyArr[index].priceReal = Number(value.price);\n    copyArr[index].product = value;\n    setProductList(copyArr);\n    onChangeQuantity({ target: { value: 1 } }, index);\n  };\n\n  const onSelectWarehouse = value => {\n    setSelectedWarehouse(value);\n    setIsSelectedWarehouse(true);\n  };\n\n  useEffect(() => {\n    if (selectedPromotion?.id) {\n      dispatch(getDetailProductPromotion({ promotion: selectedPromotion.id }));\n    }\n  }, [selectedPromotion]);\n\n  useEffect(() => {\n    if (selectedWarehouse?.id) {\n      dispatch(\n        getProductWarehouse({\n          store: selectedWarehouse?.id,\n          status: 'ACTIVE',\n          page: 0,\n          size: 20,\n          sort: 'createdDate,DESC',\n          dependency: true\n        })\n      );\n    }\n  }, [selectedWarehouse]);\n\n  const onAddProduct = () => {\n    if (selectedWarehouse?.id) {\n      const data = { product: {}, quantity: 1, quantityAndGift: 0, reducePercent: 0, priceReal: 0, store: { id: selectedWarehouse.id } };\n      setProductList([...productList, data]);\n    } else {\n      setIsSelectedWarehouse(false);\n    }\n  };\n\n  const debouncedSearchProduct = _.debounce(value => {\n    dispatch(\n      getProductWarehouse({\n        store: selectedWarehouse?.id,\n        page: 0,\n        size: 20,\n        sort: 'createdDate,DESC',\n        name: value,\n        status: 'ACTIVE',\n        dependency: true\n      })\n    );\n  }, 300);\n\n  const onSearchProduct = value => {\n    debouncedSearchProduct(value);\n  };\n\n  const debouncedSearchProductInStore = _.debounce((copyArr, index) => {\n    dispatch(\n      getProductInstore({\n        storeId: selectedWarehouse.id,\n        productId: copyArr[index].product.id\n      })\n    ).then(numberOfQuantityInStore => {\n      if (numberOfQuantityInStore && Array.isArray(numberOfQuantityInStore.payload) && numberOfQuantityInStore.payload.length > 0) {\n        copyArr[index].quantityInStore = numberOfQuantityInStore?.payload[0]?.quantity || 0;\n        setProductList(copyArr);\n      }\n    });\n  }, 1000);\n\n  const onSearchProductInstore = (copyArr, index) => {\n    if(!copyArr[index].quantityInStore){\n      debouncedSearchProductInStore(copyArr, index);\n    }\n  };\n\n  const onChangeQuantity = ({ target }, index) => {\n    const copyArr = [...productList];\n    copyArr[index].quantity = target.value;\n    copyArr[index].priceTotal = copyArr[index].quantity * copyArr[index].priceReal;\n    if (Array.isArray(promotionState.promotionProducts)) {\n      const founded = promotionState.promotionProducts.filter(item => item.product.id === copyArr[index].product.id);\n      if (founded.length > 0) {\n        if (target.value >= founded[0].buy) {\n          const ratio = founded[0].gift / founded[0].buy;\n          const gift = Math.floor(target.value * ratio);\n          const existExtraProductIndex = copyArr.findIndex(item => item.followIndex === index);\n          if (existExtraProductIndex != -1) {\n            copyArr[existExtraProductIndex].quantity = gift;\n          } else {\n            const extraProduct = {\n              product: copyArr[index].product,\n              quantity: gift,\n              priceReal: Number(copyArr[index].product.price),\n              reducePercent: 100,\n              store: { id: selectedWarehouse.id },\n              attachTo: index,\n              followIndex: index\n            };\n            copyArr.splice(index + 1, 0, extraProduct);\n          }\n          copyArr[index].quantityAndGift = Number(gift);\n        }\n      }\n    }\n    if (selectedWarehouse && copyArr[index].product) {\n      setProductList(copyArr);\n      onSearchProductInstore(copyArr, index);\n    }\n  };\n\n  const onChangePrice = ({ target }, index) => {\n    const copyArr = JSON.parse(JSON.stringify(productList));\n    copyArr[index].priceReal = Number(target.value.replace(/\\D/g, ''));\n    copyArr[index].priceTotal = copyArr[index].quantity * copyArr[index].priceReal;\n    setProductList(copyArr);\n  };\n\n  const onChangeReducePercent = ({ target }, index) => {\n    const copyArr = [...productList];\n    copyArr[index].reducePercent = target.value > 100 ? 100 : target.value;\n    copyArr[index].priceTotal =\n      copyArr[index].priceReal * copyArr[index].quantity -\n      (copyArr[index].priceReal * copyArr[index].quantity * copyArr[index].reducePercent) / 100;\n    setProductList(copyArr);\n  };\n\n  const onRemoveProduct = index => {\n    const copyArr = [...productList];\n    copyArr.splice(index, 1);\n    setProductList(copyArr);\n  };\n\n  return (\n    <Formik initialValues={initFormState || initialValues} enableReinitialize validate={validate(validationSchema)} onSubmit={onSubmit}>\n      {({\n        values,\n        errors,\n        touched,\n\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        setFieldValue\n      }) => {\n        return (\n          <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n            <CCard className=\"card-accent-primary\">\n              <CCardHeader>\n                <CCardTitle>Thông tin khách hàng</CCardTitle>\n              </CCardHeader>\n\n              <CCardBody>\n                <CFormGroup>\n                  <CRow className=\"mb-3\">\n                    <CCol sm={8}>\n                      <CLabel htmlFor=\"lastName\">Chọn khách hàng</CLabel>\n                      <Select\n                        name=\"customer\"\n                        onInputChange={onSearchCustomer}\n                        onChange={item => {\n                          setFieldValue('customer', { id: item.value, name: item.label });\n                          onSelectCustomer(item);\n                        }}\n                        value={{\n                          value: values.customer?.id,\n                          label: values.customer?.name\n                        }}\n                        options={customers.map(item => ({\n                          value: item.id,\n                          label: `[${item.code}] ${item.name} ${item.address}`\n                        }))}\n                      />\n                    </CCol>\n                  </CRow>\n                  <FormFeedback className=\"d-block\">{errors.customer}</FormFeedback>\n                </CFormGroup>\n\n                <CRow>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Mã khách hàng:</dt>\n                      <dd className=\"col-sm-9\">{selectedCustomer?.code}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Họ tên:</dt>\n                      <dd className=\"col-sm-9\">{selectedCustomer?.name}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                      <dd className=\"col-sm-9\">{selectedCustomer?.tel}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Chi nhánh:</dt>\n                      <dd className=\"col-sm-9\">{selectedCustomer?.department?.name}</dd>\n                    </dl>\n                  </CCol>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                      <dd className=\"col-sm-9\">{selectedCustomer?.address}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Thành phố:</dt>\n                      <dd className=\"col-sm-9\">{cities.filter(city => city.value === selectedCustomer?.city)[0]?.label || ''}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Quận huyện:</dt>\n                      <dd className=\"col-sm-9\">{district.filter(dist => dist.value === selectedCustomer?.district)[0]?.label || ''}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Loại khách hàng: </dt>\n                      <dd className=\"col-sm-9\">{selectedCustomer?.type?.name}</dd>\n                    </dl>\n                  </CCol>\n                </CRow>\n              </CCardBody>\n            </CCard>\n            <CCard className=\"card-accent-info\">\n              <CCardHeader>\n                <CCardTitle>Chương trình khuyến mại</CCardTitle>\n              </CCardHeader>\n              <CCardBody>\n                <CFormGroup>\n                  <CRow className=\"mb-3\">\n                    <CCol sm={4}>\n                      <CLabel htmlFor=\"lastName\">Chọn chương trình bán hàng</CLabel>\n                      <Select\n                        onInputChange={onSearchPromition}\n                        onChange={item => {\n                          setFieldValue('promotion', { id: item.value, name: item.label });\n                          onSelectPromotion(item);\n                        }}\n                        value={{\n                          value: values.promotion?.id,\n                          label: values.promotion?.name\n                        }}\n                        name=\"promotion\"\n                        options={promotions.map(item => ({\n                          value: item.id,\n                          label: `${item.name}`\n                        }))}\n                      />\n                    </CCol>\n                  </CRow>\n                  <FormFeedback className=\"d-block\">{errors.promotion}</FormFeedback>\n                </CFormGroup>\n                <CRow>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Tên chương trình:</dt>\n                      <dd className=\"col-sm-9\">{selectedPromotion?.name}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Ngày bắt đầu:</dt>\n                      <dd className=\"col-sm-9\">{selectedPromotion?.startTime}</dd>\n                    </dl>\n                  </CCol>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Ngày kết thúc:</dt>\n                      <dd className=\"col-sm-9\">{selectedPromotion?.endTime}</dd>\n                    </dl>\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Loại chương trình:</dt>\n                      <dd className=\"col-sm-9\">{mappingType[selectedPromotion?.type]}</dd>\n                    </dl>\n                  </CCol>\n                </CRow>\n                <CButton\n                  color=\"primary\"\n                  variant=\"outline\"\n                  shape=\"square\"\n                  size=\"sm\"\n                  onClick={() => {\n                    setShowProductPromotion(!showProductPromotion);\n                  }}\n                >\n                  <CIcon name=\"cilZoom\" /> Xem sản phẩm áp dụng\n                </CButton>\n                <CCollapse show={showProductPromotion}>\n                  <CCardBody>\n                    <h5>Thông tin sản phẩm khuyến mại</h5>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        {Array.isArray(promotionState.promotionProducts) &&\n                          promotionState.promotionProducts.map((item, index) => (\n                            <dl className=\"row\" key={index}>\n                              <dt className=\"col-sm-6\">{`${item.product.name} ${item.product.volume}ml`}</dt>\n                              <dd className=\"col-sm-6\">{`Mua ${item.buy} Tặng ${item.gift}`}</dd>\n                            </dl>\n                          ))}\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              </CCardBody>\n            </CCard>\n            <CCard className=\"card-accent-info\">\n              <CCardHeader>\n                <CCardTitle>Kho hàng</CCardTitle>\n              </CCardHeader>\n              <CCardBody>\n                <CRow className=\"mb-3\">\n                  <CCol sm={4}>\n                    <CLabel htmlFor=\"lastName\">Chọn Kho</CLabel>\n                    <Select\n                      onChange={item => {\n                        setFieldValue('store', item.value);\n                        onSelectWarehouse(item.value);\n                      }}\n                      value={{\n                        value: values.store,\n                        label: values.store?.name\n                      }}\n                      options={warehouses.map(item => ({\n                        value: item,\n                        label: `${item.name}`\n                      }))}\n                    />\n                    {!isSelectedWarehouse && <FormFeedback className=\"d-block\">Bạn phải chọn kho hàng</FormFeedback>}\n                  </CCol>\n                </CRow>\n                <CRow>\n                  <CCol lg=\"6\">\n                    <dl className=\"row\">\n                      <dt className=\"col-sm-3\">Tên kho:</dt>\n                      <dd className=\"col-sm-9\">{selectedWarehouse?.name}</dd>\n                    </dl>\n                  </CCol>\n                </CRow>\n              </CCardBody>\n            </CCard>\n\n            <CButton color=\"primary\" variant=\"outline\" shape=\"square\" size=\"sm\" className=\"ml-3 mb-3\" onClick={onAddProduct}>\n              <CIcon name={'cilArrowCircleRight'} className=\"mr-2\" />\n              Thêm sản phẩm\n            </CButton>\n            <CCard>\n              <CCardBody>\n                <Table responsive striped>\n                  <thead>\n                    <tr>\n                      <th>Sản phẩm</th>\n                      <th>Đơn vị</th>\n                      <th>Dung tích</th>\n                      <th>Số lượng</th>\n                      <th>Đơn giá</th>\n                      <th>Thành tiền</th>\n                      <th>Chiết khấu</th>\n                      <th>Thanh toán</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {productList.map((item, index) => {\n                      return (\n                        <tr\n                          key={index}\n                          style={\n                            item.quantityInStore !== undefined &&\n                            Number(item.quantity) + (Number(item.quantityAndGift) || 0) > item.quantityInStore\n                              ? {\n                                  boxShadow: '0px 0px 6px 5px red'\n                                }\n                              : {}\n                          }\n                        >\n                          <td style={{ minWidth: 300 }}>\n                            <Select\n                              value={{\n                                value: item.product,\n                                label: `${item.product.productBrand?.code || ''}-${item.product.name || ''}-${item.product.volume || ''}`\n                              }}\n                              onInputChange={onSearchProduct}\n                              onChange={event => onSelectedProduct(event, index)}\n                              menuPortalTarget={document.body}\n                              options={productInWarehouses.map(item => ({\n                                value: item.product,\n                                label: `${item.product.productBrand?.code}-${item.product.name}-${item.product.volume}`\n                              }))}\n                            />\n                          </td>\n                          <td>{item.product?.unit}</td>\n                          <td>{item.product?.volume}</td>\n                          <td style={{ minWidth: 100 }}>\n                            <CInput\n                              type=\"number\"\n                              min={1}\n                              name=\"code\"\n                              id=\"code\"\n                              onChange={event => onChangeQuantity(event, index)}\n                              onBlur={handleBlur}\n                              value={item.quantity}\n                            />\n\n                            {item.quantityInStore !== undefined &&\n                              Number(item.quantity) + (Number(item.quantityAndGift) || 0) > item.quantityInStore && (\n                                <FormFeedback className=\"d-block\">Số lượng sản phẩm và quà tặng lớn hơn số lượng trong kho</FormFeedback>\n                              )}\n                          </td>\n                          <td style={{ minWidth: 200 }}>\n                            {\n                              <MaskedInput\n                                mask={currencyMask}\n                                onChange={event => onChangePrice(event, index)}\n                                value={\n                                  typeof item.priceReal !== 'number'\n                                    ? new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(item.priceReal)\n                                    : item.priceReal\n                                }\n                                render={(ref, props) => <CInput innerRef={ref} {...props} />}\n                              />\n                            }\n                          </td>\n                          <td>\n                            {(item.priceReal * item.quantity).toLocaleString('it-IT', {\n                              style: 'currency',\n                              currency: 'VND'\n                            }) || ''}\n                          </td>\n\n                          <td style={{ minWidth: 100 }}>\n                            <CInput\n                              type=\"number\"\n                              min={0}\n                              max={100}\n                              onChange={event => onChangeReducePercent(event, index)}\n                              onBlur={handleBlur}\n                              value={item.reducePercent}\n                            />\n                          </td>\n                          <td>\n                            {(item.priceReal * item.quantity - (item.priceReal * item.quantity * item.reducePercent) / 100).toLocaleString(\n                              'it-IT',\n                              {\n                                style: 'currency',\n                                currency: 'VND'\n                              }\n                            ) || ''}\n                          </td>\n                          <td style={{ minWidth: 100 }}>\n                            <CButton\n                              color=\"danger\"\n                              variant=\"outline\"\n                              shape=\"square\"\n                              size=\"sm\"\n                              className=\"mr-3\"\n                              onClick={() => onRemoveProduct(index)}\n                            >\n                              <CIcon name=\"cilXCircle\" />\n                            </CButton>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </Table>\n              </CCardBody>\n            </CCard>\n            <CCard>\n              <CCardHeader>\n                <CCardTitle>Thông tin khác</CCardTitle>\n              </CCardHeader>\n              <CCardBody>\n                <CRow>\n                  <CCol lg=\"4\" sm=\"5\">\n                    <CFormGroup>\n                      <CLabel htmlFor=\"userName\">Địa chỉ</CLabel>\n                      <CTextarea\n                        type=\"text\"\n                        name=\"address\"\n                        id=\"address\"\n                        placeholder=\"Địa chỉ\"\n                        autoComplete=\"address\"\n                        valid={errors.address || null}\n                        invalid={touched.address && !!errors.address}\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.address || selectedCustomer?.address}\n                      />\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"userName\">Ghi chú</CLabel>\n                      <CTextarea\n                        type=\"text\"\n                        name=\"note\"\n                        id=\"note\"\n                        placeholder=\"ghi chú\"\n                        autoComplete=\"note\"\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.note}\n                      />\n                    </CFormGroup>\n                  </CCol>\n                  <CCol lg=\"4\" sm=\"5\" className=\"ml-auto\">\n                    <Table className=\"table-clear\">\n                      <tbody>\n                        <tr>\n                          <td className=\"left\">\n                            <strong>Tổng số lượng</strong>\n                          </td>\n                          <td className=\"right\">{productList.reduce((sum, current) => sum + Number(current.quantity), 0) || ''}</td>\n                        </tr>\n                        <tr>\n                          <td className=\"left\">\n                            <strong>Tổng tiền</strong>\n                          </td>\n                          <td className=\"right\">\n                            {productList\n                              .reduce((sum, current) => sum + current.priceReal * current.quantity, 0)\n                              .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td className=\"left\">\n                            <strong>Chiết khấu</strong>\n                          </td>\n                          <td className=\"right\">\n                            {productList\n                              .reduce((sum, current) => sum + (current.priceReal * current.quantity * current.reducePercent) / 100, 0)\n                              .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                          </td>\n                        </tr>\n                        <tr>\n                          <td className=\"left\">\n                            <strong>Tiền thanh toán</strong>\n                          </td>\n                          <td className=\"right\">\n                            <strong>\n                              {productList\n                                .reduce(\n                                  (sum, current) =>\n                                    sum +\n                                    (current.priceReal * current.quantity -\n                                      (current.priceReal * current.quantity * current.reducePercent) / 100),\n                                  0\n                                )\n                                .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                            </strong>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </Table>\n                    <CFormGroup className=\"d-flex justify-content-center\">\n                      <CButton type=\"submit\" size=\"lg\" className=\"btn btn-success\">\n                        {'Tiếp tục'} <CIcon name=\"cilArrowRight\" />\n                      </CButton>\n                    </CFormGroup>\n                  </CCol>\n                </CRow>\n              </CCardBody>\n            </CCard>\n          </CForm>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default CreateOrder;\n"]}]}