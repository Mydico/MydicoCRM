{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js","mtime":1621239268444},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IHsgVGhlQXNpZGUsIFRoZUZvb3RlciwgVGhlSGVhZGVyLCBUaGVTaWRlYmFyIH0gZnJvbSAnLi4vLi4vY29udGFpbmVycyc7CmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBSb3V0ZSwgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgd2hpdGVMaXN0IH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnQnOwpleHBvcnQgdmFyIFByaXZhdGVSb3V0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIFByaXZhdGVSb3V0ZUNvbXBvbmVudChfcmVmKSB7CiAgdmFyIENvbXBvbmVudCA9IF9yZWYuY29tcG9uZW50LAogICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsiY29tcG9uZW50Il0pOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYXV0aGVudGljYXRpb247CiAgfSksCiAgICAgIGlzQXV0aGVudGljYXRlZCA9IF91c2VTZWxlY3Rvci5pc0F1dGhlbnRpY2F0ZWQsCiAgICAgIHNlc3Npb25IYXNCZWVuRmV0Y2hlZCA9IF91c2VTZWxlY3Rvci5zZXNzaW9uSGFzQmVlbkZldGNoZWQsCiAgICAgIGFjY291bnQgPSBfdXNlU2VsZWN0b3IuYWNjb3VudDsKCiAgdmFyIGNoZWNrQXV0aG9yaXRpZXMgPSBmdW5jdGlvbiBjaGVja0F1dGhvcml0aWVzKHByb3BzKSB7CiAgICB2YXIgaXNBZG1pbiA9IGFjY291bnQuYXV0aG9yaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtID09PSAnUk9MRV9BRE1JTic7CiAgICB9KS5sZW5ndGggPiAwOwogICAgdmFyIGlzV2hpdGVMaXN0ID0gd2hpdGVMaXN0LmluY2x1ZGVzKHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lKTsKICAgIHZhciBpc0hhc1Blcm1pc3Npb24gPSBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLm1ldGhvZCA9PT0gJ0dFVCcgJiYgaXRlbS5lbnRpdHkuaW5jbHVkZXMocHJvcHMubG9jYXRpb24ucGF0aG5hbWUpOwogICAgfSkubGVuZ3RoID4gMCB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLm1ldGhvZCA9PT0gJ1BPU1QnICYmIGl0ZW0uZW50aXR5LmluY2x1ZGVzKHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMV0pICYmIHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCduZXcnKTsKICAgIH0pLmxlbmd0aCA+IDAgfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5tZXRob2QgPT09ICdQVVQnICYmIGl0ZW0uZW50aXR5LmluY2x1ZGVzKHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMV0pOwogICAgfSkubGVuZ3RoID4gMCB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLm1ldGhvZCA9PT0gJ0RFTEVURScgJiYgaXRlbS5lbnRpdHkuaW5jbHVkZXMocHJvcHMubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKVsxXSk7CiAgICB9KS5sZW5ndGggPiAwOwogICAgcmV0dXJuIGlzV2hpdGVMaXN0IHx8IGlzSGFzUGVybWlzc2lvbiB8fCBpc0FkbWluID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBwcm9wcykgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlU2lkZWJhciwgbnVsbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRoZUFzaWRlLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiAiYy13cmFwcGVyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlSGVhZGVyLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiAiYy1ib2R5IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiAiaW5zdWZmaWNpZW50LWF1dGhvcml0eSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGNsYXNzTmFtZTogImFsZXJ0IGFsZXJ0LWRhbmdlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIkJcdTFFQTFuIGtoXHhGNG5nIGRjIHF1eVx1MUVDMW4gdHJ1eSBjXHUxRUFEcCB2XHhFMG8gdHJhbmcgblx4RTB5IikpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRoZUZvb3RlciwgbnVsbCkpKTsKICB9OwoKICB2YXIgcmVuZGVyUmVkaXJlY3QgPSBmdW5jdGlvbiByZW5kZXJSZWRpcmVjdChwcm9wcykgewogICAgaWYgKCFzZXNzaW9uSGFzQmVlbkZldGNoZWQpIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7CiAgICAgICAgdG86IHsKICAgICAgICAgIHBhdGhuYW1lOiAnL2xvZ2luJywKICAgICAgICAgIHNlYXJjaDogcHJvcHMubG9jYXRpb24uc2VhcmNoLAogICAgICAgICAgc3RhdGU6IHsKICAgICAgICAgICAgZnJvbTogcHJvcHMubG9jYXRpb24KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGlzQXV0aGVudGljYXRlZCA/IGNoZWNrQXV0aG9yaXRpZXMocHJvcHMpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3QsIHsKICAgICAgICB0bzogewogICAgICAgICAgcGF0aG5hbWU6ICcvbG9naW4nLAogICAgICAgICAgc2VhcmNoOiBwcm9wcy5sb2NhdGlvbi5zZWFyY2gsCiAgICAgICAgICBzdGF0ZTogewogICAgICAgICAgICBmcm9tOiBwcm9wcy5sb2NhdGlvbgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfTsKCiAgaWYgKCFDb21wb25lbnQpIHRocm93IG5ldyBFcnJvcigiQSBjb21wb25lbnQgbmVlZHMgdG8gYmUgc3BlY2lmaWVkIGZvciBwcml2YXRlIHJvdXRlIGZvciBwYXRoICIuY29uY2F0KHJlc3QucGF0aCkpOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgX2V4dGVuZHMoe30sIHJlc3QsIHsKICAgIHJlbmRlcjogcmVuZGVyUmVkaXJlY3QKICB9KSk7Cn07IC8vIGV4cG9ydCBjb25zdCBoYXNBbnlBdXRob3JpdHkgPSAoYXV0aG9yaXRpZXMsIGhhc0FueUF1dGhvcml0aWVzKSA9PiB7Ci8vICAgaWYgKGF1dGhvcml0aWVzICYmIGF1dGhvcml0aWVzLmxlbmd0aCAhPT0gMCkgewovLyAgICAgaWYgKGhhc0FueUF1dGhvcml0aWVzLmxlbmd0aCA9PT0gMCkgewovLyAgICAgICByZXR1cm4gdHJ1ZTsKLy8gICAgIH0KLy8gICAgIHJldHVybiBoYXNBbnlBdXRob3JpdGllcy5zb21lKGF1dGggPT4gYXV0aG9yaXRpZXMuaW5jbHVkZXMoYXV0aCkpOwovLyAgIH0KLy8gICByZXR1cm4gZmFsc2U7Ci8vIH07Ci8vIGNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9ICgKLy8gICB7IGF1dGhlbnRpY2F0aW9uOiB7IGlzQXV0aGVudGljYXRlZCwgYWNjb3VudCwgc2Vzc2lvbkhhc0JlZW5GZXRjaGVkIH0gfSwKLy8gICB7IGhhc0FueUF1dGhvcml0aWVzIH0KLy8gKSA9PiAoewovLyAgIGlzQXV0aGVudGljYXRlZCwKLy8gICBpc0F1dGhvcml6ZWQ6dHJ1ZSwKLy8gICBzZXNzaW9uSGFzQmVlbkZldGNoZWQKLy8gfSk7CgovKioKICogQSByb3V0ZSB3cmFwcGVkIGluIGFuIGF1dGhlbnRpY2F0aW9uIGNoZWNrIHNvIHRoYXQgcm91dGluZyBoYXBwZW5zIG9ubHkgd2hlbiB5b3UgYXJlIGF1dGhlbnRpY2F0ZWQuCiAqIEFjY2VwdHMgc2FtZSBwcm9wcyBhcyBSZWFjdCByb3V0ZXIgUm91dGUuCiAqIFRoZSByb3V0ZSBhbHNvIGNoZWNrcyBmb3IgYXV0aG9yaXphdGlvbiBpZiBoYXNBbnlBdXRob3JpdGllcyBpcyBzcGVjaWZpZWQuCiAqLwovLyBleHBvcnQgY29uc3QgUHJpdmF0ZVJvdXRlID0gY29ubmVjdDxTdGF0ZVByb3BzLCB1bmRlZmluZWQsIElPd25Qcm9wcz4obWFwU3RhdGVUb1Byb3BzLCBudWxsLCBudWxsLCB7IHB1cmU6IGZhbHNlIH0pKFByaXZhdGVSb3V0ZUNvbXBvbmVudCk7CgpleHBvcnQgZGVmYXVsdCBQcml2YXRlUm91dGVDb21wb25lbnQ7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js"],"names":["TheAside","TheFooter","TheHeader","TheSidebar","React","useEffect","useSelector","Route","Redirect","whiteList","PrivateRouteComponent","Component","component","rest","state","authentication","isAuthenticated","sessionHasBeenFetched","account","checkAuthorities","props","isAdmin","authorities","filter","item","length","isWhiteList","includes","location","pathname","isHasPermission","role","method","entity","split","renderRedirect","search","from","Error","path"],"mappings":";;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,SAA9B,EAAyCC,UAAzC,QAA2D,kBAA3D;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,SAASC,SAAT,QAA0B,mBAA1B;AAEA,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,OAAuC;AAAA,MAAzBC,SAAyB,QAApCC,SAAoC;AAAA,MAAXC,IAAW;;AAAA,qBACdP,WAAW,CAAC,UAAAQ,KAAK;AAAA,WAAIA,KAAK,CAACC,cAAV;AAAA,GAAN,CADG;AAAA,MAClEC,eADkE,gBAClEA,eADkE;AAAA,MACjDC,qBADiD,gBACjDA,qBADiD;AAAA,MAC1BC,OAD0B,gBAC1BA,OAD0B;;AAE1E,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,KAAK,EAAI;AAChC,QAAMC,OAAO,GAAGH,OAAO,CAACI,WAAR,CAAoBC,MAApB,CAA2B,UAAAC,IAAI;AAAA,aAAIA,IAAI,KAAK,YAAb;AAAA,KAA/B,EAA0DC,MAA1D,GAAmE,CAAnF;AACA,QAAMC,WAAW,GAAGjB,SAAS,CAACkB,QAAV,CAAmBP,KAAK,CAACQ,QAAN,CAAeC,QAAlC,CAApB;AACA,QAAMC,eAAe,GACnBZ,OAAO,CAACa,IAAR,CAAaR,MAAb,CAAoB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACQ,MAAL,KAAgB,KAAhB,IAAyBR,IAAI,CAACS,MAAL,CAAYN,QAAZ,CAAqBP,KAAK,CAACQ,QAAN,CAAeC,QAApC,CAA7B;AAAA,KAAxB,EAAoGJ,MAApG,GAA6G,CAA7G,IACAP,OAAO,CAACa,IAAR,CAAaR,MAAb,CACE,UAAAC,IAAI;AAAA,aACFA,IAAI,CAACQ,MAAL,KAAgB,MAAhB,IAA0BR,IAAI,CAACS,MAAL,CAAYN,QAAZ,CAAqBP,KAAK,CAACQ,QAAN,CAAeC,QAAf,CAAwBK,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,CAArB,CAA1B,IAAyFd,KAAK,CAACQ,QAAN,CAAeC,QAAf,CAAwBF,QAAxB,CAAiC,KAAjC,CADvF;AAAA,KADN,EAGEF,MAHF,GAGW,CAJX,IAKAP,OAAO,CAACa,IAAR,CAAaR,MAAb,CAAoB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACQ,MAAL,KAAgB,KAAhB,IAAyBR,IAAI,CAACS,MAAL,CAAYN,QAAZ,CAAqBP,KAAK,CAACQ,QAAN,CAAeC,QAAf,CAAwBK,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,CAArB,CAA7B;AAAA,KAAxB,EAAkHT,MAAlH,GAA2H,CAL3H,IAMAP,OAAO,CAACa,IAAR,CAAaR,MAAb,CAAoB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACQ,MAAL,KAAgB,QAAhB,IAA4BR,IAAI,CAACS,MAAL,CAAYN,QAAZ,CAAqBP,KAAK,CAACQ,QAAN,CAAeC,QAAf,CAAwBK,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,CAArB,CAAhC;AAAA,KAAxB,EAAqHT,MAArH,GAA8H,CAPhI;AAQA,WAAOC,WAAW,IAAII,eAAf,IAAkCT,OAAlC,gBACL,oBAAC,SAAD,EAAeD,KAAf,CADK,gBAGL,8CACE,oBAAC,UAAD,OADF,eAEE,oBAAC,QAAD,OAFF,eAGE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE,oBAAC,SAAD,OADF,eAEE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE,sGADF,CADF,CADF,CAFF,eASE,oBAAC,SAAD,OATF,CAHF,CAHF;AAmBD,GA9BD;;AAgCA,MAAMe,cAAc,GAAG,SAAjBA,cAAiB,CAAAf,KAAK,EAAI;AAC9B,QAAI,CAACH,qBAAL,EAA4B;AAC1B,0BACE,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFY,UAAAA,QAAQ,EAAE,QADR;AAEFO,UAAAA,MAAM,EAAEhB,KAAK,CAACQ,QAAN,CAAeQ,MAFrB;AAGFtB,UAAAA,KAAK,EAAE;AAAEuB,YAAAA,IAAI,EAAEjB,KAAK,CAACQ;AAAd;AAHL;AADN,QADF;AASD,KAVD,MAUO;AACL,aAAOZ,eAAe,GACpBG,gBAAgB,CAACC,KAAD,CADI,gBAGpB,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFS,UAAAA,QAAQ,EAAE,QADR;AAEFO,UAAAA,MAAM,EAAEhB,KAAK,CAACQ,QAAN,CAAeQ,MAFrB;AAGFtB,UAAAA,KAAK,EAAE;AAAEuB,YAAAA,IAAI,EAAEjB,KAAK,CAACQ;AAAd;AAHL;AADN,QAHF;AAWD;AACF,GAxBD;;AA0BA,MAAI,CAACjB,SAAL,EAAgB,MAAM,IAAI2B,KAAJ,wEAA0EzB,IAAI,CAAC0B,IAA/E,EAAN;AAEhB,sBAAO,oBAAC,KAAD,eAAW1B,IAAX;AAAiB,IAAA,MAAM,EAAEsB;AAAzB,KAAP;AACD,CA/DM,C,CAiEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAezB,qBAAf","sourcesContent":["import { TheAside, TheFooter, TheHeader, TheSidebar } from '../../containers';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { whiteList } from '../utils/constant';\n\nexport const PrivateRouteComponent = ({ component: Component, ...rest }) => {\n  const { isAuthenticated, sessionHasBeenFetched, account } = useSelector(state => state.authentication);\n  const checkAuthorities = props => {\n    const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n    const isWhiteList = whiteList.includes(props.location.pathname);\n    const isHasPermission =\n      account.role.filter(item => item.method === 'GET' && item.entity.includes(props.location.pathname)).length > 0 ||\n      account.role.filter(\n        item =>\n          item.method === 'POST' && item.entity.includes(props.location.pathname.split('/')[1]) && props.location.pathname.includes('new')\n      ).length > 0 ||\n      account.role.filter(item => item.method === 'PUT' && item.entity.includes(props.location.pathname.split('/')[1])).length > 0 ||\n      account.role.filter(item => item.method === 'DELETE' && item.entity.includes(props.location.pathname.split('/')[1])).length > 0;\n    return isWhiteList || isHasPermission || isAdmin ? (\n      <Component {...props} />\n    ) : (\n      <div>\n        <TheSidebar />\n        <TheAside />\n        <div className=\"c-wrapper\">\n          <TheHeader />\n          <div className=\"c-body\">\n            <div className=\"insufficient-authority\">\n              <div className=\"alert alert-danger\">\n                <span>Bạn không dc quyền truy cập vào trang này</span>\n              </div>\n            </div>\n          </div>\n          <TheFooter />\n        </div>\n      </div>\n    );\n  };\n\n  const renderRedirect = props => {\n    if (!sessionHasBeenFetched) {\n      return (\n        <Redirect\n          to={{\n            pathname: '/login',\n            search: props.location.search,\n            state: { from: props.location }\n          }}\n        />\n      );\n    } else {\n      return isAuthenticated ? (\n        checkAuthorities(props)\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/login',\n            search: props.location.search,\n            state: { from: props.location }\n          }}\n        />\n      );\n    }\n  };\n\n  if (!Component) throw new Error(`A component needs to be specified for private route for path ${rest.path}`);\n\n  return <Route {...rest} render={renderRedirect} />;\n};\n\n// export const hasAnyAuthority = (authorities, hasAnyAuthorities) => {\n//   if (authorities && authorities.length !== 0) {\n//     if (hasAnyAuthorities.length === 0) {\n//       return true;\n//     }\n//     return hasAnyAuthorities.some(auth => authorities.includes(auth));\n//   }\n//   return false;\n// };\n\n// const mapStateToProps = (\n//   { authentication: { isAuthenticated, account, sessionHasBeenFetched } },\n//   { hasAnyAuthorities }\n// ) => ({\n//   isAuthenticated,\n//   isAuthorized:true,\n//   sessionHasBeenFetched\n// });\n\n/**\n * A route wrapped in an authentication check so that routing happens only when you are authenticated.\n * Accepts same props as React router Route.\n * The route also checks for authorization if hasAnyAuthorities is specified.\n */\n// export const PrivateRoute = connect<StateProps, undefined, IOwnProps>(mapStateToProps, null, null, { pure: false })(PrivateRouteComponent);\n\nexport default PrivateRouteComponent;\n"]}]}