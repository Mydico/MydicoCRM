{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js","mtime":1620033033896},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCB7IFJvdXRlLCBSZWRpcmVjdCB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwpleHBvcnQgdmFyIFByaXZhdGVSb3V0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIFByaXZhdGVSb3V0ZUNvbXBvbmVudChfcmVmKSB7CiAgdmFyIENvbXBvbmVudCA9IF9yZWYuY29tcG9uZW50LAogICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsiY29tcG9uZW50Il0pOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuYXV0aGVudGljYXRpb247CiAgfSksCiAgICAgIGlzQXV0aGVudGljYXRlZCA9IF91c2VTZWxlY3Rvci5pc0F1dGhlbnRpY2F0ZWQ7IC8vIGNvbnN0IGNoZWNrQXV0aG9yaXRpZXMgPSBwcm9wcyA9PgogIC8vICAgaXNBdXRob3JpemVkID8gKAogIC8vICAgICAvLyA8RXJyb3JCb3VuZGFyeT4KICAvLyAgICAgICA8Q29tcG9uZW50IHsuLi5wcm9wc30gLz4KICAvLyAgICAgLy8gPC9FcnJvckJvdW5kYXJ5PgogIC8vICAgKSA6ICgKICAvLyAgICAgPGRpdiBjbGFzc05hbWU9Imluc3VmZmljaWVudC1hdXRob3JpdHkiPgogIC8vICAgICAgIDxkaXYgY2xhc3NOYW1lPSJhbGVydCBhbGVydC1kYW5nZXIiPgogIC8vICAgICAgICAgPFRyYW5zbGF0ZSBjb250ZW50S2V5PSJlcnJvci5odHRwLjQwMyI+WW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBhY2Nlc3MgdGhpcyBwYWdlLjwvVHJhbnNsYXRlPgogIC8vICAgICAgIDwvZGl2PgogIC8vICAgICA8L2Rpdj4KICAvLyAgICk7CgoKICB2YXIgcmVuZGVyUmVkaXJlY3QgPSBmdW5jdGlvbiByZW5kZXJSZWRpcmVjdChwcm9wcykgewogICAgLy8gaWYgKCFzZXNzaW9uSGFzQmVlbkZldGNoZWQpIHsKICAgIC8vICAgcmV0dXJuIDxkaXY+PC9kaXY+OwogICAgLy8gfSBlbHNlIHsKICAgIHJldHVybiBpc0F1dGhlbnRpY2F0ZWQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHByb3BzKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7CiAgICAgIHRvOiB7CiAgICAgICAgcGF0aG5hbWU6ICcvbG9naW4nLAogICAgICAgIHNlYXJjaDogcHJvcHMubG9jYXRpb24uc2VhcmNoLAogICAgICAgIHN0YXRlOiB7CiAgICAgICAgICBmcm9tOiBwcm9wcy5sb2NhdGlvbgogICAgICAgIH0KICAgICAgfQogICAgfSk7IC8vIH0KICB9OwoKICBpZiAoIUNvbXBvbmVudCkgdGhyb3cgbmV3IEVycm9yKCJBIGNvbXBvbmVudCBuZWVkcyB0byBiZSBzcGVjaWZpZWQgZm9yIHByaXZhdGUgcm91dGUgZm9yIHBhdGggIi5jb25jYXQocmVzdC5wYXRoKSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCBfZXh0ZW5kcyh7fSwgcmVzdCwgewogICAgcmVuZGVyOiByZW5kZXJSZWRpcmVjdAogIH0pKTsKfTsgLy8gZXhwb3J0IGNvbnN0IGhhc0FueUF1dGhvcml0eSA9IChhdXRob3JpdGllcywgaGFzQW55QXV0aG9yaXRpZXMpID0+IHsKLy8gICBpZiAoYXV0aG9yaXRpZXMgJiYgYXV0aG9yaXRpZXMubGVuZ3RoICE9PSAwKSB7Ci8vICAgICBpZiAoaGFzQW55QXV0aG9yaXRpZXMubGVuZ3RoID09PSAwKSB7Ci8vICAgICAgIHJldHVybiB0cnVlOwovLyAgICAgfQovLyAgICAgcmV0dXJuIGhhc0FueUF1dGhvcml0aWVzLnNvbWUoYXV0aCA9PiBhdXRob3JpdGllcy5pbmNsdWRlcyhhdXRoKSk7Ci8vICAgfQovLyAgIHJldHVybiBmYWxzZTsKLy8gfTsKLy8gY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKAovLyAgIHsgYXV0aGVudGljYXRpb246IHsgaXNBdXRoZW50aWNhdGVkLCBhY2NvdW50LCBzZXNzaW9uSGFzQmVlbkZldGNoZWQgfSB9LAovLyAgIHsgaGFzQW55QXV0aG9yaXRpZXMgfQovLyApID0+ICh7Ci8vICAgaXNBdXRoZW50aWNhdGVkLAovLyAgIGlzQXV0aG9yaXplZDp0cnVlLAovLyAgIHNlc3Npb25IYXNCZWVuRmV0Y2hlZAovLyB9KTsKCi8qKgogKiBBIHJvdXRlIHdyYXBwZWQgaW4gYW4gYXV0aGVudGljYXRpb24gY2hlY2sgc28gdGhhdCByb3V0aW5nIGhhcHBlbnMgb25seSB3aGVuIHlvdSBhcmUgYXV0aGVudGljYXRlZC4KICogQWNjZXB0cyBzYW1lIHByb3BzIGFzIFJlYWN0IHJvdXRlciBSb3V0ZS4KICogVGhlIHJvdXRlIGFsc28gY2hlY2tzIGZvciBhdXRob3JpemF0aW9uIGlmIGhhc0FueUF1dGhvcml0aWVzIGlzIHNwZWNpZmllZC4KICovCi8vIGV4cG9ydCBjb25zdCBQcml2YXRlUm91dGUgPSBjb25uZWN0PFN0YXRlUHJvcHMsIHVuZGVmaW5lZCwgSU93blByb3BzPihtYXBTdGF0ZVRvUHJvcHMsIG51bGwsIG51bGwsIHsgcHVyZTogZmFsc2UgfSkoUHJpdmF0ZVJvdXRlQ29tcG9uZW50KTsKCmV4cG9ydCBkZWZhdWx0IFByaXZhdGVSb3V0ZUNvbXBvbmVudDs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js"],"names":["React","useSelector","Route","Redirect","PrivateRouteComponent","Component","component","rest","state","authentication","isAuthenticated","renderRedirect","props","pathname","search","location","from","Error","path"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,KAAR,EAAeC,QAAf,QAA8B,kBAA9B;AAEA,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,OAAqC;AAAA,MAAxBC,SAAwB,QAAnCC,SAAmC;AAAA,MAAVC,IAAU;;AAAA,qBAC9CN,WAAW,CAAC,UAACO,KAAD;AAAA,WAAWA,KAAK,CAACC,cAAjB;AAAA,GAAD,CADmC;AAAA,MACjEC,eADiE,gBACjEA,eADiE,EAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AAChC;AACA;AACA;AACA,WAAOF,eAAe,gBACpB,oBAAC,SAAD,EAAeE,KAAf,CADoB,gBAGpB,oBAAC,QAAD;AACE,MAAA,EAAE,EAAE;AACFC,QAAAA,QAAQ,EAAE,QADR;AAEFC,QAAAA,MAAM,EAAEF,KAAK,CAACG,QAAN,CAAeD,MAFrB;AAGFN,QAAAA,KAAK,EAAE;AAACQ,UAAAA,IAAI,EAAEJ,KAAK,CAACG;AAAb;AAHL;AADN,MAHF,CAJgC,CAehC;AACD,GAhBD;;AAkBA,MAAI,CAACV,SAAL,EAAgB,MAAM,IAAIY,KAAJ,wEAA0EV,IAAI,CAACW,IAA/E,EAAN;AAEhB,sBAAO,oBAAC,KAAD,eAAWX,IAAX;AAAiB,IAAA,MAAM,EAAEI;AAAzB,KAAP;AACD,CAnCM,C,CAqCP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeP,qBAAf","sourcesContent":["import React from 'react';\nimport {useSelector} from 'react-redux';\nimport {Route, Redirect} from 'react-router-dom';\n\nexport const PrivateRouteComponent = ({component: Component, ...rest}) => {\n  const {isAuthenticated} = useSelector((state) => state.authentication);\n  // const checkAuthorities = props =>\n  //   isAuthorized ? (\n  //     // <ErrorBoundary>\n  //       <Component {...props} />\n  //     // </ErrorBoundary>\n  //   ) : (\n  //     <div className=\"insufficient-authority\">\n  //       <div className=\"alert alert-danger\">\n  //         <Translate contentKey=\"error.http.403\">You are not authorized to access this page.</Translate>\n  //       </div>\n  //     </div>\n  //   );\n  const renderRedirect = (props) => {\n    // if (!sessionHasBeenFetched) {\n    //   return <div></div>;\n    // } else {\n    return isAuthenticated ? (\n      <Component {...props} />\n    ) : (\n      <Redirect\n        to={{\n          pathname: '/login',\n          search: props.location.search,\n          state: {from: props.location},\n        }}\n      />\n    );\n    // }\n  };\n\n  if (!Component) throw new Error(`A component needs to be specified for private route for path ${rest.path}`);\n\n  return <Route {...rest} render={renderRedirect} />;\n};\n\n// export const hasAnyAuthority = (authorities, hasAnyAuthorities) => {\n//   if (authorities && authorities.length !== 0) {\n//     if (hasAnyAuthorities.length === 0) {\n//       return true;\n//     }\n//     return hasAnyAuthorities.some(auth => authorities.includes(auth));\n//   }\n//   return false;\n// };\n\n// const mapStateToProps = (\n//   { authentication: { isAuthenticated, account, sessionHasBeenFetched } },\n//   { hasAnyAuthorities }\n// ) => ({\n//   isAuthenticated,\n//   isAuthorized:true,\n//   sessionHasBeenFetched\n// });\n\n/**\n * A route wrapped in an authentication check so that routing happens only when you are authenticated.\n * Accepts same props as React router Route.\n * The route also checks for authorization if hasAnyAuthorities is specified.\n */\n// export const PrivateRoute = connect<StateProps, undefined, IOwnProps>(mapStateToProps, null, null, { pure: false })(PrivateRouteComponent);\n\nexport default PrivateRouteComponent;\n"]}]}