{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js","mtime":1624073221854},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0IHsgVGhlQXNpZGUsIFRoZUZvb3RlciwgVGhlSGVhZGVyLCBUaGVTaWRlYmFyIH0gZnJvbSAnLi4vLi4vY29udGFpbmVycyc7CmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBSb3V0ZSwgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgd2hpdGVMaXN0IH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnQnOwppbXBvcnQgeyB1c2VyU2FmZVNlbGVjdG9yIH0gZnJvbSAnLi4vLi4vdmlld3MvcGFnZXMvbG9naW4vYXV0aGVudGljYXRlLnJlZHVjZXInOwpleHBvcnQgdmFyIFByaXZhdGVSb3V0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIFByaXZhdGVSb3V0ZUNvbXBvbmVudChfcmVmKSB7CiAgdmFyIENvbXBvbmVudCA9IF9yZWYuY29tcG9uZW50LAogICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsiY29tcG9uZW50Il0pOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IodXNlclNhZmVTZWxlY3RvciksCiAgICAgIGlzQXV0aGVudGljYXRlZCA9IF91c2VTZWxlY3Rvci5pc0F1dGhlbnRpY2F0ZWQsCiAgICAgIHNlc3Npb25IYXNCZWVuRmV0Y2hlZCA9IF91c2VTZWxlY3Rvci5zZXNzaW9uSGFzQmVlbkZldGNoZWQsCiAgICAgIGFjY291bnQgPSBfdXNlU2VsZWN0b3IuYWNjb3VudDsKCiAgdmFyIGNoZWNrQXV0aG9yaXRpZXMgPSBmdW5jdGlvbiBjaGVja0F1dGhvcml0aWVzKHByb3BzKSB7CiAgICB2YXIgaXNBZG1pbiA9IGFjY291bnQuYXV0aG9yaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtID09PSAnUk9MRV9BRE1JTic7CiAgICB9KS5sZW5ndGggPiAwOwogICAgdmFyIGlzV2hpdGVMaXN0ID0gd2hpdGVMaXN0LmluY2x1ZGVzKHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lKTsKICAgIHZhciBpc0hhc1Blcm1pc3Npb24gPSBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLm1ldGhvZCA9PT0gJ0dFVCcgJiYgaXRlbS5lbnRpdHkuaW5jbHVkZXMocHJvcHMubG9jYXRpb24ucGF0aG5hbWUpOwogICAgfSkubGVuZ3RoID4gMCB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLm1ldGhvZCA9PT0gJ0dFVCcgJiYgaXRlbS5lbnRpdHkuaW5jbHVkZXMocHJvcHMubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKVsxXSk7CiAgICB9KS5sZW5ndGggPiAwICYmIHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCdkZXRhaWwnKSB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLm1ldGhvZCA9PT0gJ1BPU1QnICYmIGl0ZW0uZW50aXR5LmluY2x1ZGVzKHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMV0pICYmIHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCduZXcnKTsKICAgIH0pLmxlbmd0aCA+IDAgfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5tZXRob2QgPT09ICdQVVQnICYmIGl0ZW0uZW50aXR5LmluY2x1ZGVzKHByb3BzLmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMV0pOwogICAgfSkubGVuZ3RoID4gMCAmJiBwcm9wcy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnZWRpdCcpIHx8IGFjY291bnQucm9sZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0ubWV0aG9kID09PSAnREVMRVRFJyAmJiBpdGVtLmVudGl0eS5pbmNsdWRlcyhwcm9wcy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpWzFdKTsKICAgIH0pLmxlbmd0aCA+IDA7CiAgICByZXR1cm4gaXNXaGl0ZUxpc3QgfHwgaXNIYXNQZXJtaXNzaW9uIHx8IGlzQWRtaW4gPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHByb3BzKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaGVTaWRlYmFyLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlQXNpZGUsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICBjbGFzc05hbWU6ICJjLXdyYXBwZXIiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaGVIZWFkZXIsIG51bGwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICBjbGFzc05hbWU6ICJjLWJvZHkiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICBjbGFzc05hbWU6ICJpbnN1ZmZpY2llbnQtYXV0aG9yaXR5IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiAiYWxlcnQgYWxlcnQtZGFuZ2VyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiQlx1MUVBMW4ga2hceEY0bmcgZGMgcXV5XHUxRUMxbiB0cnV5IGNcdTFFQURwIHZceEUwbyB0cmFuZyBuXHhFMHkiKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlRm9vdGVyLCBudWxsKSkpOwogIH07CgogIHZhciByZW5kZXJSZWRpcmVjdCA9IGZ1bmN0aW9uIHJlbmRlclJlZGlyZWN0KHByb3BzKSB7CiAgICBpZiAoIXNlc3Npb25IYXNCZWVuRmV0Y2hlZCkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVkaXJlY3QsIHsKICAgICAgICB0bzogewogICAgICAgICAgcGF0aG5hbWU6ICcvbG9naW4nLAogICAgICAgICAgc2VhcmNoOiBwcm9wcy5sb2NhdGlvbi5zZWFyY2gsCiAgICAgICAgICBzdGF0ZTogewogICAgICAgICAgICBmcm9tOiBwcm9wcy5sb2NhdGlvbgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gaXNBdXRoZW50aWNhdGVkID8gY2hlY2tBdXRob3JpdGllcyhwcm9wcykgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWRpcmVjdCwgewogICAgICAgIHRvOiB7CiAgICAgICAgICBwYXRobmFtZTogJy9sb2dpbicsCiAgICAgICAgICBzZWFyY2g6IHByb3BzLmxvY2F0aW9uLnNlYXJjaCwKICAgICAgICAgIHN0YXRlOiB7CiAgICAgICAgICAgIGZyb206IHByb3BzLmxvY2F0aW9uCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9OwoKICBpZiAoIUNvbXBvbmVudCkgdGhyb3cgbmV3IEVycm9yKCJBIGNvbXBvbmVudCBuZWVkcyB0byBiZSBzcGVjaWZpZWQgZm9yIHByaXZhdGUgcm91dGUgZm9yIHBhdGggIi5jb25jYXQocmVzdC5wYXRoKSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJvdXRlLCBfZXh0ZW5kcyh7fSwgcmVzdCwgewogICAgcmVuZGVyOiByZW5kZXJSZWRpcmVjdAogIH0pKTsKfTsgLy8gZXhwb3J0IGNvbnN0IGhhc0FueUF1dGhvcml0eSA9IChhdXRob3JpdGllcywgaGFzQW55QXV0aG9yaXRpZXMpID0+IHsKLy8gICBpZiAoYXV0aG9yaXRpZXMgJiYgYXV0aG9yaXRpZXMubGVuZ3RoICE9PSAwKSB7Ci8vICAgICBpZiAoaGFzQW55QXV0aG9yaXRpZXMubGVuZ3RoID09PSAwKSB7Ci8vICAgICAgIHJldHVybiB0cnVlOwovLyAgICAgfQovLyAgICAgcmV0dXJuIGhhc0FueUF1dGhvcml0aWVzLnNvbWUoYXV0aCA9PiBhdXRob3JpdGllcy5pbmNsdWRlcyhhdXRoKSk7Ci8vICAgfQovLyAgIHJldHVybiBmYWxzZTsKLy8gfTsKLy8gY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKAovLyAgIHsgYXV0aGVudGljYXRpb246IHsgaXNBdXRoZW50aWNhdGVkLCBhY2NvdW50LCBzZXNzaW9uSGFzQmVlbkZldGNoZWQgfSB9LAovLyAgIHsgaGFzQW55QXV0aG9yaXRpZXMgfQovLyApID0+ICh7Ci8vICAgaXNBdXRoZW50aWNhdGVkLAovLyAgIGlzQXV0aG9yaXplZDp0cnVlLAovLyAgIHNlc3Npb25IYXNCZWVuRmV0Y2hlZAovLyB9KTsKCi8qKgogKiBBIHJvdXRlIHdyYXBwZWQgaW4gYW4gYXV0aGVudGljYXRpb24gY2hlY2sgc28gdGhhdCByb3V0aW5nIGhhcHBlbnMgb25seSB3aGVuIHlvdSBhcmUgYXV0aGVudGljYXRlZC4KICogQWNjZXB0cyBzYW1lIHByb3BzIGFzIFJlYWN0IHJvdXRlciBSb3V0ZS4KICogVGhlIHJvdXRlIGFsc28gY2hlY2tzIGZvciBhdXRob3JpemF0aW9uIGlmIGhhc0FueUF1dGhvcml0aWVzIGlzIHNwZWNpZmllZC4KICovCi8vIGV4cG9ydCBjb25zdCBQcml2YXRlUm91dGUgPSBjb25uZWN0PFN0YXRlUHJvcHMsIHVuZGVmaW5lZCwgSU93blByb3BzPihtYXBTdGF0ZVRvUHJvcHMsIG51bGwsIG51bGwsIHsgcHVyZTogZmFsc2UgfSkoUHJpdmF0ZVJvdXRlQ29tcG9uZW50KTsKCmV4cG9ydCBkZWZhdWx0IFByaXZhdGVSb3V0ZUNvbXBvbmVudDs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/shared/auth/private-route.js"],"names":["TheAside","TheFooter","TheHeader","TheSidebar","React","useEffect","useSelector","Route","Redirect","whiteList","userSafeSelector","PrivateRouteComponent","Component","component","rest","isAuthenticated","sessionHasBeenFetched","account","checkAuthorities","props","isAdmin","authorities","filter","item","length","isWhiteList","includes","location","pathname","isHasPermission","role","method","entity","split","renderRedirect","search","state","from","Error","path"],"mappings":"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","sourcesContent":["import { TheAside, TheFooter, TheHeader, TheSidebar } from '../../containers';\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { whiteList } from '../utils/constant';\nimport { userSafeSelector } from '../../views/pages/login/authenticate.reducer';\n\nexport const PrivateRouteComponent = ({ component: Component, ...rest }) => {\n  const { isAuthenticated, sessionHasBeenFetched, account } = useSelector(userSafeSelector);\n  const checkAuthorities = props => {\n    const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n    const isWhiteList = whiteList.includes(props.location.pathname);\n    const isHasPermission =\n      account.role.filter(item => item.method === 'GET' && item.entity.includes(props.location.pathname)).length > 0 ||\n      account.role.filter(item => item.method === 'GET' && item.entity.includes(props.location.pathname.split('/')[1])).length > 0 && props.location.pathname.includes('detail') ||\n      account.role.filter(\n        item =>\n          item.method === 'POST' && item.entity.includes(props.location.pathname.split('/')[1]) && props.location.pathname.includes('new')\n      ).length > 0 ||\n      account.role.filter(item => item.method === 'PUT' && item.entity.includes(props.location.pathname.split('/')[1])).length > 0 && props.location.pathname.includes('edit') ||\n      account.role.filter(item => item.method === 'DELETE' && item.entity.includes(props.location.pathname.split('/')[1])).length > 0;\n\n    return isWhiteList || isHasPermission || isAdmin ? (\n      <Component {...props} />\n    ) : (\n      <div>\n        <TheSidebar />\n        <TheAside />\n        <div className=\"c-wrapper\">\n          <TheHeader />\n          <div className=\"c-body\">\n            <div className=\"insufficient-authority\">\n              <div className=\"alert alert-danger\">\n                <span>Bạn không dc quyền truy cập vào trang này</span>\n              </div>\n            </div>\n          </div>\n          <TheFooter />\n        </div>\n      </div>\n    );\n  };\n\n  const renderRedirect = props => {\n    if (!sessionHasBeenFetched) {\n      return (\n        <Redirect\n          to={{\n            pathname: '/login',\n            search: props.location.search,\n            state: { from: props.location }\n          }}\n        />\n      );\n    } else {\n      return isAuthenticated ? (\n        checkAuthorities(props)\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/login',\n            search: props.location.search,\n            state: { from: props.location }\n          }}\n        />\n      );\n    }\n  };\n\n  if (!Component) throw new Error(`A component needs to be specified for private route for path ${rest.path}`);\n\n  return <Route {...rest} render={renderRedirect} />;\n};\n\n// export const hasAnyAuthority = (authorities, hasAnyAuthorities) => {\n//   if (authorities && authorities.length !== 0) {\n//     if (hasAnyAuthorities.length === 0) {\n//       return true;\n//     }\n//     return hasAnyAuthorities.some(auth => authorities.includes(auth));\n//   }\n//   return false;\n// };\n\n// const mapStateToProps = (\n//   { authentication: { isAuthenticated, account, sessionHasBeenFetched } },\n//   { hasAnyAuthorities }\n// ) => ({\n//   isAuthenticated,\n//   isAuthorized:true,\n//   sessionHasBeenFetched\n// });\n\n/**\n * A route wrapped in an authentication check so that routing happens only when you are authenticated.\n * Accepts same props as React router Route.\n * The route also checks for authorization if hasAnyAuthorities is specified.\n */\n// export const PrivateRoute = connect<StateProps, undefined, IOwnProps>(mapStateToProps, null, null, { pure: false })(PrivateRouteComponent);\n\nexport default PrivateRouteComponent;\n"]}]}