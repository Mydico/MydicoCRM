{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/EditOrder.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/EditOrder.js","mtime":1618517488837},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0J1dHRvbiwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDQ2FyZEJvZHksIENDb2wsIENGb3JtLCBDQ29sbGFwc2UsIENDYXJkVGl0bGUsIENMYWJlbCwgQ0lucHV0LCBDUm93LCBDRm9ybUdyb3VwLCBDVGV4dGFyZWEgfSBmcm9tICdAY29yZXVpL3JlYWN0JzsKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QnOwppbXBvcnQgeyBGb3JtLCBGb3JtaWsgfSBmcm9tICdmb3JtaWsnOwppbXBvcnQgKiBhcyBZdXAgZnJvbSAneXVwJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBjcmVhdGluZ09yZGVyLCBnZXREZXRhaWxPcmRlciwgZ2V0T3JkZXJEZXRhaWwsIHVwZGF0ZU9yZGVyIH0gZnJvbSAnLi9vcmRlci5hcGknOwppbXBvcnQgVG9hc3RlciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL25vdGlmaWNhdGlvbnMvdG9hc3Rlci9Ub2FzdGVyJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBmZXRjaGluZywgZ2xvYmFsaXplZE9yZGVyc1NlbGVjdG9ycyB9IGZyb20gJy4vb3JkZXIucmVkdWNlcic7CmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JzsKaW1wb3J0IHsgY3VycmVuY3lNYXNrIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jdXJyZW5jeS1pbnB1dC9jdXJyZW5jeS1pbnB1dCc7CmltcG9ydCBNYXNrZWRJbnB1dCBmcm9tICdyZWFjdC10ZXh0LW1hc2snOwppbXBvcnQgeyBnbG9iYWxpemVkUHJvbW90aW9uU2VsZWN0b3JzIH0gZnJvbSAnLi4vUHJvbW90aW9uL3Byb21vdGlvbi5yZWR1Y2VyJzsKaW1wb3J0IHsgZ2V0RGV0YWlsUHJvZHVjdFByb21vdGlvbiwgZ2V0UHJvbW90aW9uLCBnZXRQcm9tb3Rpb25Qcm9kdWN0IH0gZnJvbSAnLi4vUHJvbW90aW9uL3Byb21vdGlvbi5hcGknOwppbXBvcnQgeyBnbG9iYWxpemVkV2FyZWhvdXNlU2VsZWN0b3JzIH0gZnJvbSAnLi4vLi4vd2FyZWhvdXNlL1dhcmVob3VzZS93YXJlaG91c2UucmVkdWNlcic7CmltcG9ydCB7IGdldFdhcmVob3VzZSB9IGZyb20gJy4uLy4uL3dhcmVob3VzZS9XYXJlaG91c2Uvd2FyZWhvdXNlLmFwaSc7CmltcG9ydCB7IGdsb2JhbGl6ZWRQcm9kdWN0V2FyZWhvdXNlU2VsZWN0b3JzIH0gZnJvbSAnLi4vLi4vd2FyZWhvdXNlL1Byb2R1Y3QvcHJvZHVjdC13YXJlaG91c2UucmVkdWNlcic7CmltcG9ydCB7IGdldFByb2R1Y3RXYXJlaG91c2UgfSBmcm9tICcuLi8uLi93YXJlaG91c2UvUHJvZHVjdC9wcm9kdWN0LXdhcmVob3VzZS5hcGknOwppbXBvcnQgeyBGb3JtRmVlZGJhY2ssIFRhYmxlIH0gZnJvbSAncmVhY3RzdHJhcCc7CmltcG9ydCB7IE9yZGVyU3RhdHVzIH0gZnJvbSAnLi9vcmRlci1zdGF0dXMnOwoKdmFyIHZhbGlkYXRpb25TY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0aW9uU2NoZW1hKHZhbHVlcykgewogIHJldHVybiBZdXAub2JqZWN0KCkuc2hhcGUoewogICAgY3VzdG9tZXI6IFl1cC5vYmplY3QoKS5yZXF1aXJlZCgnS2jDoWNoIGjDoG5nICBraMO0bmcgxJHhu4MgdHLhu5FuZycpLm51bGxhYmxlKCksCiAgICBwcm9tb3Rpb246IFl1cC5vYmplY3QoKS5yZXF1aXJlZCgnQ2jGsMahbmcgdHLDrG5oIGLDoW4gaMOgbmcga2jDtG5nIMSR4buDIHRy4buRbmcnKS5udWxsYWJsZSgpCiAgfSk7Cn07Cgp2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShnZXRWYWxpZGF0aW9uU2NoZW1hKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZXMpIHsKICAgIHZhciB2YWxpZGF0aW9uU2NoZW1hID0gZ2V0VmFsaWRhdGlvblNjaGVtYSh2YWx1ZXMpOwoKICAgIHRyeSB7CiAgICAgIHZhbGlkYXRpb25TY2hlbWEudmFsaWRhdGVTeW5jKHZhbHVlcywgewogICAgICAgIGFib3J0RWFybHk6IGZhbHNlCiAgICAgIH0pOwogICAgICByZXR1cm4ge307CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICByZXR1cm4gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcihlcnJvcik7CiAgICB9CiAgfTsKfTsKCnZhciBnZXRFcnJvcnNGcm9tVmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcih2YWxpZGF0aW9uRXJyb3IpIHsKICB2YXIgRklSU1RfRVJST1IgPSAwOwogIHJldHVybiB2YWxpZGF0aW9uRXJyb3IuaW5uZXIucmVkdWNlKGZ1bmN0aW9uIChlcnJvcnMsIGVycm9yKSB7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBlcnJvcnMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBlcnJvci5wYXRoLCBlcnJvci5lcnJvcnNbRklSU1RfRVJST1JdKSk7CiAgfSwge30pOwp9OwoKdmFyIGZpbmRGaXJzdEVycm9yID0gZnVuY3Rpb24gZmluZEZpcnN0RXJyb3IoZm9ybU5hbWUsIGhhc0Vycm9yKSB7CiAgdmFyIGZvcm0gPSBkb2N1bWVudC5mb3Jtc1tmb3JtTmFtZV07CgogIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybS5sZW5ndGg7IGkrKykgewogICAgaWYgKGhhc0Vycm9yKGZvcm1baV0ubmFtZSkpIHsKICAgICAgZm9ybVtpXS5mb2N1cygpOwogICAgICBicmVhazsKICAgIH0KICB9Cn07Cgp2YXIgdmFsaWRhdGVGb3JtID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGVycm9ycykgewogIGZpbmRGaXJzdEVycm9yKCdzaW1wbGVGb3JtJywgZnVuY3Rpb24gKGZpZWxkTmFtZSkgewogICAgcmV0dXJuIEJvb2xlYW4oZXJyb3JzW2ZpZWxkTmFtZV0pOwogIH0pOwp9OwoKdmFyIG1hcHBpbmdUeXBlID0gewogIFNIT1JUVEVSTTogJ05n4bqvbiBo4bqhbicsCiAgTE9OR1RFUk06ICdEw6BpIGjhuqFuJwp9OwoKdmFyIEVkaXRPcmRlciA9IGZ1bmN0aW9uIEVkaXRPcmRlcihwcm9wcykgewogIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5vcmRlcjsKICB9KSwKICAgICAgaW5pdGlhbFN0YXRlID0gX3VzZVNlbGVjdG9yLmluaXRpYWxTdGF0ZTsKCiAgdmFyIF91c2VTZWxlY3RvcjIgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5wcm9tb3Rpb247CiAgfSksCiAgICAgIHByb21vdGlvblN0YXRlID0gX3VzZVNlbGVjdG9yMi5pbml0aWFsU3RhdGU7CgogIHZhciBpbml0aWFsVmFsdWVzID0gewogICAgY3VzdG9tZXI6IG51bGwsCiAgICBwcm9tb3Rpb246IG51bGwsCiAgICBvcmRlckRldGFpbHM6IFtdLAogICAgY29kZTogJycsCiAgICBub3RlOiAnJywKICAgIGFkZHJlc3M6ICcnLAogICAgc3RhdHVzOiBPcmRlclN0YXR1cy5XQUlUSU5HCiAgfTsKICB2YXIgdG9hc3RSZWYgPSB1c2VSZWYoKTsKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHZhciBzZWxlY3RBbGxQcm9tb3Rpb24gPSBnbG9iYWxpemVkUHJvbW90aW9uU2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgc2VsZWN0QWxsV2FyZWhvdXNlID0gZ2xvYmFsaXplZFdhcmVob3VzZVNlbGVjdG9ycy5zZWxlY3RBbGw7CiAgdmFyIHNlbGVjdEFsbFByb2R1Y3RJbldhcmVob3VzZSA9IGdsb2JhbGl6ZWRQcm9kdWN0V2FyZWhvdXNlU2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgc2VsZWN0QnlJZCA9IGdsb2JhbGl6ZWRPcmRlcnNTZWxlY3RvcnMuc2VsZWN0QnlJZDsKICB2YXIgcHJvbW90aW9ucyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbFByb21vdGlvbik7CiAgdmFyIHByb2R1Y3RJbldhcmVob3VzZXMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGxQcm9kdWN0SW5XYXJlaG91c2UpOwogIHZhciBvcmRlciA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHNlbGVjdEJ5SWQoc3RhdGUsIHByb3BzLm1hdGNoLnBhcmFtcy5pZCk7CiAgfSk7CiAgdmFyIHdhcmVob3VzZXMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGxXYXJlaG91c2UpOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBzZWxlY3RlZEN1c3RvbWVyID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0U2VsZWN0ZWRDdXN0b21lciA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgc2VsZWN0ZWRQcm9tb3Rpb24gPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRTZWxlY3RlZFByb21vdGlvbiA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2VsZWN0ZWRXYXJlaG91c2UgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRTZWxlY3RlZFdhcmVob3VzZSA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBfdXNlU3RhdGU3ID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksCiAgICAgIHByb2R1Y3RMaXN0ID0gX3VzZVN0YXRlOFswXSwKICAgICAgc2V0UHJvZHVjdExpc3QgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgX3VzZVN0YXRlOSA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGUxMCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTksIDIpLAogICAgICBpbml0VmFsdWVzU3RhdGUgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0SW5pdFZhbHVlc1N0YXRlID0gX3VzZVN0YXRlMTBbMV07CgogIHZhciBfdXNlU3RhdGUxMSA9IHVzZVN0YXRlKHRydWUpLAogICAgICBfdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTExLCAyKSwKICAgICAgaXNTZWxlY3RlZFdhcmVob3VzZSA9IF91c2VTdGF0ZTEyWzBdLAogICAgICBzZXRJc1NlbGVjdGVkV2FyZWhvdXNlID0gX3VzZVN0YXRlMTJbMV07CgogIHZhciBfdXNlU3RhdGUxMyA9IHVzZVN0YXRlKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlMTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUxMywgMiksCiAgICAgIHNob3dQcm9kdWN0UHJvbW90aW9uID0gX3VzZVN0YXRlMTRbMF0sCiAgICAgIHNldFNob3dQcm9kdWN0UHJvbW90aW9uID0gX3VzZVN0YXRlMTRbMV07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXRQcm9tb3Rpb24oewogICAgICBpc0xvY2s6IDAKICAgIH0pKTsKICAgIGRpc3BhdGNoKGdldERldGFpbE9yZGVyKHByb3BzLm1hdGNoLnBhcmFtcy5pZCkpOwogICAgZGlzcGF0Y2goZ2V0V2FyZWhvdXNlKCkpOwogIH0sIFtdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKG9yZGVyKSB7CiAgICAgIHNldEluaXRWYWx1ZXNTdGF0ZShvcmRlcik7CiAgICAgIGRpc3BhdGNoKGdldERldGFpbFByb2R1Y3RQcm9tb3Rpb24oewogICAgICAgIHByb21vdGlvbjogb3JkZXIucHJvbW90aW9uLmlkCiAgICAgIH0pKTsKICAgICAgZGlzcGF0Y2goZ2V0T3JkZXJEZXRhaWwocHJvcHMubWF0Y2gucGFyYW1zLmlkKSk7CiAgICB9CiAgfSwgW29yZGVyXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGluaXRpYWxTdGF0ZS5vcmRlckRldGFpbHMpKSB7CiAgICAgIHNldFByb2R1Y3RMaXN0KGluaXRpYWxTdGF0ZS5vcmRlckRldGFpbHMpOwoKICAgICAgaWYgKGluaXRpYWxTdGF0ZS5vcmRlckRldGFpbHMubGVuZ3RoID4gMCkgewogICAgICAgIHNldFNlbGVjdGVkV2FyZWhvdXNlKGluaXRpYWxTdGF0ZS5vcmRlckRldGFpbHNbMF0uc3RvcmUpOwogICAgICAgIGRpc3BhdGNoKGdldFByb2R1Y3RXYXJlaG91c2UoewogICAgICAgICAgc3RvcmU6IGluaXRpYWxTdGF0ZS5vcmRlckRldGFpbHNbMF0uc3RvcmUuaWQKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0KICB9LCBbaW5pdGlhbFN0YXRlLm9yZGVyRGV0YWlsc10pOwoKICB2YXIgb25TdWJtaXQgPSBmdW5jdGlvbiBvblN1Ym1pdCh2YWx1ZXMsIF9yZWYpIHsKICAgIHZhciBzZXRTdWJtaXR0aW5nID0gX3JlZi5zZXRTdWJtaXR0aW5nLAogICAgICAgIHNldEVycm9ycyA9IF9yZWYuc2V0RXJyb3JzOwogICAgdmFsdWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZXMpKTsKICAgIGlmICghdmFsdWVzLmFkZHJlc3MpIHZhbHVlcy5hZGRyZXNzID0gc2VsZWN0ZWRDdXN0b21lci5hZGRyZXNzOwoKICAgIGlmIChzZWxlY3RlZFByb21vdGlvbikgewogICAgICB2YWx1ZXMucHJvbW90aW9uID0gc2VsZWN0ZWRQcm9tb3Rpb247CiAgICB9CgogICAgdmFsdWVzLm9yZGVyRGV0YWlscyA9IHByb2R1Y3RMaXN0OwogICAgZGlzcGF0Y2godXBkYXRlT3JkZXIodmFsdWVzKSk7CiAgfTsKCiAgdmFyIG9uU2VsZWN0UHJvbW90aW9uID0gZnVuY3Rpb24gb25TZWxlY3RQcm9tb3Rpb24oX3JlZjIpIHsKICAgIHZhciB2YWx1ZSA9IF9yZWYyLnZhbHVlOwogICAgdmFyIGFyciA9IHByb21vdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChjdXN0b21lcikgewogICAgICByZXR1cm4gY3VzdG9tZXIuaWQgPT09IHZhbHVlOwogICAgfSk7CgogICAgaWYgKGFyci5sZW5ndGggPT09IDEpIHsKICAgICAgc2V0U2VsZWN0ZWRQcm9tb3Rpb24oYXJyWzBdKTsKICAgIH0KICB9OwoKICB2YXIgb25TZWxlY3RlZFByb2R1Y3QgPSBmdW5jdGlvbiBvblNlbGVjdGVkUHJvZHVjdChfcmVmMywgaW5kZXgpIHsKICAgIHZhciB2YWx1ZSA9IF9yZWYzLnZhbHVlOwogICAgdmFyIGFyciA9IHByb2R1Y3RJbldhcmVob3VzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgIHJldHVybiBwcm9kdWN0LnByb2R1Y3QuaWQgPT09IHZhbHVlOwogICAgfSk7CgogICAgaWYgKGFyci5sZW5ndGggPT09IDEpIHsKICAgICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgICAgY29weUFycltpbmRleF0ucHJpY2VSZWFsID0gTnVtYmVyKGFyclswXS5wcm9kdWN0LnByaWNlKTsKICAgICAgY29weUFycltpbmRleF0ucHJvZHVjdCA9IGFyclswXS5wcm9kdWN0OwogICAgICBzZXRQcm9kdWN0TGlzdChjb3B5QXJyKTsKICAgICAgb25DaGFuZ2VRdWFudGl0eSh7CiAgICAgICAgdGFyZ2V0OiB7CiAgICAgICAgICB2YWx1ZTogMQogICAgICAgIH0KICAgICAgfSwgaW5kZXgpOwogICAgfQogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoc2VsZWN0ZWRQcm9tb3Rpb24gIT09IG51bGwgJiYgc2VsZWN0ZWRQcm9tb3Rpb24gIT09IHZvaWQgMCAmJiBzZWxlY3RlZFByb21vdGlvbi5pZCkgewogICAgICBkaXNwYXRjaChnZXREZXRhaWxQcm9kdWN0UHJvbW90aW9uKHsKICAgICAgICBwcm9tb3Rpb246IHNlbGVjdGVkUHJvbW90aW9uLmlkCiAgICAgIH0pKTsKICAgIH0KICB9LCBbc2VsZWN0ZWRQcm9tb3Rpb25dKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKHNlbGVjdGVkV2FyZWhvdXNlICE9PSBudWxsICYmIHNlbGVjdGVkV2FyZWhvdXNlICE9PSB2b2lkIDAgJiYgc2VsZWN0ZWRXYXJlaG91c2UuaWQpIHsKICAgICAgZGlzcGF0Y2goZ2V0UHJvZHVjdFdhcmVob3VzZSh7CiAgICAgICAgc3RvcmU6IHNlbGVjdGVkV2FyZWhvdXNlID09PSBudWxsIHx8IHNlbGVjdGVkV2FyZWhvdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZFdhcmVob3VzZS5pZAogICAgICB9KSk7CiAgICB9CiAgfSwgW3NlbGVjdGVkV2FyZWhvdXNlXSk7CgogIHZhciBvbkFkZFByb2R1Y3QgPSBmdW5jdGlvbiBvbkFkZFByb2R1Y3QoKSB7CiAgICBpZiAoc2VsZWN0ZWRXYXJlaG91c2UgIT09IG51bGwgJiYgc2VsZWN0ZWRXYXJlaG91c2UgIT09IHZvaWQgMCAmJiBzZWxlY3RlZFdhcmVob3VzZS5pZCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwcm9kdWN0OiB7fSwKICAgICAgICBxdWFudGl0eTogMSwKICAgICAgICByZWR1Y2VQZXJjZW50OiAwLAogICAgICAgIHN0b3JlOiB7CiAgICAgICAgICBpZDogc2VsZWN0ZWRXYXJlaG91c2UuaWQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNldFByb2R1Y3RMaXN0KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpLCBbZGF0YV0pKTsKICAgIH0gZWxzZSB7CiAgICAgIHNldElzU2VsZWN0ZWRXYXJlaG91c2UoZmFsc2UpOwogICAgfQogIH07CgogIHZhciBvbkNoYW5nZVF1YW50aXR5ID0gZnVuY3Rpb24gb25DaGFuZ2VRdWFudGl0eShfcmVmNCwgaW5kZXgpIHsKICAgIHZhciB0YXJnZXQgPSBfcmVmNC50YXJnZXQ7CgogICAgdmFyIGNvcHlBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkocHJvZHVjdExpc3QpOwoKICAgIGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5ID0gdGFyZ2V0LnZhbHVlOwogICAgY29weUFycltpbmRleF0ucHJpY2VUb3RhbCA9IGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5ICogY29weUFycltpbmRleF0ucHJpY2VSZWFsOwoKICAgIGlmIChBcnJheS5pc0FycmF5KHByb21vdGlvblN0YXRlLnByb21vdGlvblByb2R1Y3RzKSkgewogICAgICB2YXIgZm91bmRlZCA9IHByb21vdGlvblN0YXRlLnByb21vdGlvblByb2R1Y3RzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnByb2R1Y3QuaWQgPT09IGNvcHlBcnJbaW5kZXhdLnByb2R1Y3QuaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGZvdW5kZWQubGVuZ3RoID4gMCkgewogICAgICAgIGlmICh0YXJnZXQudmFsdWUgPj0gZm91bmRlZFswXS5idXkpIHsKICAgICAgICAgIHZhciByYXRpbyA9IGZvdW5kZWRbMF0uZ2lmdCAvIGZvdW5kZWRbMF0uYnV5OwogICAgICAgICAgdmFyIGdpZnQgPSBNYXRoLmZsb29yKHRhcmdldC52YWx1ZSAqIHJhdGlvKTsKICAgICAgICAgIHZhciBleGlzdEV4dHJhUHJvZHVjdEluZGV4ID0gY29weUFyci5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZm9sbG93SW5kZXggPT09IGluZGV4OwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGV4aXN0RXh0cmFQcm9kdWN0SW5kZXggIT0gLTEpIHsKICAgICAgICAgICAgY29weUFycltleGlzdEV4dHJhUHJvZHVjdEluZGV4XS5xdWFudGl0eSA9IGdpZnQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgZXh0cmFQcm9kdWN0ID0gewogICAgICAgICAgICAgIHByb2R1Y3Q6IGNvcHlBcnJbaW5kZXhdLnByb2R1Y3QsCiAgICAgICAgICAgICAgcXVhbnRpdHk6IGdpZnQsCiAgICAgICAgICAgICAgcmVkdWNlUGVyY2VudDogMTAwLAogICAgICAgICAgICAgIHByaWNlUmVhbDogY29weUFycltpbmRleF0ucHJvZHVjdC5wcmljZSwKICAgICAgICAgICAgICBzdG9yZTogewogICAgICAgICAgICAgICAgaWQ6IHNlbGVjdGVkV2FyZWhvdXNlLmlkCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBmb2xsb3dJbmRleDogaW5kZXgKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29weUFyci5zcGxpY2UoaW5kZXggKyAxLCAwLCBleHRyYVByb2R1Y3QpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvbkNoYW5nZVByaWNlID0gZnVuY3Rpb24gb25DaGFuZ2VQcmljZShfcmVmNSwgaW5kZXgpIHsKICAgIHZhciB0YXJnZXQgPSBfcmVmNS50YXJnZXQ7CiAgICB2YXIgY29weUFyciA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocHJvZHVjdExpc3QpKTsKICAgIGNvcHlBcnJbaW5kZXhdLnByaWNlUmVhbCA9IE51bWJlcih0YXJnZXQudmFsdWUucmVwbGFjZSgvXEQvZywgJycpKTsKICAgIGNvcHlBcnJbaW5kZXhdLnByaWNlVG90YWwgPSBjb3B5QXJyW2luZGV4XS5xdWFudGl0eSAqIGNvcHlBcnJbaW5kZXhdLnByaWNlUmVhbDsKICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvbkNoYW5nZVJlZHVjZVBlcmNlbnQgPSBmdW5jdGlvbiBvbkNoYW5nZVJlZHVjZVBlcmNlbnQoX3JlZjYsIGluZGV4KSB7CiAgICB2YXIgdGFyZ2V0ID0gX3JlZjYudGFyZ2V0OwoKICAgIHZhciBjb3B5QXJyID0gX3RvQ29uc3VtYWJsZUFycmF5KHByb2R1Y3RMaXN0KTsKCiAgICBjb3B5QXJyW2luZGV4XS5yZWR1Y2VQZXJjZW50ID0gdGFyZ2V0LnZhbHVlOwogICAgY29weUFycltpbmRleF0ucHJpY2VUb3RhbCA9IGNvcHlBcnJbaW5kZXhdLnByaWNlUmVhbCAqIGNvcHlBcnJbaW5kZXhdLnF1YW50aXR5IC0gY29weUFycltpbmRleF0ucHJpY2VSZWFsICogY29weUFycltpbmRleF0ucXVhbnRpdHkgKiBjb3B5QXJyW2luZGV4XS5yZWR1Y2VQZXJjZW50IC8gMTAwOwogICAgc2V0UHJvZHVjdExpc3QoY29weUFycik7CiAgfTsKCiAgdmFyIG9uU2VsZWN0V2FyZWhvdXNlID0gZnVuY3Rpb24gb25TZWxlY3RXYXJlaG91c2UoX3JlZjcpIHsKICAgIHZhciB2YWx1ZSA9IF9yZWY3LnZhbHVlOwogICAgdmFyIGFyciA9IHdhcmVob3VzZXMuZmlsdGVyKGZ1bmN0aW9uIChjdXN0b21lcikgewogICAgICByZXR1cm4gY3VzdG9tZXIuaWQgPT09IHZhbHVlOwogICAgfSk7CgogICAgaWYgKGFyci5sZW5ndGggPT09IDEpIHsKICAgICAgc2V0U2VsZWN0ZWRXYXJlaG91c2UoYXJyWzBdKTsKICAgICAgc2V0SXNTZWxlY3RlZFdhcmVob3VzZSh0cnVlKTsKICAgIH0KICB9OwoKICB2YXIgb25SZW1vdmVQcm9kdWN0ID0gZnVuY3Rpb24gb25SZW1vdmVQcm9kdWN0KGluZGV4KSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCk7CgogICAgY29weUFyci5zcGxpY2UoaW5kZXgsIDEpOwogICAgc2V0UHJvZHVjdExpc3QoY29weUFycik7CiAgfTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGNvbnNvbGUubG9nKHByb21vdGlvblN0YXRlKTsKICB9LCBbcHJvbW90aW9uU3RhdGVdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGluaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3MpIHsKICAgICAgdG9hc3RSZWYuY3VycmVudC5hZGRUb2FzdCgpOwogICAgICBoaXN0b3J5LmdvQmFjaygpOwogICAgfQogIH0sIFtpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzXSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb2FzdGVyLCB7CiAgICByZWY6IHRvYXN0UmVmLAogICAgbWVzc2FnZTogIlRcdTFFQTFvIG1cdTFFREJpIGtoXHhFMWNoIGhceEUwbmcgdGhceEUwbmggY1x4RjRuZyIKICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWlrLCB7CiAgICBpbml0aWFsVmFsdWVzOiBpbml0VmFsdWVzU3RhdGUgfHwgaW5pdGlhbFZhbHVlcywKICAgIGVuYWJsZVJlaW5pdGlhbGl6ZTogdHJ1ZSwKICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSh2YWxpZGF0aW9uU2NoZW1hKSwKICAgIG9uU3VibWl0OiBvblN1Ym1pdAogIH0sIGZ1bmN0aW9uIChfcmVmOCkgewogICAgdmFyIF92YWx1ZXMkY3VzdG9tZXIsIF92YWx1ZXMkY3VzdG9tZXIyLCBfdmFsdWVzJGN1c3RvbWVyMywgX3ZhbHVlcyRjdXN0b21lcjQsIF92YWx1ZXMkY3VzdG9tZXI0JGJyYSwgX3ZhbHVlcyRjdXN0b21lcjUsIF92YWx1ZXMkY3VzdG9tZXI2LCBfdmFsdWVzJGN1c3RvbWVyNiRjaXQsIF92YWx1ZXMkY3VzdG9tZXI3LCBfdmFsdWVzJGN1c3RvbWVyNyRkaXMsIF92YWx1ZXMkY3VzdG9tZXI4LCBfdmFsdWVzJGN1c3RvbWVyOCR0eXAsIF92YWx1ZXMkcHJvbW90aW9uLCBfdmFsdWVzJHByb21vdGlvbjIsIF92YWx1ZXMkc3RvcmUsIF9zZWxlY3RlZFdhcmVob3VzZSRjaSwgX3NlbGVjdGVkV2FyZWhvdXNlJGRpLCBfc2VsZWN0ZWRXYXJlaG91c2Ukd2E7CgogICAgdmFyIHZhbHVlcyA9IF9yZWY4LnZhbHVlcywKICAgICAgICBlcnJvcnMgPSBfcmVmOC5lcnJvcnMsCiAgICAgICAgdG91Y2hlZCA9IF9yZWY4LnRvdWNoZWQsCiAgICAgICAgc3RhdHVzID0gX3JlZjguc3RhdHVzLAogICAgICAgIGRpcnR5ID0gX3JlZjguZGlydHksCiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX3JlZjguaGFuZGxlQ2hhbmdlLAogICAgICAgIGhhbmRsZUJsdXIgPSBfcmVmOC5oYW5kbGVCbHVyLAogICAgICAgIGhhbmRsZVN1Ym1pdCA9IF9yZWY4LmhhbmRsZVN1Ym1pdCwKICAgICAgICBzZXRGaWVsZFZhbHVlID0gX3JlZjguc2V0RmllbGRWYWx1ZSwKICAgICAgICBpc1N1Ym1pdHRpbmcgPSBfcmVmOC5pc1N1Ym1pdHRpbmcsCiAgICAgICAgaXNWYWxpZCA9IF9yZWY4LmlzVmFsaWQsCiAgICAgICAgaGFuZGxlUmVzZXQgPSBfcmVmOC5oYW5kbGVSZXNldCwKICAgICAgICBzZXRUb3VjaGVkID0gX3JlZjguc2V0VG91Y2hlZDsKICAgIGNvbnNvbGUubG9nKGVycm9ycyk7CiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm0sIHsKICAgICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdCwKICAgICAgbm9WYWxpZGF0ZTogdHJ1ZSwKICAgICAgbmFtZTogInNpbXBsZUZvcm0iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIHhzOiAiMTIiLAogICAgICBzbTogIjYiLAogICAgICBtZDogIjEyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIHsKICAgICAgY2xhc3NOYW1lOiAiY2FyZC1hY2NlbnQtcHJpbWFyeSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZFRpdGxlLCBudWxsLCAiVGhceEY0bmcgdGluIGtoXHhFMWNoIGhceEUwbmciKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiTVx4RTMga2hceEUxY2ggaFx4RTBuZzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIChfdmFsdWVzJGN1c3RvbWVyID0gdmFsdWVzLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfdmFsdWVzJGN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJGN1c3RvbWVyLmNvZGUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIkhcdTFFQ0QgdFx4RUFuOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgKF92YWx1ZXMkY3VzdG9tZXIyID0gdmFsdWVzLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfdmFsdWVzJGN1c3RvbWVyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjdXN0b21lcjIubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiU1x1MUVEMSBcdTAxMTFpXHUxRUM3biB0aG9cdTFFQTFpOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgKF92YWx1ZXMkY3VzdG9tZXIzID0gdmFsdWVzLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfdmFsdWVzJGN1c3RvbWVyMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjdXN0b21lcjMudGVsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJDaGkgbmhceEUxbmg6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCAoX3ZhbHVlcyRjdXN0b21lcjQgPSB2YWx1ZXMuY3VzdG9tZXIpID09PSBudWxsIHx8IF92YWx1ZXMkY3VzdG9tZXI0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3ZhbHVlcyRjdXN0b21lcjQkYnJhID0gX3ZhbHVlcyRjdXN0b21lcjQuYnJhbmNoKSA9PT0gbnVsbCB8fCBfdmFsdWVzJGN1c3RvbWVyNCRicmEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWx1ZXMkY3VzdG9tZXI0JGJyYS5uYW1lKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5OiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgKF92YWx1ZXMkY3VzdG9tZXI1ID0gdmFsdWVzLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfdmFsdWVzJGN1c3RvbWVyNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjdXN0b21lcjUuYWRkcmVzcykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiVGhceEUwbmggcGhcdTFFRDE6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCAoX3ZhbHVlcyRjdXN0b21lcjYgPSB2YWx1ZXMuY3VzdG9tZXIpID09PSBudWxsIHx8IF92YWx1ZXMkY3VzdG9tZXI2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3ZhbHVlcyRjdXN0b21lcjYkY2l0ID0gX3ZhbHVlcyRjdXN0b21lcjYuY2l0eSkgPT09IG51bGwgfHwgX3ZhbHVlcyRjdXN0b21lcjYkY2l0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJGN1c3RvbWVyNiRjaXQubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiUXVcdTFFQURuIGh1eVx1MUVDN246IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCAoX3ZhbHVlcyRjdXN0b21lcjcgPSB2YWx1ZXMuY3VzdG9tZXIpID09PSBudWxsIHx8IF92YWx1ZXMkY3VzdG9tZXI3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3ZhbHVlcyRjdXN0b21lcjckZGlzID0gX3ZhbHVlcyRjdXN0b21lcjcuZGlzdHJpY3QpID09PSBudWxsIHx8IF92YWx1ZXMkY3VzdG9tZXI3JGRpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjdXN0b21lcjckZGlzLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIkxvXHUxRUExaSBraFx4RTFjaCBoXHhFMG5nOiAiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIChfdmFsdWVzJGN1c3RvbWVyOCA9IHZhbHVlcy5jdXN0b21lcikgPT09IG51bGwgfHwgX3ZhbHVlcyRjdXN0b21lcjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdmFsdWVzJGN1c3RvbWVyOCR0eXAgPSBfdmFsdWVzJGN1c3RvbWVyOC50eXBlKSA9PT0gbnVsbCB8fCBfdmFsdWVzJGN1c3RvbWVyOCR0eXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWx1ZXMkY3VzdG9tZXI4JHR5cC5uYW1lKSkpKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICB4czogIjEyIiwKICAgICAgc206ICI2IiwKICAgICAgbWQ6ICIxMiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCB7CiAgICAgIGNsYXNzTmFtZTogImNhcmQtYWNjZW50LWluZm8iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIkNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmgga2h1eVx1MUVCRm4gbVx1MUVBMWkiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgewogICAgICBjbGFzc05hbWU6ICJtYi0zIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBzbTogNAogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsYXN0TmFtZSIKICAgIH0sICJDaFx1MUVDRG4gY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBiXHhFMW4gaFx4RTBuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGl0ZW0pIHsKICAgICAgICBzZXRGaWVsZFZhbHVlKCdwcm9tb3Rpb24nLCB7CiAgICAgICAgICBpZDogaXRlbS52YWx1ZSwKICAgICAgICAgIG5hbWU6IGl0ZW0ubGFiZWwKICAgICAgICB9KTsKICAgICAgICBvblNlbGVjdFByb21vdGlvbihpdGVtKTsKICAgICAgfSwKICAgICAgdmFsdWU6IHsKICAgICAgICB2YWx1ZTogKF92YWx1ZXMkcHJvbW90aW9uID0gdmFsdWVzLnByb21vdGlvbikgPT09IG51bGwgfHwgX3ZhbHVlcyRwcm9tb3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWx1ZXMkcHJvbW90aW9uLmlkLAogICAgICAgIGxhYmVsOiAoX3ZhbHVlcyRwcm9tb3Rpb24yID0gdmFsdWVzLnByb21vdGlvbikgPT09IG51bGwgfHwgX3ZhbHVlcyRwcm9tb3Rpb24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJHByb21vdGlvbjIubmFtZQogICAgICB9LAogICAgICBuYW1lOiAicHJvbW90aW9uIiwKICAgICAgb3B0aW9uczogcHJvbW90aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsCiAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KGl0ZW0ubmFtZSkKICAgICAgICB9OwogICAgICB9KQogICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybUZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMucHJvbW90aW9uKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlRceEVBbiBjaFx1MDFCMFx1MDFBMW5nIHRyXHhFQ25oOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRQcm9tb3Rpb24gPT09IG51bGwgfHwgc2VsZWN0ZWRQcm9tb3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkUHJvbW90aW9uLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIk5nXHhFMHkgYlx1MUVBRnQgXHUwMTExXHUxRUE3dToiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIHNlbGVjdGVkUHJvbW90aW9uID09PSBudWxsIHx8IHNlbGVjdGVkUHJvbW90aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZFByb21vdGlvbi5zdGFydFRpbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlNcdTFFQTNuIHBoXHUxRUE5bSBceEUxcCBkXHUxRUU1bmciKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJOZ1x4RTB5IGtcdTFFQkZ0IHRoXHhGQWM6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFByb21vdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3RlZFByb21vdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRQcm9tb3Rpb24uZW5kVGltZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiTG9cdTFFQTFpIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmg6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBtYXBwaW5nVHlwZVtzZWxlY3RlZFByb21vdGlvbiA9PT0gbnVsbCB8fCBzZWxlY3RlZFByb21vdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRQcm9tb3Rpb24udHlwZV0pKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICBzaXplOiAic20iLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgIHNldFNob3dQcm9kdWN0UHJvbW90aW9uKCFzaG93UHJvZHVjdFByb21vdGlvbik7CiAgICAgIH0KICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWxab29tIgogICAgfSksICIgWGVtIHNcdTFFQTNuIHBoXHUxRUE5bSBceEUxcCBkXHUxRUU1bmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbGxhcHNlLCB7CiAgICAgIHNob3c6IHNob3dQcm9kdWN0UHJvbW90aW9uCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJUaFx4RjRuZyB0aW4gc1x1MUVBM24gcGhcdTFFQTltIGtodXlcdTFFQkZuIG1cdTFFQTFpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgQXJyYXkuaXNBcnJheShwcm9tb3Rpb25TdGF0ZS5wcm9tb3Rpb25Qcm9kdWN0cykgJiYgcHJvbW90aW9uU3RhdGUucHJvbW90aW9uUHJvZHVjdHMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS00IgogICAgICB9LCAiIi5jb25jYXQoaXRlbS5wcm9kdWN0Lm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS04IgogICAgICB9LCAiTXVhICIuY29uY2F0KGl0ZW0uYnV5LCAiIFRcdTFFQjduZyAiKS5jb25jYXQoaXRlbS5naWZ0KSkpOwogICAgfSkpKSkpKSkpLCBwcm9kdWN0TGlzdC5sZW5ndGggPT09IDAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICB4czogIjEyIiwKICAgICAgc206ICI2IiwKICAgICAgbWQ6ICIxMiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCB7CiAgICAgIGNsYXNzTmFtZTogImNhcmQtYWNjZW50LWluZm8iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIktobyBoXHhFMG5nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIHsKICAgICAgY2xhc3NOYW1lOiAibWItMyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgc206IDQKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAibGFzdE5hbWUiCiAgICB9LCAiQ2hcdTFFQ0RuIEtobyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGl0ZW0pIHsKICAgICAgICBzZXRGaWVsZFZhbHVlKCdzdG9yZScsIGl0ZW0udmFsdWUpOwogICAgICAgIG9uU2VsZWN0V2FyZWhvdXNlKGl0ZW0udmFsdWUpOwogICAgICB9LAogICAgICB2YWx1ZTogewogICAgICAgIHZhbHVlOiB2YWx1ZXMuc3RvcmUsCiAgICAgICAgbGFiZWw6IChfdmFsdWVzJHN0b3JlID0gdmFsdWVzLnN0b3JlKSA9PT0gbnVsbCB8fCBfdmFsdWVzJHN0b3JlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJHN0b3JlLm5hbWUKICAgICAgfSwKICAgICAgb3B0aW9uczogd2FyZWhvdXNlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IGl0ZW0sCiAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KGl0ZW0ubmFtZSkKICAgICAgICB9OwogICAgICB9KQogICAgfSksICFpc1NlbGVjdGVkV2FyZWhvdXNlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1GZWVkYmFjaywgewogICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgfSwgIkJcdTFFQTFuIHBoXHUxRUEzaSBjaFx1MUVDRG4ga2hvIGhceEUwbmciKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgIH0sICJUXHhFQW4ga2hvOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkV2FyZWhvdXNlLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlNcdTFFRDEgXHUwMTExaVx1MUVDN24gdGhvXHUxRUExaToiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIHNlbGVjdGVkV2FyZWhvdXNlID09PSBudWxsIHx8IHNlbGVjdGVkV2FyZWhvdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZFdhcmVob3VzZS50ZWwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlx1MDExMFx1MUVDQmEgY2hcdTFFQzk6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0ZWRXYXJlaG91c2UuYWRkcmVzcykpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiVGhceEUwbmggcGhcdTFFRDE6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICB9LCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gbnVsbCB8fCBzZWxlY3RlZFdhcmVob3VzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9zZWxlY3RlZFdhcmVob3VzZSRjaSA9IHNlbGVjdGVkV2FyZWhvdXNlLmNpdHkpID09PSBudWxsIHx8IF9zZWxlY3RlZFdhcmVob3VzZSRjaSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkV2FyZWhvdXNlJGNpLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgfSwgIlF1XHUxRUFEbiBodXlcdTFFQzduOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgfSwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IG51bGwgfHwgc2VsZWN0ZWRXYXJlaG91c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfc2VsZWN0ZWRXYXJlaG91c2UkZGkgPSBzZWxlY3RlZFdhcmVob3VzZS5kaXN0cmljdCkgPT09IG51bGwgfHwgX3NlbGVjdGVkV2FyZWhvdXNlJGRpID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWRXYXJlaG91c2UkZGkubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICB9LCAiWFx4RTMgcGhcdTAxQjBcdTFFRERuZzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgIH0sIHNlbGVjdGVkV2FyZWhvdXNlID09PSBudWxsIHx8IHNlbGVjdGVkV2FyZWhvdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3NlbGVjdGVkV2FyZWhvdXNlJHdhID0gc2VsZWN0ZWRXYXJlaG91c2Uud2FyZCkgPT09IG51bGwgfHwgX3NlbGVjdGVkV2FyZWhvdXNlJHdhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWRXYXJlaG91c2Ukd2EubmFtZSkpKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgIHNpemU6ICJzbSIsCiAgICAgIGNsYXNzTmFtZTogIm1sLTMgbWItMyIsCiAgICAgIG9uQ2xpY2s6IG9uQWRkUHJvZHVjdAogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogJ2NpbEFycm93Q2lyY2xlUmlnaHQnLAogICAgICBjbGFzc05hbWU6ICJtci0yIgogICAgfSksICJUaFx4RUFtIHNcdTFFQTNuIHBoXHUxRUE5bSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICBzdHJpcGVkOiB0cnVlCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGhlYWQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiU1x1MUVBM24gcGhcdTFFQTltIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJcdTAxMTBcdTAxQTFuIHZcdTFFQ0IiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIkR1bmcgdFx4RURjaCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiU1x1MUVEMSBsXHUwMUIwXHUxRUUzbmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlx1MDExMFx1MDFBMW4gZ2lceEUxIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJUaFx4RTBuaCB0aVx1MUVDMW4iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIkNoaVx1MUVCRnQga2hcdTFFQTV1IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJUaGFuaCB0b1x4RTFuIikpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRib2R5IiwgbnVsbCwgcHJvZHVjdExpc3QubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICB2YXIgX2l0ZW0kcHJvZHVjdCwgX2l0ZW0kcHJvZHVjdDIsIF9pdGVtJHByb2R1Y3QzLCBfaXRlbSRwcm9kdWN0NDsKCiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCB7CiAgICAgICAga2V5OiBpbmRleAogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdpZHRoOiAzMDAKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwgewogICAgICAgIHZhbHVlOiB7CiAgICAgICAgICB2YWx1ZTogKF9pdGVtJHByb2R1Y3QgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QuaWQsCiAgICAgICAgICBsYWJlbDogKF9pdGVtJHByb2R1Y3QyID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDIubmFtZQogICAgICAgIH0sCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25TZWxlY3RlZFByb2R1Y3QoZXZlbnQsIGluZGV4KTsKICAgICAgICB9LAogICAgICAgIG1lbnVQb3J0YWxUYXJnZXQ6IGRvY3VtZW50LmJvZHksCiAgICAgICAgb3B0aW9uczogcHJvZHVjdEluV2FyZWhvdXNlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHZhciBfaXRlbSRwcm9kdWN0JHByb2R1Y3Q7CgogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdmFsdWU6IGl0ZW0ucHJvZHVjdC5pZCwKICAgICAgICAgICAgbGFiZWw6ICIiLmNvbmNhdCgoX2l0ZW0kcHJvZHVjdCRwcm9kdWN0ID0gaXRlbS5wcm9kdWN0LnByb2R1Y3RCcmFuZCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdCRwcm9kdWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0JHByb2R1Y3QubmFtZSwgIi0iKS5jb25jYXQoaXRlbS5wcm9kdWN0Lm5hbWUsICItIikuY29uY2F0KGl0ZW0ucHJvZHVjdC52b2x1bWUpCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKF9pdGVtJHByb2R1Y3QzID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDMudW5pdCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIChfaXRlbSRwcm9kdWN0NCA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3Q0LnZvbHVtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgd2lkdGg6IDEwMAogICAgICAgIH0KICAgICAgfSwgaXRlbS5mb2xsb3dJbmRleCA+PSAwID8gaXRlbS5xdWFudGl0eSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgIG1pbjogMSwKICAgICAgICBuYW1lOiAiY29kZSIsCiAgICAgICAgaWQ6ICJjb2RlIiwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBvbkNoYW5nZVF1YW50aXR5KGV2ZW50LCBpbmRleCk7CiAgICAgICAgfSwKICAgICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgICAgdmFsdWU6IGl0ZW0ucXVhbnRpdHkKICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNYXNrZWRJbnB1dCwgewogICAgICAgIG1hc2s6IGN1cnJlbmN5TWFzaywKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBvbkNoYW5nZVByaWNlKGV2ZW50LCBpbmRleCk7CiAgICAgICAgfSwKICAgICAgICB2YWx1ZTogdHlwZW9mIHByb2R1Y3RMaXN0W2luZGV4XS5wcmljZVJlYWwgIT09ICdudW1iZXInID8gbmV3IEludGwuTnVtYmVyRm9ybWF0KCd2aS1WTicsIHsKICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgfSkuZm9ybWF0KHByb2R1Y3RMaXN0W2luZGV4XS5wcmljZVJlYWwpIDogcHJvZHVjdExpc3RbaW5kZXhdLnByaWNlUmVhbCwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyZWYsIHByb3BzKSB7CiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCBfZXh0ZW5kcyh7CiAgICAgICAgICAgIGlubmVyUmVmOiByZWYKICAgICAgICAgIH0sIHByb3BzKSk7CiAgICAgICAgfQogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIChpdGVtLnByaWNlUmVhbCAqIGl0ZW0ucXVhbnRpdHkpLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICBjdXJyZW5jeTogJ1ZORCcKICAgICAgfSkgfHwgJycpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHdpZHRoOiAxMDAKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgIG5hbWU6ICJjb2RlIiwKICAgICAgICBpZDogImNvZGUiLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlUmVkdWNlUGVyY2VudChldmVudCwgaW5kZXgpOwogICAgICAgIH0sCiAgICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICAgIHZhbHVlOiBpdGVtLnJlZHVjZVBlcmNlbnQKICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoaXRlbS5wcmljZVJlYWwgKiBpdGVtLnF1YW50aXR5IC0gaXRlbS5wcmljZVJlYWwgKiBpdGVtLnF1YW50aXR5ICogaXRlbS5yZWR1Y2VQZXJjZW50IC8gMTAwKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgIH0pIHx8ICcnKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aWR0aDogMTAwCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICBjbGFzc05hbWU6ICJtci0zIiwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIG9uUmVtb3ZlUHJvZHVjdChpbmRleCk7CiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgIG5hbWU6ICJjaWxYQ2lyY2xlIgogICAgICB9KSkpKTsKICAgIH0pKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZFRpdGxlLCBudWxsLCAiVGhceEY0bmcgdGluIGtoXHhFMWMiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjQiLAogICAgICBzbTogIjUiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIlx1MDExMFx1MUVDQmEgY2hcdTFFQzkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1RleHRhcmVhLCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogImFkZHJlc3MiLAogICAgICBpZDogImFkZHJlc3MiLAogICAgICBwbGFjZWhvbGRlcjogIlx1MDExMFx1MUVDQmEgY2hcdTFFQzkiLAogICAgICBhdXRvQ29tcGxldGU6ICJhZGRyZXNzIiwKICAgICAgdmFsaWQ6IGVycm9ycy5hZGRyZXNzIHx8IG51bGwsCiAgICAgIGludmFsaWQ6IHRvdWNoZWQuYWRkcmVzcyAmJiAhIWVycm9ycy5hZGRyZXNzLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuYWRkcmVzcyB8fCAoc2VsZWN0ZWRDdXN0b21lciA9PT0gbnVsbCB8fCBzZWxlY3RlZEN1c3RvbWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3RlZEN1c3RvbWVyLmFkZHJlc3MpCiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAidXNlck5hbWUiCiAgICB9LCAiR2hpIGNoXHhGQSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDVGV4dGFyZWEsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAibm90ZSIsCiAgICAgIGlkOiAibm90ZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiZ2hpIGNoXHhGQSIsCiAgICAgIGF1dG9Db21wbGV0ZTogIm5vdGUiLAogICAgICB2YWxpZDogZXJyb3JzLm5vdGUgfHwgbnVsbCwKICAgICAgaW52YWxpZDogdG91Y2hlZC5ub3RlICYmICEhZXJyb3JzLm5vdGUsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5ub3RlCiAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNCIsCiAgICAgIHNtOiAiNSIsCiAgICAgIGNsYXNzTmFtZTogIm1sLWF1dG8iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICBjbGFzc05hbWU6ICJ0YWJsZS1jbGVhciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiVFx1MUVENW5nIHNcdTFFRDEgbFx1MDFCMFx1MUVFM25nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgfSwgcHJvZHVjdExpc3QucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGN1cnJlbnQpIHsKICAgICAgcmV0dXJuIHN1bSArIE51bWJlcihjdXJyZW50LnF1YW50aXR5KTsKICAgIH0sIDApIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiVFx1MUVENW5nIHRpXHUxRUMxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgIH0sIHByb2R1Y3RMaXN0LnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50KSB7CiAgICAgIHJldHVybiBzdW0gKyBjdXJyZW50LnByaWNlUmVhbCAqIGN1cnJlbnQucXVhbnRpdHk7CiAgICB9LCAwKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICBjdXJyZW5jeTogJ1ZORCcKICAgIH0pIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiQ2hpXHUxRUJGdCBraFx1MUVBNXUiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICB9LCBwcm9kdWN0TGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY3VycmVudCkgewogICAgICByZXR1cm4gc3VtICsgY3VycmVudC5wcmljZVJlYWwgKiBjdXJyZW50LnF1YW50aXR5ICogY3VycmVudC5yZWR1Y2VQZXJjZW50IC8gMTAwOwogICAgfSwgMCkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICB9KSB8fCAnJykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIlRpXHUxRUMxbiB0aGFuaCB0b1x4RTFuIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIHByb2R1Y3RMaXN0LnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50KSB7CiAgICAgIHJldHVybiBzdW0gKyAoY3VycmVudC5wcmljZVJlYWwgKiBjdXJyZW50LnF1YW50aXR5IC0gY3VycmVudC5wcmljZVJlYWwgKiBjdXJyZW50LnF1YW50aXR5ICogY3VycmVudC5yZWR1Y2VQZXJjZW50IC8gMTAwKTsKICAgIH0sIDApLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgfSkgfHwgJycpKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICBjbGFzc05hbWU6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNsYXNzTmFtZTogImJ0biBidG4tc3VjY2VzcyIKICAgIH0sICdUaeG6v3AgdOG7pWMnLCAiICIsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWxBcnJvd1JpZ2h0IgogICAgfSkpKSkpKSkpOwogIH0pKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEVkaXRPcmRlcjs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/EditOrder.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CCollapse","CCardTitle","CLabel","CInput","CRow","CFormGroup","CTextarea","CIcon","Form","Formik","Yup","useDispatch","useSelector","creatingOrder","getDetailOrder","getOrderDetail","updateOrder","Toaster","useHistory","fetching","globalizedOrdersSelectors","Select","currencyMask","MaskedInput","globalizedPromotionSelectors","getDetailProductPromotion","getPromotion","getPromotionProduct","globalizedWarehouseSelectors","getWarehouse","globalizedProductWarehouseSelectors","getProductWarehouse","FormFeedback","Table","OrderStatus","validationSchema","values","object","shape","customer","required","nullable","promotion","validate","getValidationSchema","validateSync","abortEarly","error","getErrorsFromValidationError","validationError","FIRST_ERROR","inner","reduce","errors","path","findFirstError","formName","hasError","form","document","forms","i","length","name","focus","validateForm","fieldName","Boolean","mappingType","SHORTTERM","LONGTERM","EditOrder","props","state","order","initialState","promotionState","initialValues","orderDetails","code","note","address","status","WAITING","toastRef","dispatch","history","selectAllPromotion","selectAll","selectAllWarehouse","selectAllProductInWarehouse","selectById","promotions","productInWarehouses","match","params","id","warehouses","selectedCustomer","setSelectedCustomer","selectedPromotion","setSelectedPromotion","selectedWarehouse","setSelectedWarehouse","productList","setProductList","initValuesState","setInitValuesState","isSelectedWarehouse","setIsSelectedWarehouse","showProductPromotion","setShowProductPromotion","isLock","Array","isArray","store","onSubmit","setSubmitting","setErrors","JSON","parse","stringify","onSelectPromotion","value","arr","filter","onSelectedProduct","index","product","copyArr","priceReal","Number","price","onChangeQuantity","target","onAddProduct","data","quantity","reducePercent","priceTotal","promotionProducts","founded","item","buy","ratio","gift","Math","floor","existExtraProductIndex","findIndex","followIndex","extraProduct","splice","onChangePrice","replace","onChangeReducePercent","onSelectWarehouse","onRemoveProduct","console","log","updatingSuccess","current","addToast","goBack","touched","dirty","handleChange","handleBlur","handleSubmit","setFieldValue","isSubmitting","isValid","handleReset","setTouched","tel","branch","city","district","type","label","map","startTime","endTime","ward","width","event","body","productBrand","volume","unit","Intl","NumberFormat","style","currency","format","ref","toLocaleString","sum"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CCollapse,\n  CCardTitle,\n  CLabel,\n  CInput,\n  CRow,\n  CFormGroup,\n  CTextarea\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { Form, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { creatingOrder, getDetailOrder, getOrderDetail, updateOrder } from './order.api';\nimport Toaster from '../../../components/notifications/toaster/Toaster';\nimport { useHistory } from 'react-router-dom';\nimport { fetching, globalizedOrdersSelectors } from './order.reducer';\nimport Select from 'react-select';\nimport { currencyMask } from '../../../components/currency-input/currency-input';\nimport MaskedInput from 'react-text-mask';\nimport { globalizedPromotionSelectors } from '../Promotion/promotion.reducer';\nimport { getDetailProductPromotion, getPromotion, getPromotionProduct } from '../Promotion/promotion.api';\nimport { globalizedWarehouseSelectors } from '../../warehouse/Warehouse/warehouse.reducer';\nimport { getWarehouse } from '../../warehouse/Warehouse/warehouse.api';\nimport { globalizedProductWarehouseSelectors } from '../../warehouse/Product/product-warehouse.reducer';\nimport { getProductWarehouse } from '../../warehouse/Product/product-warehouse.api';\nimport { FormFeedback, Table } from 'reactstrap';\nimport { OrderStatus } from './order-status';\n\nconst validationSchema = function(values) {\n  return Yup.object().shape({\n    customer: Yup.object()\n      .required('Khách hàng  không để trống')\n      .nullable(),\n    promotion: Yup.object()\n      .required('Chương trình bán hàng không để trống')\n      .nullable()\n  });\n};\n\nconst validate = getValidationSchema => {\n  return values => {\n    const validationSchema = getValidationSchema(values);\n    try {\n      validationSchema.validateSync(values, { abortEarly: false });\n      return {};\n    } catch (error) {\n      return getErrorsFromValidationError(error);\n    }\n  };\n};\n\nconst getErrorsFromValidationError = validationError => {\n  const FIRST_ERROR = 0;\n  return validationError.inner.reduce((errors, error) => {\n    return {\n      ...errors,\n      [error.path]: error.errors[FIRST_ERROR]\n    };\n  }, {});\n};\n\nconst findFirstError = (formName, hasError) => {\n  const form = document.forms[formName];\n  for (let i = 0; i < form.length; i++) {\n    if (hasError(form[i].name)) {\n      form[i].focus();\n      break;\n    }\n  }\n};\n\nconst validateForm = errors => {\n  findFirstError('simpleForm', fieldName => {\n    return Boolean(errors[fieldName]);\n  });\n};\nconst mappingType = {\n  SHORTTERM: 'Ngắn hạn',\n  LONGTERM: 'Dài hạn'\n};\n\nconst EditOrder = props => {\n  const { initialState } = useSelector(state => state.order);\n  const { initialState: promotionState } = useSelector(state => state.promotion);\n\n  const initialValues = {\n    customer: null,\n    promotion: null,\n    orderDetails: [],\n    code: '',\n    note: '',\n    address: '',\n    status: OrderStatus.WAITING\n  };\n  const toastRef = useRef();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { selectAll: selectAllPromotion } = globalizedPromotionSelectors;\n  const { selectAll: selectAllWarehouse } = globalizedWarehouseSelectors;\n  const { selectAll: selectAllProductInWarehouse } = globalizedProductWarehouseSelectors;\n  const { selectById } = globalizedOrdersSelectors;\n\n  const promotions = useSelector(selectAllPromotion);\n  const productInWarehouses = useSelector(selectAllProductInWarehouse);\n  const order = useSelector(state => selectById(state, props.match.params.id));\n  const warehouses = useSelector(selectAllWarehouse);\n\n  const [selectedCustomer, setSelectedCustomer] = useState(null);\n  const [selectedPromotion, setSelectedPromotion] = useState(null);\n  const [selectedWarehouse, setSelectedWarehouse] = useState(null);\n  const [productList, setProductList] = useState([]);\n  const [initValuesState, setInitValuesState] = useState(null);\n  const [isSelectedWarehouse, setIsSelectedWarehouse] = useState(true);\n  const [showProductPromotion, setShowProductPromotion] = useState(false);\n\n  useEffect(() => {\n    dispatch(getPromotion({ isLock: 0 }));\n    dispatch(getDetailOrder(props.match.params.id));\n    dispatch(getWarehouse());\n  }, []);\n\n  useEffect(() => {\n    if (order) {\n      setInitValuesState(order);\n      dispatch(getDetailProductPromotion({ promotion: order.promotion.id }));\n      dispatch(getOrderDetail(props.match.params.id));\n    }\n  }, [order]);\n\n  useEffect(() => {\n    if (Array.isArray(initialState.orderDetails)) {\n      setProductList(initialState.orderDetails);\n      if (initialState.orderDetails.length > 0) {\n        setSelectedWarehouse(initialState.orderDetails[0].store);\n        dispatch(getProductWarehouse({ store: initialState.orderDetails[0].store.id }));\n      }\n    }\n  }, [initialState.orderDetails]);\n\n  const onSubmit = (values, { setSubmitting, setErrors }) => {\n    values = JSON.parse(JSON.stringify(values));\n    if (!values.address) values.address = selectedCustomer.address;\n    if (selectedPromotion) {\n      values.promotion = selectedPromotion;\n    }\n    values.orderDetails = productList;\n    dispatch(updateOrder(values));\n  };\n\n  const onSelectPromotion = ({ value }) => {\n    const arr = promotions.filter(customer => customer.id === value);\n    if (arr.length === 1) {\n      setSelectedPromotion(arr[0]);\n    }\n  };\n\n  const onSelectedProduct = ({ value }, index) => {\n    const arr = productInWarehouses.filter(product => product.product.id === value);\n    if (arr.length === 1) {\n      const copyArr = [...productList];\n      copyArr[index].priceReal = Number(arr[0].product.price);\n      copyArr[index].product = arr[0].product;\n      setProductList(copyArr);\n      onChangeQuantity({ target: { value: 1 } }, index);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedPromotion?.id) {\n      dispatch(getDetailProductPromotion({ promotion: selectedPromotion.id }));\n    }\n  }, [selectedPromotion]);\n\n  useEffect(() => {\n    if (selectedWarehouse?.id) {\n      dispatch(getProductWarehouse({ store: selectedWarehouse?.id }));\n    }\n  }, [selectedWarehouse]);\n\n  const onAddProduct = () => {\n    if (selectedWarehouse?.id) {\n      const data = { product: {}, quantity: 1, reducePercent: 0, store: { id: selectedWarehouse.id } };\n      setProductList([...productList, data]);\n    } else {\n      setIsSelectedWarehouse(false);\n    }\n  };\n\n  const onChangeQuantity = ({ target }, index) => {\n    const copyArr = [...productList];\n    copyArr[index].quantity = target.value;\n    copyArr[index].priceTotal = copyArr[index].quantity * copyArr[index].priceReal;\n    if (Array.isArray(promotionState.promotionProducts)) {\n      const founded = promotionState.promotionProducts.filter(item => item.product.id === copyArr[index].product.id);\n      if (founded.length > 0) {\n        if (target.value >= founded[0].buy) {\n          const ratio = founded[0].gift / founded[0].buy;\n          const gift = Math.floor(target.value * ratio);\n          const existExtraProductIndex = copyArr.findIndex(item => item.followIndex === index);\n          if (existExtraProductIndex != -1) {\n            copyArr[existExtraProductIndex].quantity = gift;\n          } else {\n            const extraProduct = {\n              product: copyArr[index].product,\n              quantity: gift,\n              reducePercent: 100,\n              priceReal: copyArr[index].product.price,\n              store: { id: selectedWarehouse.id },\n              followIndex: index\n            };\n            copyArr.splice(index + 1, 0, extraProduct);\n          }\n        }\n      }\n    }\n    setProductList(copyArr);\n  };\n\n  const onChangePrice = ({ target }, index) => {\n    const copyArr = JSON.parse(JSON.stringify(productList));\n    copyArr[index].priceReal = Number(target.value.replace(/\\D/g, ''));\n    copyArr[index].priceTotal = copyArr[index].quantity * copyArr[index].priceReal;\n    setProductList(copyArr);\n  };\n\n  const onChangeReducePercent = ({ target }, index) => {\n    const copyArr = [...productList];\n    copyArr[index].reducePercent = target.value;\n    copyArr[index].priceTotal =\n      copyArr[index].priceReal * copyArr[index].quantity -\n      (copyArr[index].priceReal * copyArr[index].quantity * copyArr[index].reducePercent) / 100;\n\n    setProductList(copyArr);\n  };\n\n  const onSelectWarehouse = ({ value }) => {\n    const arr = warehouses.filter(customer => customer.id === value);\n    if (arr.length === 1) {\n      setSelectedWarehouse(arr[0]);\n      setIsSelectedWarehouse(true);\n    }\n  };\n\n  const onRemoveProduct = index => {\n    const copyArr = [...productList];\n    copyArr.splice(index, 1);\n    setProductList(copyArr);\n  };\n\n  useEffect(() => {\n    console.log(promotionState);\n  }, [promotionState]);\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      toastRef.current.addToast();\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  return (\n    <CCard>\n      <Toaster ref={toastRef} message=\"Tạo mới khách hàng thành công\" />\n      <Formik initialValues={initValuesState || initialValues} enableReinitialize validate={validate(validationSchema)} onSubmit={onSubmit}>\n        {({\n          values,\n          errors,\n          touched,\n          status,\n          dirty,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          setFieldValue,\n          isSubmitting,\n          isValid,\n          handleReset,\n          setTouched\n        }) => {\n          console.log(errors);\n          return (\n            <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n              <CCol xs=\"12\" sm=\"6\" md=\"12\">\n                <CCard className=\"card-accent-primary\">\n                  <CCardHeader>\n                    <CCardTitle>Thông tin khách hàng</CCardTitle>\n                  </CCardHeader>\n\n                  <CCardBody>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Mã khách hàng:</dt>\n                          <dd className=\"col-sm-9\">{values.customer?.code}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Họ tên:</dt>\n                          <dd className=\"col-sm-9\">{values.customer?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                          <dd className=\"col-sm-9\">{values.customer?.tel}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Chi nhánh:</dt>\n                          <dd className=\"col-sm-9\">{values.customer?.branch?.name}</dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                          <dd className=\"col-sm-9\">{values.customer?.address}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Thành phố:</dt>\n                          <dd className=\"col-sm-9\">{values.customer?.city?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Quận huyện:</dt>\n                          <dd className=\"col-sm-9\">{values.customer?.district?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Loại khách hàng: </dt>\n                          <dd className=\"col-sm-9\">{values.customer?.type?.name}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCard>\n              </CCol>\n              <CCol xs=\"12\" sm=\"6\" md=\"12\">\n                <CCard className=\"card-accent-info\">\n                  <CCardHeader>\n                    <CCardTitle>Chương trình khuyến mại</CCardTitle>\n                  </CCardHeader>\n                  <CCardBody>\n                    <CFormGroup>\n                      <CRow className=\"mb-3\">\n                        <CCol sm={4}>\n                          <CLabel htmlFor=\"lastName\">Chọn chương trình bán hàng</CLabel>\n                          <Select\n                            onChange={item => {\n                              setFieldValue('promotion', { id: item.value, name: item.label });\n                              onSelectPromotion(item);\n                            }}\n                            value={{\n                              value: values.promotion?.id,\n                              label: values.promotion?.name\n                            }}\n                            name=\"promotion\"\n                            options={promotions.map(item => ({\n                              value: item.id,\n                              label: `${item.name}`\n                            }))}\n                          />\n                        </CCol>\n                      </CRow>\n                      <FormFeedback className=\"d-block\">{errors.promotion}</FormFeedback>\n                    </CFormGroup>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên chương trình:</dt>\n                          <dd className=\"col-sm-9\">{selectedPromotion?.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Ngày bắt đầu:</dt>\n                          <dd className=\"col-sm-9\">{selectedPromotion?.startTime}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Sản phẩm áp dụng</dt>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Ngày kết thúc:</dt>\n                          <dd className=\"col-sm-9\">{selectedPromotion?.endTime}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Loại chương trình:</dt>\n                          <dd className=\"col-sm-9\">{mappingType[selectedPromotion?.type]}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                    <CButton\n                      color=\"primary\"\n                      variant=\"outline\"\n                      shape=\"square\"\n                      size=\"sm\"\n                      onClick={() => {\n                        setShowProductPromotion(!showProductPromotion);\n                      }}\n                    >\n                      <CIcon name=\"cilZoom\" /> Xem sản phẩm áp dụng\n                    </CButton>\n                    <CCollapse show={showProductPromotion}>\n                      <CCardBody>\n                        <h5>Thông tin sản phẩm khuyến mại</h5>\n                        <CRow>\n                          <CCol lg=\"6\">\n                            {Array.isArray(promotionState.promotionProducts) &&\n                              promotionState.promotionProducts.map((item, index) => (\n                                <dl className=\"row\">\n                                  <dt className=\"col-sm-4\">{`${item.product.name}`}</dt>\n                                  <dd className=\"col-sm-8\">{`Mua ${item.buy} Tặng ${item.gift}`}</dd>\n                                </dl>\n                              ))}\n                          </CCol>\n                        </CRow>\n                      </CCardBody>\n                    </CCollapse>\n                  </CCardBody>\n                </CCard>\n              </CCol>\n              {productList.length === 0 && (\n                <CCol xs=\"12\" sm=\"6\" md=\"12\">\n                  <CCard className=\"card-accent-info\">\n                    <CCardHeader>\n                      <CCardTitle>Kho hàng</CCardTitle>\n                    </CCardHeader>\n                    <CCardBody>\n                      <CRow className=\"mb-3\">\n                        <CCol sm={4}>\n                          <CLabel htmlFor=\"lastName\">Chọn Kho</CLabel>\n                          <Select\n                            onChange={item => {\n                              setFieldValue('store', item.value);\n                              onSelectWarehouse(item.value);\n                            }}\n                            value={{\n                              value: values.store,\n                              label: values.store?.name\n                            }}\n                            options={warehouses.map(item => ({\n                              value: item,\n                              label: `${item.name}`\n                            }))}\n                          />\n                          {!isSelectedWarehouse && <FormFeedback className=\"d-block\">Bạn phải chọn kho hàng</FormFeedback>}\n                        </CCol>\n                      </CRow>\n                      <CRow>\n                        <CCol lg=\"6\">\n                          <dl className=\"row\">\n                            <dt className=\"col-sm-3\">Tên kho:</dt>\n                            <dd className=\"col-sm-9\">{selectedWarehouse?.name}</dd>\n                          </dl>\n                          <dl className=\"row\">\n                            <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                            <dd className=\"col-sm-9\">{selectedWarehouse?.tel}</dd>\n                          </dl>\n                          <dl className=\"row\">\n                            <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                            <dd className=\"col-sm-9\">{selectedWarehouse?.address}</dd>\n                          </dl>\n                        </CCol>\n                        <CCol lg=\"6\">\n                          <dl className=\"row\">\n                            <dt className=\"col-sm-3\">Thành phố:</dt>\n                            <dd className=\"col-sm-9\">{selectedWarehouse?.city?.name}</dd>\n                          </dl>\n                          <dl className=\"row\">\n                            <dt className=\"col-sm-3\">Quận huyện:</dt>\n                            <dd className=\"col-sm-9\">{selectedWarehouse?.district?.name}</dd>\n                          </dl>\n                          <dl className=\"row\">\n                            <dt className=\"col-sm-3\">Xã phường:</dt>\n                            <dd className=\"col-sm-9\">{selectedWarehouse?.ward?.name}</dd>\n                          </dl>\n                        </CCol>\n                      </CRow>\n                    </CCardBody>\n                  </CCard>\n                </CCol>\n              )}\n\n              <CButton color=\"primary\" variant=\"outline\" shape=\"square\" size=\"sm\" className=\"ml-3 mb-3\" onClick={onAddProduct}>\n                <CIcon name={'cilArrowCircleRight'} className=\"mr-2\" />\n                Thêm sản phẩm\n              </CButton>\n              <CCard>\n                <CCardBody>\n                  <Table responsive striped>\n                    <thead>\n                      <tr>\n                        <th>Sản phẩm</th>\n                        <th>Đơn vị</th>\n                        <th>Dung tích</th>\n                        <th>Số lượng</th>\n                        <th>Đơn giá</th>\n                        <th>Thành tiền</th>\n                        <th>Chiết khấu</th>\n                        <th>Thanh toán</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {productList.map((item, index) => {\n                        return (\n                          <tr key={index}>\n                            <td style={{ width: 300 }}>\n                              <Select\n                                value={{\n                                  value: item.product?.id,\n                                  label: item.product?.name\n                                }}\n                                onChange={event => onSelectedProduct(event, index)}\n                                menuPortalTarget={document.body}\n                                options={productInWarehouses.map(item => ({\n                                  value: item.product.id,\n                                  label: `${item.product.productBrand?.name}-${item.product.name}-${item.product.volume}`\n                                }))}\n                              />\n                            </td>\n                            <td>{item.product?.unit}</td>\n                            <td>{item.product?.volume}</td>\n                            <td style={{ width: 100 }}>\n                              {item.followIndex >= 0 ? (\n                                item.quantity\n                              ) : (\n                                <CInput\n                                  type=\"number\"\n                                  min={1}\n                                  name=\"code\"\n                                  id=\"code\"\n                                  onChange={event => onChangeQuantity(event, index)}\n                                  onBlur={handleBlur}\n                                  value={item.quantity}\n                                />\n                              )}\n                            </td>\n                            <td>\n                              {\n                                <MaskedInput\n                                  mask={currencyMask}\n                                  onChange={event => onChangePrice(event, index)}\n                                  value={\n                                    typeof productList[index].priceReal !== 'number'\n                                      ? new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(\n                                          productList[index].priceReal\n                                        )\n                                      : productList[index].priceReal\n                                  }\n                                  render={(ref, props) => <CInput innerRef={ref} {...props} />}\n                                />\n                              }\n                            </td>\n                            <td>\n                              {(item.priceReal * item.quantity).toLocaleString('it-IT', {\n                                style: 'currency',\n                                currency: 'VND'\n                              }) || ''}\n                            </td>\n\n                            <td style={{ width: 100 }}>\n                              <CInput\n                                type=\"number\"\n                                name=\"code\"\n                                id=\"code\"\n                                onChange={event => onChangeReducePercent(event, index)}\n                                onBlur={handleBlur}\n                                value={item.reducePercent}\n                              />\n                            </td>\n                            <td>\n                              {(\n                                item.priceReal * item.quantity -\n                                (item.priceReal * item.quantity * item.reducePercent) / 100\n                              ).toLocaleString('it-IT', {\n                                style: 'currency',\n                                currency: 'VND'\n                              }) || ''}\n                            </td>\n                            <td style={{ width: 100 }}>\n                              <CButton\n                                color=\"danger\"\n                                variant=\"outline\"\n                                shape=\"square\"\n                                size=\"sm\"\n                                className=\"mr-3\"\n                                onClick={() => onRemoveProduct(index)}\n                              >\n                                <CIcon name=\"cilXCircle\" />\n                              </CButton>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </Table>\n                </CCardBody>\n              </CCard>\n              <CCard>\n                <CCardHeader>\n                  <CCardTitle>Thông tin khác</CCardTitle>\n                </CCardHeader>\n                <CCardBody>\n                  <CRow>\n                    <CCol lg=\"4\" sm=\"5\">\n                      <CFormGroup>\n                        <CLabel htmlFor=\"userName\">Địa chỉ</CLabel>\n                        <CTextarea\n                          type=\"text\"\n                          name=\"address\"\n                          id=\"address\"\n                          placeholder=\"Địa chỉ\"\n                          autoComplete=\"address\"\n                          valid={errors.address || null}\n                          invalid={touched.address && !!errors.address}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.address || selectedCustomer?.address}\n                        />\n                      </CFormGroup>\n                      <CFormGroup>\n                        <CLabel htmlFor=\"userName\">Ghi chú</CLabel>\n                        <CTextarea\n                          type=\"text\"\n                          name=\"note\"\n                          id=\"note\"\n                          placeholder=\"ghi chú\"\n                          autoComplete=\"note\"\n                          valid={errors.note || null}\n                          invalid={touched.note && !!errors.note}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.note}\n                        />\n                      </CFormGroup>\n                    </CCol>\n                    <CCol lg=\"4\" sm=\"5\" className=\"ml-auto\">\n                      <Table className=\"table-clear\">\n                        <tbody>\n                          <tr>\n                            <td className=\"left\">\n                              <strong>Tổng số lượng</strong>\n                            </td>\n                            <td className=\"right\">{productList.reduce((sum, current) => sum + Number(current.quantity), 0) || ''}</td>\n                          </tr>\n                          <tr>\n                            <td className=\"left\">\n                              <strong>Tổng tiền</strong>\n                            </td>\n                            <td className=\"right\">\n                              {productList\n                                .reduce((sum, current) => sum + current.priceReal * current.quantity, 0)\n                                .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                            </td>\n                          </tr>\n                          <tr>\n                            <td className=\"left\">\n                              <strong>Chiết khấu</strong>\n                            </td>\n                            <td className=\"right\">\n                              {productList\n                                .reduce((sum, current) => sum + (current.priceReal * current.quantity * current.reducePercent) / 100, 0)\n                                .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                            </td>\n                          </tr>\n                          <tr>\n                            <td className=\"left\">\n                              <strong>Tiền thanh toán</strong>\n                            </td>\n                            <td className=\"right\">\n                              <strong>\n                                {productList\n                                  .reduce(\n                                    (sum, current) =>\n                                      sum +\n                                      (current.priceReal * current.quantity -\n                                        (current.priceReal * current.quantity * current.reducePercent) / 100),\n                                    0\n                                  )\n                                  .toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                              </strong>\n                            </td>\n                          </tr>\n                        </tbody>\n                      </Table>\n                      <CFormGroup className=\"d-flex justify-content-center\">\n                        <CButton type=\"submit\" size=\"lg\" className=\"btn btn-success\">\n                          {'Tiếp tục'} <CIcon name=\"cilArrowRight\" />\n                        </CButton>\n                      </CFormGroup>\n                    </CCol>\n                  </CRow>\n                </CCardBody>\n              </CCard>\n            </CForm>\n          );\n        }}\n      </Formik>\n    </CCard>\n  );\n};\n\nexport default EditOrder;\n"]}]}