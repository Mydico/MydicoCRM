{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserPermission/edit-permission.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserPermission/edit-permission.js","mtime":1615478799111},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDQnV0dG9uLCBDQ2FyZCwgQ0NhcmRIZWFkZXIsIENDYXJkQm9keSwgQ0NvbCwgQ0Zvcm0sIENJbnZhbGlkRmVlZGJhY2ssIENGb3JtR3JvdXAsIENMYWJlbCwgQ0lucHV0LCBDUm93LCBDVG9hc3RlciwgQ0NhcmRUaXRsZSwgQ0lucHV0Q2hlY2tib3gsIENCdXR0b25Hcm91cCwgQ1RleHRhcmVhIH0gZnJvbSAnQGNvcmV1aS9yZWFjdCc7CmltcG9ydCBDSWNvbiBmcm9tICdAY29yZXVpL2ljb25zLXJlYWN0JzsKaW1wb3J0IHsgRm9ybWlrIH0gZnJvbSAnZm9ybWlrJzsKaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgY3JlYXRpbmdQZXJtaXNzaW9uR3JvdXBzLCBnZXREZXRhaWxQZXJtaXNzaW9uR3JvdXBzLCBnZXRQZXJtaXNzaW9ucywgZ2V0UGVybWlzc2lvblR5cGUsIHVwZGF0ZVBlcm1pc3Npb25Hcm91cHMgfSBmcm9tICcuL3Blcm1pc3Npb24uYXBpJzsKaW1wb3J0IFRvYXN0ZXIgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9ub3RpZmljYXRpb25zL3RvYXN0ZXIvVG9hc3Rlcic7CmltcG9ydCB7IGN1cnJlbnQgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBmZXRjaGluZywgZ2xvYmFsaXplZFBlcm1pc3Npb25Hcm91cHNTZWxlY3RvcnMsIHJlc2V0IH0gZnJvbSAnLi9wZXJtaXNzaW9uLnJlZHVjZXInOwppbXBvcnQgU2VsZWN0IGZyb20gJ3JlYWN0LXNlbGVjdCc7CmltcG9ydCB7IFRhYmxlIH0gZnJvbSAncmVhY3RzdHJhcCc7Cgp2YXIgdmFsaWRhdGlvblNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRpb25TY2hlbWEodmFsdWVzKSB7CiAgcmV0dXJuIFl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICBuYW1lOiBZdXAuc3RyaW5nKCkubWluKDUsICJUXHhFQW4gbmhceEYzbSBxdXlcdTFFQzFuIHBoXHUxRUEzaSBsXHUxRURCbiBoXHUwMUExbiA1IGtceEVEIHRcdTFFRjEiKS5yZXF1aXJlZCgnVMOqbiBuaMOzbSBxdXnhu4FuIGtow7RuZyDEkeG7gyB0cuG7kW5nJykKICB9KTsKfTsKCnZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKGdldFZhbGlkYXRpb25TY2hlbWEpIHsKICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlcykgewogICAgdmFyIHZhbGlkYXRpb25TY2hlbWEgPSBnZXRWYWxpZGF0aW9uU2NoZW1hKHZhbHVlcyk7CgogICAgdHJ5IHsKICAgICAgdmFsaWRhdGlvblNjaGVtYS52YWxpZGF0ZVN5bmModmFsdWVzLCB7CiAgICAgICAgYWJvcnRFYXJseTogZmFsc2UKICAgICAgfSk7CiAgICAgIHJldHVybiB7fTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIHJldHVybiBnZXRFcnJvcnNGcm9tVmFsaWRhdGlvbkVycm9yKGVycm9yKTsKICAgIH0KICB9Owp9OwoKZXhwb3J0IHZhciBtYXBwaW5nU3RhdHVzID0gewogIEFDVElWRTogJ8SQQU5HIEhP4bqgVCDEkOG7mE5HJywKICBJTkFDVElWRTogJ0tIw5RORyBIT+G6oFQgxJDhu5hORycsCiAgREVMRVRFRDogJ8SQw4MgWMOTQScKfTsKCnZhciBnZXRFcnJvcnNGcm9tVmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcih2YWxpZGF0aW9uRXJyb3IpIHsKICB2YXIgRklSU1RfRVJST1IgPSAwOwogIHJldHVybiB2YWxpZGF0aW9uRXJyb3IuaW5uZXIucmVkdWNlKGZ1bmN0aW9uIChlcnJvcnMsIGVycm9yKSB7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBlcnJvcnMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBlcnJvci5wYXRoLCBlcnJvci5lcnJvcnNbRklSU1RfRVJST1JdKSk7CiAgfSwge30pOwp9OwoKdmFyIGZpbmRGaXJzdEVycm9yID0gZnVuY3Rpb24gZmluZEZpcnN0RXJyb3IoZm9ybU5hbWUsIGhhc0Vycm9yKSB7CiAgdmFyIGZvcm0gPSBkb2N1bWVudC5mb3Jtc1tmb3JtTmFtZV07CgogIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybS5sZW5ndGg7IGkrKykgewogICAgaWYgKGhhc0Vycm9yKGZvcm1baV0ubmFtZSkpIHsKICAgICAgZm9ybVtpXS5mb2N1cygpOwogICAgICBicmVhazsKICAgIH0KICB9Cn07Cgp2YXIgdmFsaWRhdGVGb3JtID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGVycm9ycykgewogIGZpbmRGaXJzdEVycm9yKCdzaW1wbGVGb3JtJywgZnVuY3Rpb24gKGZpZWxkTmFtZSkgewogICAgcmV0dXJuIEJvb2xlYW4oZXJyb3JzW2ZpZWxkTmFtZV0pOwogIH0pOwp9OwoKdmFyIEVkaXRQZXJtaXNzaW9uR3JvdXBzID0gZnVuY3Rpb24gRWRpdFBlcm1pc3Npb25Hcm91cHMocHJvcHMpIHsKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucGVybWlzc2lvbjsKICB9KSwKICAgICAgaW5pdGlhbFN0YXRlID0gX3VzZVNlbGVjdG9yLmluaXRpYWxTdGF0ZTsKCiAgdmFyIGNoZWNrYm94UmVmID0gdXNlUmVmKCk7CiAgdmFyIHRvYXN0UmVmID0gdXNlUmVmKCk7CiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHt9KSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGNoZWNrYm94ID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0Q2hlY2tib3ggPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBzZWxlY3RlZFBlcm1pc3Npb24gPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRTZWxlY3RlZFBlcm1pc3Npb24gPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgc2VsZWN0QnlJZCA9IGdsb2JhbGl6ZWRQZXJtaXNzaW9uR3JvdXBzU2VsZWN0b3JzLnNlbGVjdEJ5SWQ7CiAgdmFyIHBlckdyb3VwID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc2VsZWN0QnlJZChzdGF0ZSwgcHJvcHMubWF0Y2gucGFyYW1zLmlkKTsKICB9KTsKCiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZShudWxsKSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBpbml0VmFsdWVzID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0SW5pdFZhbHVlcyA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBpbml0aWFsVmFsdWVzID0gewogICAgbmFtZTogJycsCiAgICBub3RlOiAnJwogIH07CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRpc3BhdGNoKGdldERldGFpbFBlcm1pc3Npb25Hcm91cHMocHJvcHMubWF0Y2gucGFyYW1zLmlkKSk7CiAgICBkaXNwYXRjaChnZXRQZXJtaXNzaW9uVHlwZSgpKTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIHNldEluaXRWYWx1ZXMocGVyR3JvdXApOwogICAgY29uc29sZS5sb2cocGVyR3JvdXApOwoKICAgIGlmIChwZXJHcm91cCAmJiBwZXJHcm91cC5wZXJtaXNzaW9uR3JvdXBBc3NvY2lhdGVzKSB7CiAgICAgIHZhciBncm91cCA9IHBlckdyb3VwLnBlcm1pc3Npb25Hcm91cEFzc29jaWF0ZXMucmVkdWNlKGZ1bmN0aW9uIChyLCBhKSB7CiAgICAgICAgclthLnR5cGVdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyW2EudHlwZV0gfHwgW10pLCBbYV0pOwogICAgICAgIHJldHVybiByOwogICAgICB9LCB7fSk7CiAgICAgIHZhciBkYXRhID0gT2JqZWN0LmtleXMoZ3JvdXApLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHR5cGU6IGtleSwKICAgICAgICAgIHR5cGVOYW1lOiBncm91cFtrZXldWzBdLnR5cGVOYW1lLAogICAgICAgICAgcGVybWlzc2lvbnM6IGdyb3VwW2tleV0KICAgICAgICB9OwogICAgICB9KTsKICAgICAgc2V0U2VsZWN0ZWRQZXJtaXNzaW9uKF90b0NvbnN1bWFibGVBcnJheShkYXRhKSk7CiAgICB9CiAgfSwgW3Blckdyb3VwXSk7CgogIHZhciBvbkdldFBlcm1pc3Npb24gPSBmdW5jdGlvbiBvbkdldFBlcm1pc3Npb24odmFsdWUpIHsKICAgIHZhciBwYXJhbXMgPSB7CiAgICAgIHR5cGU6IHZhbHVlCiAgICB9OwogICAgZGlzcGF0Y2goZ2V0UGVybWlzc2lvbnMocGFyYW1zKSk7CiAgfTsKCiAgdmFyIG9uU3VibWl0ID0gZnVuY3Rpb24gb25TdWJtaXQodmFsdWVzLCBfcmVmKSB7CiAgICB2YXIgc2V0U3VibWl0dGluZyA9IF9yZWYuc2V0U3VibWl0dGluZywKICAgICAgICBzZXRFcnJvcnMgPSBfcmVmLnNldEVycm9ycywKICAgICAgICBzZXRTdGF0dXMgPSBfcmVmLnNldFN0YXR1cywKICAgICAgICByZXNldEZvcm0gPSBfcmVmLnJlc2V0Rm9ybTsKICAgIHZhciBhcnJQZXJtaXNzaW9uID0gW107CiAgICB2YWx1ZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlcykpOwogICAgc2VsZWN0ZWRQZXJtaXNzaW9uLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdFBlcikgewogICAgICBpZiAoc2VsZWN0UGVyLnBlcm1pc3Npb25zKSB7CiAgICAgICAgYXJyUGVybWlzc2lvbiA9IGFyclBlcm1pc3Npb24uY29uY2F0KHNlbGVjdFBlci5wZXJtaXNzaW9ucyk7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKGFyclBlcm1pc3Npb24ubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICBpZiAoc2VsZWN0ZWRQZXJtaXNzaW9uLm1hcChmdW5jdGlvbiAocGVybWlzc2lvbikgewogICAgICByZXR1cm4gcGVybWlzc2lvbi5wZXJtaXNzaW9uczsKICAgIH0pLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VycmVudCkgewogICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcmV2KSwgX3RvQ29uc3VtYWJsZUFycmF5KGN1cnJlbnQpKTsKICAgIH0sIFtdKS5sZW5ndGggPT09IDApIHJldHVybjsKICAgIHZhbHVlcy5wZXJtaXNzaW9ucyA9IGFyclBlcm1pc3Npb247CiAgICBkaXNwYXRjaChmZXRjaGluZygpKTsKICAgIGRpc3BhdGNoKHVwZGF0ZVBlcm1pc3Npb25Hcm91cHModmFsdWVzKSk7CiAgICByZXNldEZvcm0oKTsKICB9OwoKICB2YXIgb25DaGVjayA9IGZ1bmN0aW9uIG9uQ2hlY2soc2V0Q2hlY2tib3hGdW5jLCBjaGVja2JveFZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgZS5wZXJzaXN0KCk7CiAgICAgIHNldENoZWNrYm94RnVuYyhmdW5jdGlvbiAocHJldlN0YXRlKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJldlN0YXRlKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgZS50YXJnZXQudmFsdWUsICFjaGVja2JveFZhbHVlW2UudGFyZ2V0LnZhbHVlXSkpOwogICAgICB9KTsKICAgIH07CiAgfTsKCiAgdmFyIG9uU2VsZWN0QWxsID0gZnVuY3Rpb24gb25TZWxlY3RBbGwoY2hlY2tlZFZhbHVlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29weUNoZWNrYm94ID0gX29iamVjdFNwcmVhZCh7fSwgY2hlY2tib3gpOwoKICAgICAgT2JqZWN0LmtleXMoY29weUNoZWNrYm94KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBjb3B5Q2hlY2tib3hba2V5XSA9IGNoZWNrZWRWYWx1ZTsKICAgICAgfSk7CiAgICAgIHNldENoZWNrYm94KGNvcHlDaGVja2JveCk7CgogICAgICBpZiAoY2hlY2tib3hSZWYuY3VycmVudCkgewogICAgICAgIGNoZWNrYm94UmVmLmN1cnJlbnQuY2hlY2tlZCA9IGNoZWNrZWRWYWx1ZTsKICAgICAgfQogICAgfTsKICB9OwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGNoZWNrYm94ICYmIGluaXRpYWxTdGF0ZS5wZXJtaXNzaW9ucyAmJiBBcnJheS5pc0FycmF5KGluaXRpYWxTdGF0ZS5wZXJtaXNzaW9ucykgJiYgaW5pdGlhbFN0YXRlLnBlcm1pc3Npb25zLmxlbmd0aCA+IDApIHsKICAgICAgdmFyIHNlbGVjdGVkQXJyID0gW107CiAgICAgIE9iamVjdC5rZXlzKGNoZWNrYm94KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoY2hlY2tib3hba2V5XSkgewogICAgICAgICAgc2VsZWN0ZWRBcnIucHVzaChrZXkpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGhhbmRsZVNlbGVjdFBlcm1pc3Npb24obnVsbCwgc2VsZWN0ZWRBcnIpOwogICAgfQogIH0sIFtjaGVja2JveF0pOwoKICB2YXIgcmVtb3ZlUGVybWlzc2lvbiA9IGZ1bmN0aW9uIHJlbW92ZVBlcm1pc3Npb24oaW5kZXgpIHsKICAgIHZhciBhcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkoc2VsZWN0ZWRQZXJtaXNzaW9uKTsKCiAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgIHNldFNlbGVjdGVkUGVybWlzc2lvbihhcnIpOwogIH07CgogIHZhciBoYW5kbGVTZWxlY3RQZXJtaXNzaW9uID0gZnVuY3Rpb24gaGFuZGxlU2VsZWN0UGVybWlzc2lvbihlLCB2YWx1ZXMpIHsKICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi8KICAgIGlmICh2YWx1ZXMgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7CiAgICAgIHZhciB0eXBlID0gaW5pdGlhbFN0YXRlLnBlcm1pc3Npb25zWzBdLnR5cGU7CiAgICAgIHZhciB0eXBlTmFtZSA9IGluaXRpYWxTdGF0ZS5wZXJtaXNzaW9uc1swXS50eXBlTmFtZTsKICAgICAgdmFyIGZvdW5kZWRJbmRleCA9IHNlbGVjdGVkUGVybWlzc2lvbi5maW5kSW5kZXgoZnVuY3Rpb24gKHBlcikgewogICAgICAgIHJldHVybiBwZXIudHlwZSA9PT0gdHlwZTsKICAgICAgfSk7CgogICAgICBpZiAoZm91bmRlZEluZGV4ID4gLTEpIHsKICAgICAgICBzZWxlY3RlZFBlcm1pc3Npb25bZm91bmRlZEluZGV4XS5wZXJtaXNzaW9ucyA9IGluaXRpYWxTdGF0ZS5wZXJtaXNzaW9ucy5maWx0ZXIoZnVuY3Rpb24gKHBlcm1pc3Npb24pIHsKICAgICAgICAgIHJldHVybiB2YWx1ZXMuaW5jbHVkZXMocGVybWlzc2lvbi5pZCk7CiAgICAgICAgfSk7CiAgICAgICAgc2V0U2VsZWN0ZWRQZXJtaXNzaW9uKF90b0NvbnN1bWFibGVBcnJheShzZWxlY3RlZFBlcm1pc3Npb24pKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgc2VsZWN0ZWRQZXJtaXNzaW9uT2JqID0gewogICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgIHR5cGVOYW1lOiB0eXBlTmFtZSwKICAgICAgICAgIHBlcm1pc3Npb25zOiBpbml0aWFsU3RhdGUucGVybWlzc2lvbnMuZmlsdGVyKGZ1bmN0aW9uIChwZXJtaXNzaW9uKSB7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuaW5jbHVkZXMocGVybWlzc2lvbi5pZCk7CiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgc2V0U2VsZWN0ZWRQZXJtaXNzaW9uKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2VsZWN0ZWRQZXJtaXNzaW9uKSwgW3NlbGVjdGVkUGVybWlzc2lvbk9ial0pKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh2YWx1ZXMgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPT0gMCkgewogICAgICBzZXRTZWxlY3RlZFBlcm1pc3Npb24odmFsdWVzKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBhcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkoc2VsZWN0ZWRQZXJtaXNzaW9uKTsKCiAgICAgIHZhciBmaW5kRW1wdHkgPSBhcnIuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucGVybWlzc2lvbnMubGVuZ3RoID09PSAwOwogICAgICB9KTsKICAgICAgaWYgKGZpbmRFbXB0eSA+IC0xKSBhcnIuc3BsaWNlKGZpbmRFbXB0eSwgMSk7CiAgICAgIHNldFNlbGVjdGVkUGVybWlzc2lvbihhcnIpOwogICAgfQogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaW5pdGlhbFN0YXRlLnBlcm1pc3Npb25zICYmIEFycmF5LmlzQXJyYXkoaW5pdGlhbFN0YXRlLnBlcm1pc3Npb25zKSkgewogICAgICB2YXIgdGVtcFBlciA9IHt9OwogICAgICBpbml0aWFsU3RhdGUucGVybWlzc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAocGVyKSB7CiAgICAgICAgdGVtcFBlcltwZXIuaWRdID0gZmFsc2U7CiAgICAgIH0pOwogICAgICBzZXRDaGVja2JveCh0ZW1wUGVyKTsKICAgIH0KICB9LCBbaW5pdGlhbFN0YXRlLnBlcm1pc3Npb25zXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzKSB7CiAgICAgIHRvYXN0UmVmLmN1cnJlbnQuYWRkVG9hc3QoKTsKICAgICAgZGlzcGF0Y2gocmVzZXQoKSk7CiAgICAgIGhpc3RvcnkuZ29CYWNrKCk7CiAgICB9CiAgfSwgW2luaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3NdKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZFRpdGxlLCB7CiAgICBjbGFzc05hbWU6ICJjYXJkLXRpdGxlIG1iLTAiCiAgfSwgIlRoXHhFQW0gbVx1MUVEQmkgbmhceEYzbSBxdXlcdTFFQzFuIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1paywgewogICAgaW5pdGlhbFZhbHVlczogaW5pdFZhbHVlcyB8fCBpbml0aWFsVmFsdWVzLAogICAgZW5hYmxlUmVpbml0aWFsaXplOiB0cnVlLAogICAgdmFsaWRhdGU6IHZhbGlkYXRlKHZhbGlkYXRpb25TY2hlbWEpLAogICAgb25TdWJtaXQ6IG9uU3VibWl0CiAgfSwgZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgdmFsdWVzID0gX3JlZjIudmFsdWVzLAogICAgICAgIGVycm9ycyA9IF9yZWYyLmVycm9ycywKICAgICAgICB0b3VjaGVkID0gX3JlZjIudG91Y2hlZCwKICAgICAgICBzdGF0dXMgPSBfcmVmMi5zdGF0dXMsCiAgICAgICAgZGlydHkgPSBfcmVmMi5kaXJ0eSwKICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfcmVmMi5oYW5kbGVDaGFuZ2UsCiAgICAgICAgaGFuZGxlQmx1ciA9IF9yZWYyLmhhbmRsZUJsdXIsCiAgICAgICAgaGFuZGxlU3VibWl0ID0gX3JlZjIuaGFuZGxlU3VibWl0LAogICAgICAgIHNldEZpZWxkVmFsdWUgPSBfcmVmMi5zZXRGaWVsZFZhbHVlLAogICAgICAgIGlzU3VibWl0dGluZyA9IF9yZWYyLmlzU3VibWl0dGluZywKICAgICAgICBpc1ZhbGlkID0gX3JlZjIuaXNWYWxpZCwKICAgICAgICBoYW5kbGVSZXNldCA9IF9yZWYyLmhhbmRsZVJlc2V0LAogICAgICAgIHNldFRvdWNoZWQgPSBfcmVmMi5zZXRUb3VjaGVkOwogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtLCB7CiAgICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQsCiAgICAgIG5vVmFsaWRhdGU6IHRydWUsCiAgICAgIG5hbWU6ICJzaW1wbGVGb3JtIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjEyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsb2dpbiIKICAgIH0sICJUXHhFQW4gbmhceEYzbSBxdXlcdTFFQzFuIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAidGV4dCIsCiAgICAgIG5hbWU6ICJuYW1lIiwKICAgICAgaWQ6ICJuYW1lIiwKICAgICAgcGxhY2Vob2xkZXI6ICJUXHhFQW4gbmhceEYzbSBxdXlcdTFFQzFuIiwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLm5hbWUKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMubmFtZSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjEyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJDaFx1MUVDRG4gbmhceEYzbSBjaFx1MUVFOWMgblx1MDEwM25nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwgewogICAgICBuYW1lOiAiZGVwYXJ0bWVudCIsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgICAgb25HZXRQZXJtaXNzaW9uKGUudmFsdWUpOwogICAgICB9LAogICAgICBwbGFjZWhvbGRlcjogIkNoXHUxRUNEbiBuaFx4RjNtIGNoXHUxRUU5YyBuXHUwMTAzbmciLAogICAgICBvcHRpb25zOiBpbml0aWFsU3RhdGUucGVybWlzc2lvblR5cGVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogaXRlbS5uYW1lLAogICAgICAgICAgbGFiZWw6IGl0ZW0uZGVzY3JpcHRpb24KICAgICAgICB9OwogICAgICB9KQogICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjEyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICBjb2x1bW46IHRydWUKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgY2xhc3NOYW1lOiAibWItMiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgbnVsbCwgIkNoXHUxRUU5YyBuXHUwMTAzbmciKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgY2xhc3NOYW1lOiAibWItMiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b25Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICBjb2xvcjogInNlY29uZGFyeSIsCiAgICAgIG9uQ2xpY2s6IG9uU2VsZWN0QWxsKHRydWUpCiAgICB9LCAiQ2hcdTFFQ0RuIHRcdTFFQTV0IGNcdTFFQTMiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICBjb2xvcjogInNlY29uZGFyeSIsCiAgICAgIG9uQ2xpY2s6IG9uU2VsZWN0QWxsKGZhbHNlKQogICAgfSwgIkJcdTFFQ0YgY2hcdTFFQ0RuIHRcdTFFQTV0IGNcdTFFQTMiKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBtZDogIjkiCiAgICB9LCBpbml0aWFsU3RhdGUucGVybWlzc2lvbnMgJiYgaW5pdGlhbFN0YXRlLnBlcm1pc3Npb25zLm1hcChmdW5jdGlvbiAoZW50aXR5KSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgICAgdmFyaWFudDogImNoZWNrYm94IiwKICAgICAgICBjbGFzc05hbWU6ICJtYi0yIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXRDaGVja2JveCwgewogICAgICAgIGNsYXNzTmFtZTogImZvcm0tY2hlY2staW5wdXQiLAogICAgICAgIGlkOiBlbnRpdHkuaWQsCiAgICAgICAgY2hlY2tlZDogY2hlY2tib3hbZW50aXR5LmlkXSwKICAgICAgICBvbkNoYW5nZTogb25DaGVjayhzZXRDaGVja2JveCwgY2hlY2tib3gpLAogICAgICAgIG5hbWU6IGVudGl0eS5pZCwKICAgICAgICB2YWx1ZTogZW50aXR5LmlkCiAgICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgICB2YXJpYW50OiAiY2hlY2tib3giLAogICAgICAgIGh0bWxGb3I6ICJyYWRpbzEiCiAgICAgIH0sIGVudGl0eS5kZXNjcmlwdGlvbikpOwogICAgfSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlLCB7CiAgICAgIHJlc3BvbnNpdmU6IHRydWUKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgY2xhc3NOYW1lOiAiaGFuZCB0ZXh0LXJpZ2h0IGluZGV4LWNvbHVtbiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIlNUVCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICBjbGFzc05hbWU6ICJoYW5kIHRleHQtbGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIk5oXHhGM20gY2hcdTFFRTljIG5cdTAxMDNuZyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICBjbGFzc05hbWU6ICJoYW5kIHRleHQtbGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIkRhbmggc1x4RTFjaCBjaFx1MUVFOWMgblx1MDEwM25nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsICJUaGFvIHRceEUxYyIpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGJvZHkiLCBudWxsLCBzZWxlY3RlZFBlcm1pc3Npb24ubWFwKGZ1bmN0aW9uIChwZXJtaXNzaW9uLCBpKSB7CiAgICAgIGlmIChwZXJtaXNzaW9uLnBlcm1pc3Npb25zICYmIHBlcm1pc3Npb24ucGVybWlzc2lvbnMubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCB7CiAgICAgICAgICBrZXk6IHBlcm1pc3Npb24udHlwZQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInRleHQtY2VudGVyIgogICAgICAgIH0sIGkgKyAxKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgcGVybWlzc2lvbi50eXBlTmFtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIHBlcm1pc3Npb24ucGVybWlzc2lvbnMgPyBwZXJtaXNzaW9uLnBlcm1pc3Npb25zLm1hcChmdW5jdGlvbiAocGVyKSB7CiAgICAgICAgICByZXR1cm4gcGVyLmRlc2NyaXB0aW9uOwogICAgICAgIH0pLmpvaW4oJyAtLSAnKSA6ICcnKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAidGV4dC1jZW50ZXIiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgdHlwZTogInJlc2V0IiwKICAgICAgICAgIHNpemU6ICJsZyIsCiAgICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICByZXR1cm4gcmVtb3ZlUGVybWlzc2lvbihpKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjbGFzc05hbWU6ICJtbC01IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsLWJhbiIKICAgICAgICB9KSkpKTsKICAgICAgfQogICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjEyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsb2dpbiIKICAgIH0sICJHaGkgY2hceEZBIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENUZXh0YXJlYSwgewogICAgICB0eXBlOiAidGV4dGFyZWEiLAogICAgICBuYW1lOiAibm90ZSIsCiAgICAgIGlkOiAibm90ZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiR2hpIGNoXHhGQSIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5ub3RlCiAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgIGNsYXNzTmFtZTogImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICB0eXBlOiAic3VibWl0IiwKICAgICAgc2l6ZTogImxnIiwKICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgZGlzYWJsZWQ6IGluaXRpYWxTdGF0ZS5sb2FkaW5nCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAiY2lsLXNhdmUiCiAgICB9KSwgIiAiLCBpbml0aWFsU3RhdGUubG9hZGluZyA/ICfEkGFuZyB44butIGzDvScgOiAnTMawdScpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIHR5cGU6ICJyZXNldCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgb25DbGljazogaGFuZGxlUmVzZXQsCiAgICAgIGNsYXNzTmFtZTogIm1sLTUiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAiY2lsLWJhbiIKICAgIH0pLCAiIFhceEYzYSBuaFx1MUVBRHAgbGlcdTFFQzd1IikpKTsKICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvYXN0ZXIsIHsKICAgIHJlZjogdG9hc3RSZWYsCiAgICBtZXNzYWdlOiAiTFx1MDFCMHUgbmhceEYzbSBxdXlcdTFFQzFuIHRoXHhFMG5oIGNceEY0bmciCiAgfSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgRWRpdFBlcm1pc3Npb25Hcm91cHM7"},null]}