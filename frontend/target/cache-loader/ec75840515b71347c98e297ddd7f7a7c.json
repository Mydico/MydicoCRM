{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Product/EditProductWarehouse.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Product/EditProductWarehouse.js","mtime":1611256191416},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0J1dHRvbiwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDQ2FyZEJvZHksIENDb2wsIENGb3JtLCBDSW52YWxpZEZlZWRiYWNrLCBDRm9ybUdyb3VwLCBDTGFiZWwsIENJbnB1dCwgQ1JvdywgQ1NlbGVjdCwgQ0NhcmRUaXRsZSB9IGZyb20gJ0Bjb3JldWkvcmVhY3QnOwppbXBvcnQgQ0ljb24gZnJvbSAnQGNvcmV1aS9pY29ucy1yZWFjdCc7CmltcG9ydCB7IEZvcm1payB9IGZyb20gJ2Zvcm1payc7CmltcG9ydCAqIGFzIFl1cCBmcm9tICd5dXAnOwppbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCB7IGNyZWF0aW5nUHJvZHVjdFdhcmVob3VzZSwgZ2V0RGV0YWlsUHJvZHVjdFdhcmVob3VzZSB9IGZyb20gJy4vcHJvZHVjdC13YXJlaG91c2UuYXBpJzsKaW1wb3J0IFRvYXN0ZXIgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9ub3RpZmljYXRpb25zL3RvYXN0ZXIvVG9hc3Rlcic7CmltcG9ydCB7IGN1cnJlbnQgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBmZXRjaGluZywgZ2xvYmFsaXplZFByb2R1Y3RXYXJlaG91c2VTZWxlY3RvcnMgfSBmcm9tICcuL3Byb2R1Y3Qtd2FyZWhvdXNlLnJlZHVjZXInOwppbXBvcnQgeyBjdXJyZW5jeUZvcm1hdCB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC91dGlscy9ub3JtYWxpemUnOwppbXBvcnQgeyBnZXRDaXR5LCBnZXREaXN0cmljdCwgZ2V0V2FyZCB9IGZyb20gJy4uLy4uL2N1c3RvbWVyL2N1c3RvbWVyLmFwaSc7Cgp2YXIgdmFsaWRhdGlvblNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRpb25TY2hlbWEodmFsdWVzKSB7CiAgcmV0dXJuIFl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICBuYW1lOiBZdXAuc3RyaW5nKCkubWluKDUsICJUXHhFQW4gcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIDUga1x4RUQgdFx1MUVGMSIpLnJlcXVpcmVkKCdUw6puIGtow7RuZyDEkeG7gyB0cuG7kW5nJyksCiAgICBjaXR5OiBZdXAuc3RyaW5nKCkubnVsbGFibGUodHJ1ZSkucmVxdWlyZWQoJ1Row6BuaCBwaOG7kSBraMO0bmcgxJHhu4MgdHLhu5FuZycpLAogICAgZGlzdHJpY3Q6IFl1cC5zdHJpbmcoKS5udWxsYWJsZSh0cnVlKS5yZXF1aXJlZCgnUXXhuq1uIGh1eeG7h24ga2jDtG5nIMSR4buDIHRy4buRbmcnKSwKICAgIHdhcmQ6IFl1cC5zdHJpbmcoKS5udWxsYWJsZSh0cnVlKS5yZXF1aXJlZCgnUGjGsOG7nW5nIHjDoyBraMO0bmcgxJHhu4MgdHLhu5FuZycpCiAgfSk7Cn07Cgp2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShnZXRWYWxpZGF0aW9uU2NoZW1hKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZXMpIHsKICAgIHZhciB2YWxpZGF0aW9uU2NoZW1hID0gZ2V0VmFsaWRhdGlvblNjaGVtYSh2YWx1ZXMpOwoKICAgIHRyeSB7CiAgICAgIHZhbGlkYXRpb25TY2hlbWEudmFsaWRhdGVTeW5jKHZhbHVlcywgewogICAgICAgIGFib3J0RWFybHk6IGZhbHNlCiAgICAgIH0pOwogICAgICByZXR1cm4ge307CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICByZXR1cm4gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcihlcnJvcik7CiAgICB9CiAgfTsKfTsKCmV4cG9ydCB2YXIgbWFwcGluZ1N0YXR1cyA9IHsKICBBQ1RJVkU6ICfEkEFORyBIT+G6oFQgxJDhu5hORycsCiAgSU5BQ1RJVkU6ICdLSMOUTkcgSE/huqBUIMSQ4buYTkcnLAogIERFTEVURUQ6ICfEkMODIFjDk0EnCn07Cgp2YXIgZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uIGdldEVycm9yc0Zyb21WYWxpZGF0aW9uRXJyb3IodmFsaWRhdGlvbkVycm9yKSB7CiAgdmFyIEZJUlNUX0VSUk9SID0gMDsKICByZXR1cm4gdmFsaWRhdGlvbkVycm9yLmlubmVyLnJlZHVjZShmdW5jdGlvbiAoZXJyb3JzLCBlcnJvcikgewogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZXJyb3JzKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgZXJyb3IucGF0aCwgZXJyb3IuZXJyb3JzW0ZJUlNUX0VSUk9SXSkpOwogIH0sIHt9KTsKfTsKCnZhciBmaW5kRmlyc3RFcnJvciA9IGZ1bmN0aW9uIGZpbmRGaXJzdEVycm9yKGZvcm1OYW1lLCBoYXNFcnJvcikgewogIHZhciBmb3JtID0gZG9jdW1lbnQuZm9ybXNbZm9ybU5hbWVdOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm0ubGVuZ3RoOyBpKyspIHsKICAgIGlmIChoYXNFcnJvcihmb3JtW2ldLm5hbWUpKSB7CiAgICAgIGZvcm1baV0uZm9jdXMoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQp9OwoKdmFyIHZhbGlkYXRlRm9ybSA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybShlcnJvcnMpIHsKICBmaW5kRmlyc3RFcnJvcignc2ltcGxlRm9ybScsIGZ1bmN0aW9uIChmaWVsZE5hbWUpIHsKICAgIHJldHVybiBCb29sZWFuKGVycm9yc1tmaWVsZE5hbWVdKTsKICB9KTsKfTsKCnZhciBFZGl0UHJvZHVjdFdhcmVob3VzZSA9IGZ1bmN0aW9uIEVkaXRQcm9kdWN0V2FyZWhvdXNlKHByb3BzKSB7CiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnByb2R1Y3RQcm9kdWN0V2FyZWhvdXNlOwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmN1c3RvbWVyOwogIH0pLAogICAgICBjdXN0b21lckluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3RvcjIuaW5pdGlhbFN0YXRlOwoKICB2YXIgdG9hc3RSZWYgPSB1c2VSZWYoKTsKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHZhciBpbml0aWFsVmFsdWVzID0gdXNlUmVmKHsKICAgIGNvZGU6ICcnLAogICAgbmFtZTogJycsCiAgICBhZGRyZXNzOiAnJywKICAgIHRlbDogJycKICB9KTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgc2VsZWN0ZWRDaXR5ID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0U2VsZWN0ZWRDaXR5ID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShudWxsKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBzZWxlY3RlZERpc3RyaWN0ID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0U2VsZWN0ZWREaXN0cmljdCA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBzZWxlY3RCeUlkID0gZ2xvYmFsaXplZFByb2R1Y3RXYXJlaG91c2VTZWxlY3RvcnMuc2VsZWN0QnlJZDsKICB2YXIgcHJvZHVjdFByb2R1Y3RXYXJlaG91c2UgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzZWxlY3RCeUlkKHN0YXRlLCBwcm9wcy5tYXRjaC5wYXJhbXMuaWQpOwogIH0pOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGluaXRWYWx1ZXMgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRJbml0VmFsdWVzID0gX3VzZVN0YXRlNlsxXTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHt9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIHNldEluaXRWYWx1ZXMocHJvZHVjdFByb2R1Y3RXYXJlaG91c2UpOwogIH0sIFtwcm9kdWN0UHJvZHVjdFdhcmVob3VzZV0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXREZXRhaWxQcm9kdWN0V2FyZWhvdXNlKHByb3BzLm1hdGNoLnBhcmFtcy5pZCkpOwogICAgZGlzcGF0Y2goZ2V0Q2l0eSgpKTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChzZWxlY3RlZENpdHkpIHsKICAgICAgZGlzcGF0Y2goZ2V0RGlzdHJpY3QoewogICAgICAgIGNpdHk6IHNlbGVjdGVkQ2l0eQogICAgICB9KSk7CiAgICB9CiAgfSwgW3NlbGVjdGVkQ2l0eV0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoc2VsZWN0ZWREaXN0cmljdCkgewogICAgICBkaXNwYXRjaChnZXRXYXJkKHsKICAgICAgICBkaXN0cmljdDogc2VsZWN0ZWREaXN0cmljdAogICAgICB9KSk7CiAgICB9CiAgfSwgW3NlbGVjdGVkRGlzdHJpY3RdKTsKCiAgdmFyIG9uU3VibWl0ID0gZnVuY3Rpb24gb25TdWJtaXQodmFsdWVzLCBfcmVmKSB7CiAgICB2YXIgc2V0U3VibWl0dGluZyA9IF9yZWYuc2V0U3VibWl0dGluZywKICAgICAgICBzZXRFcnJvcnMgPSBfcmVmLnNldEVycm9ycywKICAgICAgICBzZXRTdGF0dXMgPSBfcmVmLnNldFN0YXR1cywKICAgICAgICByZXNldEZvcm0gPSBfcmVmLnJlc2V0Rm9ybTsKICAgIGRpc3BhdGNoKGZldGNoaW5nKCkpOwogICAgdmFsdWVzLmNvZGUgPSB2YWx1ZXMubmFtZS50cmltKCkuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKHN0cmluZykgewogICAgICByZXR1cm4gc3RyaW5nWzBdOwogICAgfSkuam9pbignJykucmVwbGFjZUFsbCgnICcsICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcdTAzMDAtXHUwMzZmXS9nLCAnJykucmVwbGFjZSgvxJEvZywgJ2QnKS5yZXBsYWNlKC/EkC9nLCAnRCcpOwogICAgZGlzcGF0Y2goY3JlYXRpbmdQcm9kdWN0V2FyZWhvdXNlKHZhbHVlcykpOwogICAgcmVzZXRGb3JtKCk7CiAgfTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzKSB7CiAgICAgIHRvYXN0UmVmLmN1cnJlbnQuYWRkVG9hc3QoKTsKICAgICAgaGlzdG9yeS5nb0JhY2soKTsKICAgIH0KICB9LCBbaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2Vzc10pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9hc3RlciwgewogICAgcmVmOiB0b2FzdFJlZiwKICAgIG1lc3NhZ2U6ICJUXHUxRUExbyBtXHUxRURCaSBraG8gdGhceEUwbmggY1x4RjRuZyIKICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkVGl0bGUsIG51bGwsICJDaFx1MUVDOW5oIHNcdTFFRURhIGtobyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtaWssIHsKICAgIGluaXRpYWxWYWx1ZXM6IGluaXRWYWx1ZXMgfHwgaW5pdGlhbFZhbHVlcy5jdXJyZW50LAogICAgZW5hYmxlUmVpbml0aWFsaXplOiB0cnVlLAogICAgdmFsaWRhdGU6IHZhbGlkYXRlKHZhbGlkYXRpb25TY2hlbWEpLAogICAgb25TdWJtaXQ6IG9uU3VibWl0CiAgfSwgZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgX3ZhbHVlcyRuYW1lLCBfdmFsdWVzJGNpdHksIF92YWx1ZXMkZGlzdHJpY3QsIF92YWx1ZXMkd2FyZCwgX1JlYWN0JGNyZWF0ZUVsZW1lbnQ7CgogICAgdmFyIHZhbHVlcyA9IF9yZWYyLnZhbHVlcywKICAgICAgICBlcnJvcnMgPSBfcmVmMi5lcnJvcnMsCiAgICAgICAgdG91Y2hlZCA9IF9yZWYyLnRvdWNoZWQsCiAgICAgICAgc3RhdHVzID0gX3JlZjIuc3RhdHVzLAogICAgICAgIGRpcnR5ID0gX3JlZjIuZGlydHksCiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX3JlZjIuaGFuZGxlQ2hhbmdlLAogICAgICAgIGhhbmRsZUJsdXIgPSBfcmVmMi5oYW5kbGVCbHVyLAogICAgICAgIGhhbmRsZVN1Ym1pdCA9IF9yZWYyLmhhbmRsZVN1Ym1pdCwKICAgICAgICBzZXRGaWVsZFZhbHVlID0gX3JlZjIuc2V0RmllbGRWYWx1ZSwKICAgICAgICBpc1N1Ym1pdHRpbmcgPSBfcmVmMi5pc1N1Ym1pdHRpbmcsCiAgICAgICAgaXNWYWxpZCA9IF9yZWYyLmlzVmFsaWQsCiAgICAgICAgaGFuZGxlUmVzZXQgPSBfcmVmMi5oYW5kbGVSZXNldCwKICAgICAgICBzZXRUb3VjaGVkID0gX3JlZjIuc2V0VG91Y2hlZDsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybSwgewogICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBub1ZhbGlkYXRlOiB0cnVlLAogICAgICBuYW1lOiAic2ltcGxlRm9ybSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJjb2RlIgogICAgfSwgIk1ceEUzIGtobyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAiY29kZSIsCiAgICAgIGlkOiAiY29kZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiTVx4RTMga2hvIiwKICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6ICIiLmNvbmNhdCgoX3ZhbHVlcyRuYW1lID0gdmFsdWVzLm5hbWUpID09PSBudWxsIHx8IF92YWx1ZXMkbmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRuYW1lLnRyaW0oKS5zcGxpdCgnICcpLm1hcChmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHN0cmluZ1swXTsKICAgICAgfSkuam9pbignJykucmVwbGFjZUFsbCgnICcsICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcdTAzMDAtXHUwMzZmXS9nLCAnJykucmVwbGFjZSgvxJEvZywgJ2QnKS5yZXBsYWNlKC/EkC9nLCAnRCcpKS5jb25jYXQodmFsdWVzLnZvbHVtZSA/IHZhbHVlcy52b2x1bWUgOiAnJykKICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsYXN0TmFtZSIKICAgIH0sICJUXHhFQW4ga2hvIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAidGV4dCIsCiAgICAgIG5hbWU6ICJuYW1lIiwKICAgICAgaWQ6ICJuYW1lIiwKICAgICAgcGxhY2Vob2xkZXI6ICJUXHhFQW4ga2hvIiwKICAgICAgYXV0b0NvbXBsZXRlOiAiZmFtaWx5LW5hbWUiLAogICAgICB2YWxpZDogZXJyb3JzLm5hbWUgfHwgbnVsbCwKICAgICAgaW52YWxpZDogdG91Y2hlZC5uYW1lICYmICEhZXJyb3JzLm5hbWUsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMubmFtZQogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIG51bGwsIGVycm9ycy5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAidXNlck5hbWUiCiAgICB9LCAiXHUwMTEwXHUxRUNCYSBjaFx1MUVDOSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAiYWRkcmVzcyIsCiAgICAgIGlkOiAiYWRkcmVzcyIsCiAgICAgIHBsYWNlaG9sZGVyOiAiTVx4RjQgdFx1MUVBMyIsCiAgICAgIGF1dG9Db21wbGV0ZTogImFkZHJlc3MiLAogICAgICB2YWxpZDogZXJyb3JzLmFkZHJlc3MgfHwgbnVsbCwKICAgICAgaW52YWxpZDogdG91Y2hlZC5hZGRyZXNzICYmICEhZXJyb3JzLmFkZHJlc3MsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5hZGRyZXNzCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLmFkZHJlc3MpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJcdTAxMTBcdTAxQTFuIHZcdTFFQ0Igdlx1MUVBRG4gY2h1eVx1MUVDM24iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NlbGVjdCwgewogICAgICBjdXN0b206IHRydWUsCiAgICAgIG5hbWU6ICJ0cmFuc3BvcnQiLAogICAgICBpZDogInRyYW5zcG9ydCIKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMudHJhbnNwb3J0KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAicGFzc3dvcmQiCiAgICB9LCAiVFx1MUVDOW5oIHRoXHhFMG5oIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTZWxlY3QsIHsKICAgICAgY3VzdG9tOiB0cnVlLAogICAgICBuYW1lOiAiY2l0eSIsCiAgICAgIGlkOiAiY2l0eSIsCiAgICAgIHZhbHVlOiAoX3ZhbHVlcyRjaXR5ID0gdmFsdWVzLmNpdHkpID09PSBudWxsIHx8IF92YWx1ZXMkY2l0eSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjaXR5LmlkLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHZhciBmb3VuZGVkID0gY3VzdG9tZXJJbml0aWFsU3RhdGUuY2l0aWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uY29kZSA9PT0gZS50YXJnZXQudmFsdWU7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChmb3VuZGVkLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHNldEZpZWxkVmFsdWUoJ2NpdHknLCBmb3VuZGVkWzBdLmlkKTsKICAgICAgICAgIHNldFNlbGVjdGVkQ2l0eShlLnRhcmdldC52YWx1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgib3B0aW9uIiwgewogICAgICBrZXk6IDAsCiAgICAgIHZhbHVlOiBudWxsCiAgICB9LCAiQ2hcdTFFQ0RuIHRcdTFFQzluaCB0aFx4RTBuaCIpLCBjdXN0b21lckluaXRpYWxTdGF0ZS5jaXRpZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgib3B0aW9uIiwgewogICAgICAgIGtleTogaXRlbS5pZCwKICAgICAgICB2YWx1ZTogaXRlbS5jb2RlCiAgICAgIH0sIGl0ZW0ubmFtZSk7CiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5jaXR5KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbWQ6IDYKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAicGFzc3dvcmQiCiAgICB9LCAiUXVcdTFFQURuIGh1eVx1MUVDN24iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NlbGVjdCwgewogICAgICBjdXN0b206IHRydWUsCiAgICAgIG5hbWU6ICJkaXN0cmljdCIsCiAgICAgIGlkOiAiZGlzdHJpY3QiLAogICAgICB2YWx1ZTogKF92YWx1ZXMkZGlzdHJpY3QgPSB2YWx1ZXMuZGlzdHJpY3QpID09PSBudWxsIHx8IF92YWx1ZXMkZGlzdHJpY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWx1ZXMkZGlzdHJpY3QuaWQsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgICAgdmFyIGZvdW5kZWQgPSBjdXN0b21lckluaXRpYWxTdGF0ZS5kaXN0cmljdHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jb2RlID09PSBlLnRhcmdldC52YWx1ZTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGZvdW5kZWQubGVuZ3RoID4gMCkgewogICAgICAgICAgc2V0RmllbGRWYWx1ZSgnZGlzdHJpY3QnLCBmb3VuZGVkWzBdLmlkKTsKICAgICAgICAgIHNldFNlbGVjdGVkRGlzdHJpY3QoZS50YXJnZXQudmFsdWUpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIsIHsKICAgICAga2V5OiAwLAogICAgICB2YWx1ZTogbnVsbAogICAgfSwgIkNoXHUxRUNEbiBRdVx1MUVBRG4gaHV5XHUxRUM3biIpLCBjdXN0b21lckluaXRpYWxTdGF0ZS5kaXN0cmljdHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgib3B0aW9uIiwgewogICAgICAgIGtleTogaXRlbS5pZCwKICAgICAgICB2YWx1ZTogaXRlbS5jb2RlCiAgICAgIH0sIGl0ZW0ubmFtZSk7CiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5kaXN0cmljdCkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBtZDogNgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJYXHhFMyBwaFx1MDFCMFx1MUVERG5nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTZWxlY3QsIHsKICAgICAgY3VzdG9tOiB0cnVlLAogICAgICBuYW1lOiAid2FyZCIsCiAgICAgIGlkOiAid2FyZCIsCiAgICAgIHZhbHVlOiAoX3ZhbHVlcyR3YXJkID0gdmFsdWVzLndhcmQpID09PSBudWxsIHx8IF92YWx1ZXMkd2FyZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyR3YXJkLmlkLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHZhciBmb3VuZGVkID0gY3VzdG9tZXJJbml0aWFsU3RhdGUud2FyZHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jb2RlID09PSBlLnRhcmdldC52YWx1ZTsKICAgICAgICB9KTsKICAgICAgICBpZiAoZm91bmRlZC5sZW5ndGggPiAwKSBzZXRGaWVsZFZhbHVlKCd3YXJkJywgZm91bmRlZFswXS5pZCk7CiAgICAgIH0KICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgIGtleTogMCwKICAgICAgdmFsdWU6IG51bGwKICAgIH0sICJDaFx1MUVDRG4gWFx4RTMgcGhcdTAxQjBcdTFFRERuZyIpLCBjdXN0b21lckluaXRpYWxTdGF0ZS53YXJkcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgICAga2V5OiBpdGVtLmlkLAogICAgICAgIHZhbHVlOiBpdGVtLmNvZGUKICAgICAgfSwgaXRlbS5uYW1lKTsKICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgfSwgZXJyb3JzLndhcmQpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIlNcdTFFRDEgXHUwMTExaVx1MUVDN24gdGhvXHUxRUExaSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAidGVsIiwKICAgICAgaWQ6ICJ0ZWwiLAogICAgICBwbGFjZWhvbGRlcjogIlNcdTFFRDEgXHUwMTExaVx1MUVDN24gdGhvXHUxRUExaSIsCiAgICAgIGF1dG9Db21wbGV0ZTogInRlbCIsCiAgICAgIHZhbGlkOiBlcnJvcnMudGVsIHx8IG51bGwsCiAgICAgIGludmFsaWQ6IHRvdWNoZWQudGVsICYmICEhZXJyb3JzLnRlbCwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLnRlbAogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy50ZWwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJjb2RlIgogICAgfSwgIlRyXHUxRUExbmcgdGhceEUxaSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDU2VsZWN0LCAoX1JlYWN0JGNyZWF0ZUVsZW1lbnQgPSB7CiAgICAgIGN1c3RvbTogdHJ1ZSwKICAgICAgbmFtZTogInN0YXR1cyIKICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfUmVhY3QkY3JlYXRlRWxlbWVudCwgIm5hbWUiLCAic3RhdHVzIiksIF9kZWZpbmVQcm9wZXJ0eShfUmVhY3QkY3JlYXRlRWxlbWVudCwgImlkIiwgInN0YXR1cyIpLCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNyZWF0ZUVsZW1lbnQsICJ2YWx1ZSIsIHZhbHVlcy5zdGF0dXMpLCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNyZWF0ZUVsZW1lbnQsICJvbkNoYW5nZSIsIGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgc2V0RmllbGRWYWx1ZSgnc3RhdHVzJywgZS50YXJnZXQudmFsdWUpOwogICAgfSksIF9SZWFjdCRjcmVhdGVFbGVtZW50KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5zdGF0dXMpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgIGNsYXNzTmFtZTogImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICB0eXBlOiAic3VibWl0IiwKICAgICAgc2l6ZTogImxnIiwKICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgZGlzYWJsZWQ6IGluaXRpYWxTdGF0ZS5sb2FkaW5nCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAiY2lsLXNhdmUiCiAgICB9KSwgIiAiLCBpbml0aWFsU3RhdGUubG9hZGluZyA/ICfEkGFuZyB44butIGzDvScgOiAnTMawdSBs4bqhaScpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIHR5cGU6ICJyZXNldCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgb25DbGljazogaGFuZGxlUmVzZXQsCiAgICAgIGNsYXNzTmFtZTogIm1sLTUiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAiY2lsLWJhbiIKICAgIH0pLCAiIFhceEYzYSBuaFx1MUVBRHAgbGlcdTFFQzd1IikpKTsKICB9KSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgRWRpdFByb2R1Y3RXYXJlaG91c2U7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Product/EditProductWarehouse.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CInvalidFeedback","CFormGroup","CLabel","CInput","CRow","CSelect","CCardTitle","CIcon","Formik","Yup","useDispatch","useSelector","creatingProductWarehouse","getDetailProductWarehouse","Toaster","current","useHistory","fetching","globalizedProductWarehouseSelectors","currencyFormat","getCity","getDistrict","getWard","validationSchema","values","object","shape","name","string","min","required","city","nullable","district","ward","validate","getValidationSchema","validateSync","abortEarly","error","getErrorsFromValidationError","mappingStatus","ACTIVE","INACTIVE","DELETED","validationError","FIRST_ERROR","inner","reduce","errors","path","findFirstError","formName","hasError","form","document","forms","i","length","focus","validateForm","fieldName","Boolean","EditProductWarehouse","props","state","productProductWarehouse","initialState","customer","customerInitialState","toastRef","dispatch","history","initialValues","code","address","tel","selectedCity","setSelectedCity","selectedDistrict","setSelectedDistrict","selectById","match","params","id","initValues","setInitValues","onSubmit","setSubmitting","setErrors","setStatus","resetForm","trim","split","map","join","replaceAll","normalize","replace","updatingSuccess","addToast","goBack","touched","status","dirty","handleChange","handleBlur","handleSubmit","setFieldValue","isSubmitting","isValid","handleReset","setTouched","volume","transport","e","founded","cities","filter","item","target","value","districts","wards","loading"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CInvalidFeedback,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CRow,\n  CSelect,\n  CCardTitle,\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { creatingProductWarehouse, getDetailProductWarehouse } from './product-warehouse.api';\n\nimport Toaster from '../../../components/notifications/toaster/Toaster';\nimport { current } from '@reduxjs/toolkit';\nimport { useHistory } from 'react-router-dom';\nimport { fetching, globalizedProductWarehouseSelectors } from './product-warehouse.reducer';\nimport { currencyFormat } from '../../../../shared/utils/normalize';\nimport { getCity, getDistrict, getWard } from '../../customer/customer.api';\n\nconst validationSchema = function (values) {\n  return Yup.object().shape({\n    name: Yup.string().min(5, `Tên phải lớn hơn 5 kí tự`).required('Tên không để trống'),\n    city: Yup.string().nullable(true).required('Thành phố không để trống'),\n    district: Yup.string().nullable(true).required('Quận huyện không để trống'),\n    ward: Yup.string().nullable(true).required('Phường xã không để trống'),\n  });\n};\n\nconst validate = getValidationSchema => {\n  return values => {\n    const validationSchema = getValidationSchema(values);\n    try {\n      validationSchema.validateSync(values, { abortEarly: false });\n      return {};\n    } catch (error) {\n      return getErrorsFromValidationError(error);\n    }\n  };\n};\n\nexport const mappingStatus = {\n  ACTIVE: 'ĐANG HOẠT ĐỘNG',\n  INACTIVE: 'KHÔNG HOẠT ĐỘNG',\n  DELETED: 'ĐÃ XÓA',\n};\n\nconst getErrorsFromValidationError = validationError => {\n  const FIRST_ERROR = 0;\n  return validationError.inner.reduce((errors, error) => {\n    return {\n      ...errors,\n      [error.path]: error.errors[FIRST_ERROR],\n    };\n  }, {});\n};\n\nconst findFirstError = (formName, hasError) => {\n  const form = document.forms[formName];\n  for (let i = 0; i < form.length; i++) {\n    if (hasError(form[i].name)) {\n      form[i].focus();\n      break;\n    }\n  }\n};\n\nconst validateForm = errors => {\n  findFirstError('simpleForm', fieldName => {\n    return Boolean(errors[fieldName]);\n  });\n};\n\nconst EditProductWarehouse = (props) => {\n  const { initialState } = useSelector(state => state.productProductWarehouse);\n  const { initialState: customerInitialState } = useSelector(state => state.customer);\n\n  const toastRef = useRef();\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const initialValues = useRef({\n    code: '',\n    name: '',\n    address: '',\n    tel: '',\n  });\n  const [selectedCity, setSelectedCity] = useState(null);\n  const [selectedDistrict, setSelectedDistrict] = useState(null);\n  const { selectById } = globalizedProductWarehouseSelectors;\n  const productProductWarehouse = useSelector(state => selectById(state, props.match.params.id));\n  const [initValues, setInitValues] = useState(null);\n\n  useEffect(() => {}, []);\n\n  useEffect(() => {\n    setInitValues(productProductWarehouse);\n  }, [productProductWarehouse]);\n\n  useEffect(() => {\n    dispatch(getDetailProductWarehouse(props.match.params.id));\n    dispatch(getCity());\n  }, []);\n\n  useEffect(() => {\n    if (selectedCity) {\n      dispatch(getDistrict({ city: selectedCity }));\n    }\n  }, [selectedCity]);\n\n  useEffect(() => {\n    if (selectedDistrict) {\n      dispatch(getWard({ district: selectedDistrict }));\n    }\n  }, [selectedDistrict]);\n\n  const onSubmit = (values, { setSubmitting, setErrors, setStatus, resetForm }) => {\n    dispatch(fetching());\n    values.code = values.name\n      .trim()\n      .split(' ')\n      .map(string => string[0])\n      .join('')\n      .replaceAll(' ', '')\n      .normalize('NFD')\n      .replace(/[\\u0300-\\u036f]/g, '')\n      .replace(/đ/g, 'd')\n      .replace(/Đ/g, 'D');\n    dispatch(creatingProductWarehouse(values));\n    resetForm();\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      toastRef.current.addToast();\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  return (\n    <CCard>\n      <Toaster ref={toastRef} message=\"Tạo mới kho thành công\" />\n      <CCardHeader>\n        <CCardTitle>Chỉnh sửa kho</CCardTitle>\n      </CCardHeader>\n      <CCardBody>\n        <Formik\n          initialValues={initValues || initialValues.current}\n          enableReinitialize\n          validate={validate(validationSchema)}\n          onSubmit={onSubmit}\n        >\n          {({\n            values,\n            errors,\n            touched,\n            status,\n            dirty,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            setFieldValue,\n            isSubmitting,\n            isValid,\n            handleReset,\n            setTouched,\n          }) => (\n            <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n              <CRow>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"code\">Mã kho</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"code\"\n                      id=\"code\"\n                      placeholder=\"Mã kho\"\n                      disabled\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={`${values.name\n                        ?.trim()\n                        .split(' ')\n                        .map(string => string[0])\n                        .join('')\n                        .replaceAll(' ', '')\n                        .normalize('NFD')\n                        .replace(/[\\u0300-\\u036f]/g, '')\n                        .replace(/đ/g, 'd')\n                        .replace(/Đ/g, 'D')}${values.volume ? values.volume : ''}`}\n                    />\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"lastName\">Tên kho</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"name\"\n                      id=\"name\"\n                      placeholder=\"Tên kho\"\n                      autoComplete=\"family-name\"\n                      valid={errors.name || null}\n                      invalid={touched.name && !!errors.name}\n                      required\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.name}\n                    />\n                    <CInvalidFeedback>{errors.name}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"userName\">Địa chỉ</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"address\"\n                      id=\"address\"\n                      placeholder=\"Mô tả\"\n                      autoComplete=\"address\"\n                      valid={errors.address || null}\n                      invalid={touched.address && !!errors.address}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.address}\n                    />\n                    <CInvalidFeedback>{errors.address}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Đơn vị vận chuyển</CLabel>\n                    <CSelect custom name=\"transport\" id=\"transport\">\n                      {/* <option key={0} value={null}>\n                        Chọn tỉnh thành\n                      </option>\n                      {customerInitialState.cities.map(item => (\n                        <option key={item.id} value={item.code}>\n                          {item.name}\n                        </option>\n                      ))} */}\n                    </CSelect>\n                    <CInvalidFeedback className=\"d-block\">{errors.transport}</CInvalidFeedback>\n                  </CFormGroup>\n                </CCol>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Tỉnh thành</CLabel>\n                    <CSelect\n                      custom\n                      name=\"city\"\n                      id=\"city\"\n                      value={values.city?.id}\n                      onChange={e => {\n                        const founded = customerInitialState.cities.filter(item => item.code === e.target.value);\n                        if (founded.length > 0) {\n                          setFieldValue('city', founded[0].id);\n                          setSelectedCity(e.target.value);\n                        }\n                      }}\n                    >\n                      <option key={0} value={null}>\n                        Chọn tỉnh thành\n                      </option>\n                      {customerInitialState.cities.map(item => (\n                        <option key={item.id} value={item.code}>\n                          {item.name}\n                        </option>\n                      ))}\n                    </CSelect>\n                    <CInvalidFeedback className=\"d-block\">{errors.city}</CInvalidFeedback>\n                  </CFormGroup>\n\n                  <CRow>\n                    <CCol md={6}>\n                      <CFormGroup>\n                        <CLabel htmlFor=\"password\">Quận huyện</CLabel>\n                        <CSelect\n                          custom\n                          name=\"district\"\n                          id=\"district\"\n                          value={values.district?.id}\n                          onChange={e => {\n                            const founded = customerInitialState.districts.filter(item => item.code === e.target.value);\n                            if (founded.length > 0) {\n                              setFieldValue('district', founded[0].id);\n                              setSelectedDistrict(e.target.value);\n                            }\n                          }}\n                        >\n                          <option key={0} value={null}>\n                            Chọn Quận huyện\n                          </option>\n                          {customerInitialState.districts.map(item => (\n                            <option key={item.id} value={item.code}>\n                              {item.name}\n                            </option>\n                          ))}\n                        </CSelect>\n                        <CInvalidFeedback className=\"d-block\">{errors.district}</CInvalidFeedback>\n                      </CFormGroup>\n                    </CCol>\n                    <CCol md={6}>\n                      <CFormGroup>\n                        <CLabel htmlFor=\"password\">Xã phường</CLabel>\n                        <CSelect\n                          custom\n                          name=\"ward\"\n                          id=\"ward\"\n                          value={values.ward?.id}\n                          onChange={e => {\n                            const founded = customerInitialState.wards.filter(item => item.code === e.target.value);\n                            if (founded.length > 0) setFieldValue('ward', founded[0].id);\n                          }}\n                        >\n                          <option key={0} value={null}>\n                            Chọn Xã phường\n                          </option>\n                          {customerInitialState.wards.map(item => (\n                            <option key={item.id} value={item.code}>\n                              {item.name}\n                            </option>\n                          ))}\n                        </CSelect>\n                        <CInvalidFeedback className=\"d-block\">{errors.ward}</CInvalidFeedback>\n                      </CFormGroup>\n                    </CCol>\n                  </CRow>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"userName\">Số điện thoại</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"tel\"\n                      id=\"tel\"\n                      placeholder=\"Số điện thoại\"\n                      autoComplete=\"tel\"\n                      valid={errors.tel || null}\n                      invalid={touched.tel && !!errors.tel}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.tel}\n                    />\n                    <CInvalidFeedback className=\"d-block\">{errors.tel}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"code\">Trạng thái</CLabel>\n                    <CSelect\n                      custom\n                      name=\"status\"\n                      name=\"status\"\n                      id=\"status\"\n                      value={values.status}\n                      onChange={e => {\n                        setFieldValue('status', e.target.value);\n                      }}\n                    >\n                    </CSelect>\n                    <CInvalidFeedback className=\"d-block\">{errors.status}</CInvalidFeedback>\n                  </CFormGroup>\n                </CCol>\n              </CRow>\n              <CFormGroup className=\"d-flex justify-content-center\">\n                <CButton type=\"submit\" size=\"lg\" color=\"primary\" disabled={initialState.loading}>\n                  <CIcon name=\"cil-save\" /> {initialState.loading ? 'Đang xử lý' : 'Lưu lại'}\n                </CButton>\n                <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={handleReset} className=\"ml-5\">\n                  <CIcon name=\"cil-ban\" /> Xóa nhập liệu\n                </CButton>\n              </CFormGroup>\n            </CForm>\n          )}\n        </Formik>\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default EditProductWarehouse;\n"]}]}