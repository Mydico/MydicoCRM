{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/Order.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/Order.js","mtime":1619209863620},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDQ29sLCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QnOwppbXBvcnQgQ0ljb24gZnJvbSAnQGNvcmV1aS9pY29ucy1yZWFjdCc7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgZ2V0T3JkZXIsIHVwZGF0ZVN0YXR1c09yZGVyIH0gZnJvbSAnLi9vcmRlci5hcGknOwppbXBvcnQgeyBnbG9iYWxpemVkT3JkZXJzU2VsZWN0b3JzLCByZXNldCB9IGZyb20gJy4vb3JkZXIucmVkdWNlcic7CmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgVGFibGUgfSBmcm9tICdyZWFjdHN0cmFwJzsKaW1wb3J0IHsgT3JkZXJTdGF0dXMgfSBmcm9tICcuL29yZGVyLXN0YXR1cyc7CmltcG9ydCB7IGNvbmZpcm1BbGVydCB9IGZyb20gJ3JlYWN0LWNvbmZpcm0tYWxlcnQnOyAvLyBJbXBvcnQKCmltcG9ydCAncmVhY3QtY29uZmlybS1hbGVydC9zcmMvcmVhY3QtY29uZmlybS1hbGVydC5jc3MnOyAvLyBJbXBvcnQgY3NzCgp2YXIgZ2V0QmFkZ2UgPSBmdW5jdGlvbiBnZXRCYWRnZShzdGF0dXMpIHsKICBzd2l0Y2ggKHN0YXR1cykgewogICAgY2FzZSAnQUNUSVZFJzoKICAgICAgcmV0dXJuICdzdWNjZXNzJzsKCiAgICBjYXNlICdJTkFDVElWRSc6CiAgICAgIHJldHVybiAnZGFuZ2VyJzsKCiAgICBjYXNlICdERUxFVEVEJzoKICAgICAgcmV0dXJuICd3YXJuaW5nJzsKCiAgICBjYXNlICdCYW5uZWQnOgogICAgICByZXR1cm4gJ2Rhbmdlcic7CgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuICdwcmltYXJ5JzsKICB9Cn07Cgp2YXIgbWFwcGluZ1N0YXR1cyA9IHsKICBXQUlUSU5HOiAnQ0jhu5wgRFVZ4buGVCcsCiAgQVBQUk9WRUQ6ICfEkMODIERVWeG7hlQnLAogIENSRUFURV9DT0Q6ICfEkMODIFThuqBPIFbhuqxOIMSQxqBOJywKICBDQU5DRUw6ICfEkMODIEjhu6ZZJwp9OwoKdmFyIE9yZGVyID0gZnVuY3Rpb24gT3JkZXIocHJvcHMpIHsKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgX2RldGFpbHMgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXREZXRhaWxzID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLm9yZGVyOwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKDEpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRBY3RpdmVQYWdlID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZSgyMCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAxKSwKICAgICAgc2l6ZSA9IF91c2VTdGF0ZTZbMF07CgogIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7CiAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ29yZGVyJywgSlNPTi5zdHJpbmdpZnkoe30pKTsKICB9LCBbXSk7CiAgdmFyIHNlbGVjdEFsbCA9IGdsb2JhbGl6ZWRPcmRlcnNTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBvcmRlcnMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGwpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXRPcmRlcih7CiAgICAgIHBhZ2U6IGFjdGl2ZVBhZ2UgLSAxLAogICAgICBzaXplOiBzaXplLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsZGVzYycKICAgIH0pKTsKICB9LCBbYWN0aXZlUGFnZV0pOwoKICB2YXIgY29tcHV0ZWRJdGVtcyA9IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoaXRlbXMpIHsKICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdmFyIF9pdGVtJGN1c3RvbWVyLCBfaXRlbSRjdXN0b21lcjIsIF9pdGVtJG9yZGVyRGV0YWlscywgX2l0ZW0kb3JkZXJEZXRhaWxzMjsKCiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgIGN1c3RvbWVyTmFtZTogKF9pdGVtJGN1c3RvbWVyID0gaXRlbS5jdXN0b21lcikgPT09IG51bGwgfHwgX2l0ZW0kY3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGN1c3RvbWVyLm5hbWUsCiAgICAgICAgdGVsOiAoX2l0ZW0kY3VzdG9tZXIyID0gaXRlbS5jdXN0b21lcikgPT09IG51bGwgfHwgX2l0ZW0kY3VzdG9tZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRjdXN0b21lcjIudGVsLAogICAgICAgIHF1YW50aXR5OiAoX2l0ZW0kb3JkZXJEZXRhaWxzID0gaXRlbS5vcmRlckRldGFpbHMpID09PSBudWxsIHx8IF9pdGVtJG9yZGVyRGV0YWlscyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kb3JkZXJEZXRhaWxzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBwcmV2KSB7CiAgICAgICAgICByZXR1cm4gc3VtICsgcHJldi5xdWFudGl0eTsKICAgICAgICB9LCAwKSwKICAgICAgICB0b3RhbDogKF9pdGVtJG9yZGVyRGV0YWlsczIgPSBpdGVtLm9yZGVyRGV0YWlscykgPT09IG51bGwgfHwgX2l0ZW0kb3JkZXJEZXRhaWxzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kb3JkZXJEZXRhaWxzMi5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY3VycmVudCkgewogICAgICAgICAgcmV0dXJuIHN1bSArIGN1cnJlbnQucHJpY2VUb3RhbDsKICAgICAgICB9LCAwKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgdmFyIHRvZ2dsZURldGFpbHMgPSBmdW5jdGlvbiB0b2dnbGVEZXRhaWxzKGluZGV4KSB7CiAgICB2YXIgcG9zaXRpb24gPSBfZGV0YWlscy5pbmRleE9mKGluZGV4KTsKCiAgICB2YXIgbmV3RGV0YWlscyA9IF9kZXRhaWxzLnNsaWNlKCk7CgogICAgaWYgKHBvc2l0aW9uICE9PSAtMSkgewogICAgICBuZXdEZXRhaWxzLnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICB9IGVsc2UgewogICAgICBuZXdEZXRhaWxzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfZGV0YWlscyksIFtpbmRleF0pOwogICAgfQoKICAgIHNldERldGFpbHMobmV3RGV0YWlscyk7CiAgfTsgLy8gQ29kZQlUw6puIGPhu61hIGjDoG5nL8SR4bqhaSBsw70JTmfGsOG7nWkgbGnDqm4gbOG6oWMJTsSDbSBTaW5oCcSQaeG7h24gdGhv4bqhaQlOaMOibiB2acOqbiBxdeG6o24gbMO9CcSRxqFuIGjDoG5nZwlQaMOibiBsb+G6oWkJU+G7rWEJVOG6oW8gxJHGoW4KCgogIHZhciBmaWVsZHMgPSBbewogICAga2V5OiAnb3JkZXInLAogICAgbGFiZWw6ICdTVFQnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMSUnCiAgICB9LAogICAgZmlsdGVyOiBmYWxzZQogIH0sIHsKICAgIGtleTogJ3Nob3dfZGV0YWlscycsCiAgICBsYWJlbDogJ1hlbSBjaGkgdGnhur90JywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzElJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9LCB7CiAgICBrZXk6ICdjb2RlJywKICAgIGxhYmVsOiAnTcOjIMSRxqFuIGjDoG5nJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdjdXN0b21lck5hbWUnLAogICAgbGFiZWw6ICdUw6puIGtow6FjaCBow6BuZy/EkeG6oWkgbMO9JywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzE1JScKICAgIH0KICB9LCB7CiAgICBrZXk6ICd0ZWwnLAogICAgbGFiZWw6ICdT4buRIMSRaeG7h24gdGhv4bqhaScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAncXVhbnRpdHknLAogICAgbGFiZWw6ICdU4buVbmcgc+G6o24gcGjhuqltJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICd0b3RhbCcsCiAgICBsYWJlbDogJ1Rp4buBbiB0aGFuaCB0b8OhbicsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlZERhdGUnLAogICAgbGFiZWw6ICdOZ8OgeSB04bqhbycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnc3RhdHVzJywKICAgIGxhYmVsOiAnVHLhuqFuZyB0aMOhaScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnYWN0aW9uJywKICAgIGxhYmVsOiAnJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzMwJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfV07CgogIHZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHN0YXR1cykgewogICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgY2FzZSAnQVBQUk9WRUQnOgogICAgICAgIHJldHVybiAnc3VjY2Vzcyc7CgogICAgICBjYXNlICdDUkVBVEVfQ09EJzoKICAgICAgICByZXR1cm4gJ2luZm8nOwoKICAgICAgY2FzZSAnV0FJVElORyc6CiAgICAgICAgcmV0dXJuICd3YXJuaW5nJzsKCiAgICAgIGNhc2UgJ0NBTkNFTCc6CiAgICAgICAgcmV0dXJuICdkYW5nZXInOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gJ3ByaW1hcnknOwogICAgfQogIH07CgogIHZhciBjc3ZDb250ZW50ID0gb3JkZXJzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoaXRlbSkuam9pbignLCcpOwogIH0pLmpvaW4oJ1xuJyk7CiAgdmFyIGNzdkNvZGUgPSAnZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LFNFUD0sJTBBJyArIGVuY29kZVVSSUNvbXBvbmVudChjc3ZDb250ZW50KTsKCiAgdmFyIHRvQ3JlYXRlT3JkZXIgPSBmdW5jdGlvbiB0b0NyZWF0ZU9yZGVyKCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvbmV3IikpOwogIH07CgogIHZhciBvbkZpbHRlckNvbHVtbiA9IGZ1bmN0aW9uIG9uRmlsdGVyQ29sdW1uKHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDApIHsKICAgICAgZGlzcGF0Y2goZ2V0T3JkZXIoX29iamVjdFNwcmVhZCh7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxkZXNjJwogICAgICB9LCB2YWx1ZSkpKTsKICAgIH0KICB9OwoKICB2YXIgdG9FZGl0T3JkZXIgPSBmdW5jdGlvbiB0b0VkaXRPcmRlcih0eXBlSWQpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiLyIpLmNvbmNhdCh0eXBlSWQsICIvZWRpdCIpKTsKICB9OwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGluaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3MpIHsKICAgICAgZGlzcGF0Y2goZ2V0T3JkZXIoKSk7CiAgICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogICAgfQogIH0sIFtpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzXSk7CgogIHZhciBhcHByb3ZlT3JkZXIgPSBmdW5jdGlvbiBhcHByb3ZlT3JkZXIob3JkZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIG9yZGVyLnN0YXR1cyA9IE9yZGVyU3RhdHVzLkFQUFJPVkVEOwogICAgICBkaXNwYXRjaCh1cGRhdGVTdGF0dXNPcmRlcihvcmRlcikpOwogICAgfTsKICB9OwoKICB2YXIgY2FuY2VsT3JkZXIgPSBmdW5jdGlvbiBjYW5jZWxPcmRlcihvcmRlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgb3JkZXIuc3RhdHVzID0gT3JkZXJTdGF0dXMuQ0FOQ0VMOwogICAgICBkaXNwYXRjaCh1cGRhdGVTdGF0dXNPcmRlcihvcmRlcikpOwogICAgfTsKICB9OwoKICB2YXIgZGVsZXRlT3JkZXIgPSBmdW5jdGlvbiBkZWxldGVPcmRlcihvcmRlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgb3JkZXIuc3RhdHVzID0gT3JkZXJTdGF0dXMuREVMRVRFRDsKICAgICAgZGlzcGF0Y2godXBkYXRlU3RhdHVzT3JkZXIob3JkZXIpKTsKICAgIH07CiAgfTsKCiAgdmFyIGNyZWF0ZUNvZE9yZGVyID0gZnVuY3Rpb24gY3JlYXRlQ29kT3JkZXIob3JkZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIG9yZGVyLnN0YXR1cyA9IE9yZGVyU3RhdHVzLkNSRUFURV9DT0Q7CiAgICAgIGRpc3BhdGNoKHVwZGF0ZVN0YXR1c09yZGVyKG9yZGVyKSk7CiAgICB9OwogIH07CgogIHZhciBhcHByb3ZlQWxlcnQgPSBmdW5jdGlvbiBhcHByb3ZlQWxlcnQoaXRlbSkgewogICAgY29uZmlybUFsZXJ0KHsKICAgICAgdGl0bGU6ICdYw6FjIG5o4bqtbicsCiAgICAgIG1lc3NhZ2U6ICdC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gZHV54buHdCDEkcahbiBow6BuZyBuw6B5PycsCiAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgbGFiZWw6ICfEkOG7k25nIMO9JywKICAgICAgICBvbkNsaWNrOiBhcHByb3ZlT3JkZXIoaXRlbSkKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnSOG7p3knCiAgICAgIH1dCiAgICB9KTsKICB9OwoKICB2YXIgY2FuY2VsQWxlcnQgPSBmdW5jdGlvbiBjYW5jZWxBbGVydChpdGVtKSB7CiAgICBjb25maXJtQWxlcnQoewogICAgICB0aXRsZTogJ1jDoWMgbmjhuq1uJywKICAgICAgbWVzc2FnZTogJ0LhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiBo4buneSDEkcahbiBow6BuZyBuw6B5PycsCiAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgbGFiZWw6ICfEkOG7k25nIMO9JywKICAgICAgICBvbkNsaWNrOiBjYW5jZWxPcmRlcihpdGVtKQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdI4buneScKICAgICAgfV0KICAgIH0pOwogIH07CgogIHZhciBkZWxldGVBbGVydCA9IGZ1bmN0aW9uIGRlbGV0ZUFsZXJ0KGl0ZW0pIHsKICAgIGNvbmZpcm1BbGVydCh7CiAgICAgIHRpdGxlOiAnWMOhYyBuaOG6rW4nLAogICAgICBtZXNzYWdlOiAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHjDs2EgxJHGoW4gaMOgbmcgbsOgeT8nLAogICAgICBidXR0b25zOiBbewogICAgICAgIGxhYmVsOiAnxJDhu5NuZyDDvScsCiAgICAgICAgb25DbGljazogZGVsZXRlT3JkZXIoaXRlbSkKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnSOG7p3knCiAgICAgIH1dCiAgICB9KTsKICB9OwoKICB2YXIgY29kQWxlcnQgPSBmdW5jdGlvbiBjb2RBbGVydChpdGVtKSB7CiAgICBjb25maXJtQWxlcnQoewogICAgICB0aXRsZTogJ1jDoWMgbmjhuq1uJywKICAgICAgbWVzc2FnZTogJ0LhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB04bqhbyB24bqtbiDEkcahbiBjaG8gxJHGoW4gaMOgbmcgbsOgeT8nLAogICAgICBidXR0b25zOiBbewogICAgICAgIGxhYmVsOiAnxJDhu5NuZyDDvScsCiAgICAgICAgb25DbGljazogY3JlYXRlQ29kT3JkZXIoaXRlbSkKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnSOG7p3knCiAgICAgIH1dCiAgICB9KTsKICB9OwoKICB2YXIgcmVuZGVyQnV0dG9uU3RhdHVzID0gZnVuY3Rpb24gcmVuZGVyQnV0dG9uU3RhdHVzKGl0ZW0pIHsKICAgIHN3aXRjaCAoaXRlbS5zdGF0dXMpIHsKICAgICAgY2FzZSBPcmRlclN0YXR1cy5XQUlUSU5HOgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBhcHByb3ZlQWxlcnQoaXRlbSk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJzdWNjZXNzIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sICJEVVlcdTFFQzZUIFx1MDExMFx1MDFBME4gSFx4QzBORyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBjYW5jZWxBbGVydChpdGVtKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iCiAgICAgICAgfSwgIkhcdTFFRTZZIFx1MDExMFx1MDFBME4gSFx4QzBORyIpKTsKCiAgICAgIGNhc2UgT3JkZXJTdGF0dXMuQVBQUk9WRUQ6CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGNvZEFsZXJ0KGl0ZW0pOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgY2xhc3NOYW1lOiAibXItMSIKICAgICAgICB9LCAiVFx1MUVBME8gVlx1MUVBQ04gXHUwMTEwXHUwMUEwTiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICB0b0VkaXRPcmRlcihpdGVtLmlkKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogIndhcm5pbmciLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsLXBlbmNpbCIKICAgICAgICB9KSwgIkNIXHUxRUM4TkggU1x1MUVFQ0EiKSk7CgogICAgICBjYXNlIE9yZGVyU3RhdHVzLkNSRUFURV9DT0Q6CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIGNvbG9yOiAiaW5mbyIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iCiAgICAgICAgfSwgIlhFTSBWXHUxRUFDTiBcdTAxMTBcdTAxQTBOIik7CgogICAgICBjYXNlIE9yZGVyU3RhdHVzLkNBTkNFTDoKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgdG9FZGl0T3JkZXIoaXRlbS5pZCk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJ3YXJuaW5nIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsLXBlbmNpbCIKICAgICAgICB9KSwgIkNIXHUxRUM4TkggU1x1MUVFQ0EiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgZGVsZXRlQWxlcnQoaXRlbSk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJzZWNvbmRhcnkiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTEiCiAgICAgICAgfSwgIlhceEQzQSBcdTAxMTBcdTAxQTBOIikpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9OwoKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1ncmlkIgogIH0pLCAiIERhbmggc1x4RTFjaCBcdTAxMTFcdTAxQTFuIGhceEUwbmdnIiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJzdWNjZXNzIiwKICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgIGNsYXNzTmFtZTogIm1sLTMiLAogICAgb25DbGljazogdG9DcmVhdGVPcmRlcgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLXBsdXMiCiAgfSksICIgVGhceEVBbSBtXHUxRURCaSIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInByaW1hcnkiLAogICAgY2xhc3NOYW1lOiAibWItMiIsCiAgICBocmVmOiBjc3ZDb2RlLAogICAgZG93bmxvYWQ6ICJjdXN0b21lcnR5cGVzLmNzdiIsCiAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgfSwgIlRcdTFFQTNpIGV4Y2VsICguY3N2KSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICBpdGVtczogY29tcHV0ZWRJdGVtcyhvcmRlcnMpLAogICAgZmllbGRzOiBmaWVsZHMsCiAgICBjb2x1bW5GaWx0ZXI6IHRydWUsCiAgICB0YWJsZUZpbHRlcjogdHJ1ZSwKICAgIGNsZWFuZXI6IHRydWUsCiAgICBpdGVtc1BlclBhZ2VTZWxlY3Q6IHsKICAgICAgbGFiZWw6ICdT4buRIGzGsOG7o25nIHRyw6puIG3hu5l0IHRyYW5nJywKICAgICAgdmFsdWVzOiBbMjAsIDMwLCA1MF0KICAgIH0sCiAgICBpdGVtc1BlclBhZ2U6IDIwLAogICAgaG92ZXI6IHRydWUsCiAgICBzb3J0ZXI6IHRydWUgLy8gbG9hZGluZwogICAgLy8gb25Sb3dDbGljaz17KGl0ZW0saW5kZXgsY29sLGUpID0+IGNvbnNvbGUubG9nKGl0ZW0saW5kZXgsY29sLGUpfQogICAgLAogICAgb25QYWdlQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHBhZ2U6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2VzQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VzQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlczonLCB2YWwpOwogICAgfSwKICAgIG9uUGFnaW5hdGlvbkNoYW5nZTogZnVuY3Rpb24gb25QYWdpbmF0aW9uQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdpbmF0aW9uOicsIHZhbCk7CiAgICB9IC8vIG9uRmlsdGVyZWRJdGVtc0NoYW5nZT17KHZhbCkgPT4gY29uc29sZS5sb2coJ25ldyBmaWx0ZXJlZCBpdGVtczonLCB2YWwpfQogICAgLy8gb25Tb3J0ZXJWYWx1ZUNoYW5nZT17KHZhbCkgPT4gY29uc29sZS5sb2coJ25ldyBzb3J0ZXIgdmFsdWU6JywgdmFsKX0KICAgICwKICAgIG9uVGFibGVGaWx0ZXJDaGFuZ2U6IGZ1bmN0aW9uIG9uVGFibGVGaWx0ZXJDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHRhYmxlIGZpbHRlcjonLCB2YWwpOwogICAgfSwKICAgIG9uQ29sdW1uRmlsdGVyQ2hhbmdlOiBvbkZpbHRlckNvbHVtbiwKICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIG9yZGVyOiBmdW5jdGlvbiBvcmRlcihpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpbmRleCArIDEpOwogICAgICB9LAogICAgICBzdGF0dXM6IGZ1bmN0aW9uIHN0YXR1cyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCYWRnZSwgewogICAgICAgICAgY29sb3I6IGdldEJhZGdlKGl0ZW0uc3RhdHVzKQogICAgICAgIH0sIG1hcHBpbmdTdGF0dXNbaXRlbS5zdGF0dXNdKSk7CiAgICAgIH0sCiAgICAgIGNyZWF0ZWREYXRlOiBmdW5jdGlvbiBjcmVhdGVkRGF0ZShpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGl0ZW0uY3JlYXRlZERhdGUuc3Vic3RyKDAsIDEwKSk7CiAgICAgIH0sCiAgICAgIHNob3dfZGV0YWlsczogZnVuY3Rpb24gc2hvd19kZXRhaWxzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicHktMiBkLWZsZXgiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICB0b2dnbGVEZXRhaWxzKGl0ZW0uaWQpOwogICAgICAgICAgfQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsWm9vbSIKICAgICAgICB9KSkpOwogICAgICB9LAogICAgICBhY3Rpb246IGZ1bmN0aW9uIGFjdGlvbihpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInB5LTIgZC1mbGV4IgogICAgICAgIH0sIHJlbmRlckJ1dHRvblN0YXR1cyhpdGVtKSk7CiAgICAgIH0sCiAgICAgIGRldGFpbHM6IGZ1bmN0aW9uIGRldGFpbHMoaXRlbSkgewogICAgICAgIHZhciBfaXRlbSRjdXN0b21lcjMsIF9pdGVtJGN1c3RvbWVyMyRkaXN0ciwgX2l0ZW0kY3VzdG9tZXI0LCBfaXRlbSRjdXN0b21lcjQkY2l0eSwgX2l0ZW0kcHJvbW90aW9uLCBfaXRlbSRwcm9tb3Rpb24yLCBfaXRlbSRwcm9tb3Rpb24zLCBfaXRlbSRwcm9tb3Rpb24zJGN1c3Q7CgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sbGFwc2UsIHsKICAgICAgICAgIHNob3c6IF9kZXRhaWxzLmluY2x1ZGVzKGl0ZW0uaWQpCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaDUiLCBudWxsLCAiVGhceEY0bmcgdGluIFx1MDExMVx1MDFBMW4gaFx4RTBuZ2ciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgewogICAgICAgICAgY2xhc3NOYW1lOiAibWItNCIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBzbTogIjQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImg2IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAibWItMyIKICAgICAgICB9LCAiVFx1MUVEQmk6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmN1c3RvbWVyLmNvbnRhY3ROYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uYWRkcmVzcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAiIi5jb25jYXQoaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kY3VzdG9tZXIzID0gaXRlbS5jdXN0b21lcikgPT09IG51bGwgfHwgX2l0ZW0kY3VzdG9tZXIzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kY3VzdG9tZXIzJGRpc3RyID0gX2l0ZW0kY3VzdG9tZXIzLmRpc3RyaWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRjdXN0b21lcjMkZGlzdHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGN1c3RvbWVyMyRkaXN0ci5uYW1lLCAiLCAiKS5jb25jYXQoaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kY3VzdG9tZXI0ID0gaXRlbS5jdXN0b21lcikgPT09IG51bGwgfHwgX2l0ZW0kY3VzdG9tZXI0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kY3VzdG9tZXI0JGNpdHkgPSBfaXRlbSRjdXN0b21lcjQuY2l0eSkgPT09IG51bGwgfHwgX2l0ZW0kY3VzdG9tZXI0JGNpdHkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGN1c3RvbWVyNCRjaXR5Lm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsICJFbWFpbDogIiwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmN1c3RvbWVyLmVtYWlsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsICJQaG9uZTogIiwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmN1c3RvbWVyLnRlbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBzbTogIjQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImg2IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAibWItMyIKICAgICAgICB9LCAiQ2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBiXHhFMW4gaFx4RTBuZzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiICIsIGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pdGVtJHByb21vdGlvbiA9IGl0ZW0ucHJvbW90aW9uKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9tb3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb21vdGlvbi5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfaXRlbSRwcm9tb3Rpb24yID0gaXRlbS5wcm9tb3Rpb24pID09PSBudWxsIHx8IF9pdGVtJHByb21vdGlvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb21vdGlvbjIuZGVzY3JpcHRpb24pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgIkxvXHUxRUExaSBraFx4RTFjaCBoXHhFMG5nOiAiLCBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfaXRlbSRwcm9tb3Rpb24zID0gaXRlbS5wcm9tb3Rpb24pID09PSBudWxsIHx8IF9pdGVtJHByb21vdGlvbjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfaXRlbSRwcm9tb3Rpb24zJGN1c3QgPSBfaXRlbSRwcm9tb3Rpb24zLmN1c3RvbWVyVHlwZSkgPT09IG51bGwgfHwgX2l0ZW0kcHJvbW90aW9uMyRjdXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9tb3Rpb24zJGN1c3QubmFtZSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGUsIHsKICAgICAgICAgIHN0cmlwZWQ6IHRydWUsCiAgICAgICAgICByZXNwb25zaXZlOiB0cnVlCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoZWFkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY2VudGVyIgogICAgICAgIH0sICIjIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJUXHhFQW4gc1x1MUVBM24gcGhcdTFFQTltIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIG51bGwsICJNXHhGNCB0XHUxRUEzIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNlbnRlciIKICAgICAgICB9LCAiU1x1MUVEMSBsXHUwMUIwXHUxRUUzbmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgIlx1MDExMFx1MDFBMW4gZ2lceEUxIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgICAgIH0sICJDaGlcdTFFQkZ0IGtoXHUxRUE1dSglKSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCAiVFx1MUVENW5nIikpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRib2R5IiwgbnVsbCwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLm9yZGVyRGV0YWlscy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICB2YXIgX2l0ZW0kcHJvZHVjdCwgX2l0ZW0kcHJvZHVjdDIsIF9pdGVtJHByb2R1Y3QzLCBfaXRlbSRwcm9kdWN0MyRwcmljZSwgX2l0ZW0kcHJvZHVjdDQsIF9pdGVtJHByb2R1Y3Q1LCBfaXRlbSRwcm9kdWN0NjsKCiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgewogICAgICAgICAgICBrZXk6IGluZGV4CiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpbmRleCArIDEpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoX2l0ZW0kcHJvZHVjdCA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdC5uYW1lKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKF9pdGVtJHByb2R1Y3QyID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDIuZGVzY3JpcHRpb24pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpdGVtLnF1YW50aXR5KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKChfaXRlbSRwcm9kdWN0MyA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfaXRlbSRwcm9kdWN0MyRwcmljZSA9IF9pdGVtJHByb2R1Y3QzLnByaWNlKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MyRwcmljZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDMkcHJpY2UudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgICB9KSkgfHwgJycpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpdGVtLnJlZHVjZVBlcmNlbnQsICIlIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsICgoKF9pdGVtJHByb2R1Y3Q0ID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDQucHJpY2UpICogaXRlbS5xdWFudGl0eSkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgICB9KSB8fCAnJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsICgoKF9pdGVtJHByb2R1Y3Q1ID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDUucHJpY2UpICogaXRlbS5xdWFudGl0eSAtICgoX2l0ZW0kcHJvZHVjdDYgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3Q2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0Ni5wcmljZSkgKiBpdGVtLnF1YW50aXR5ICogaXRlbS5yZWR1Y2VQZXJjZW50IC8gMTAwKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgICAgICBjdXJyZW5jeTogJ1ZORCcKICAgICAgICAgIH0pIHx8ICcnKSk7CiAgICAgICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgICAgbGc6ICI0IiwKICAgICAgICAgIHNtOiAiNSIKICAgICAgICB9LCAiR2hpIGNoXHhGQTogIiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5ub3RlKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICAgIGxnOiAiNCIsCiAgICAgICAgICBzbTogIjUiLAogICAgICAgICAgY2xhc3NOYW1lOiAibWwtYXV0byIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICAgICAgY2xhc3NOYW1lOiAidGFibGUtY2xlYXIiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRib2R5IiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIlRcdTFFRDVuZyBzXHUxRUQxIGxcdTAxQjBcdTFFRTNuZyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5vcmRlckRldGFpbHMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGN1cnJlbnQpIHsKICAgICAgICAgIHJldHVybiBzdW0gKyBjdXJyZW50LnF1YW50aXR5OwogICAgICAgIH0sIDApKSB8fCAnJykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJsZWZ0IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiVFx1MUVENW5nIHRpXHUxRUMxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5vcmRlckRldGFpbHMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGN1cnJlbnQpIHsKICAgICAgICAgIHZhciBfY3VycmVudCRwcm9kdWN0OwoKICAgICAgICAgIHJldHVybiBzdW0gKyAoKF9jdXJyZW50JHByb2R1Y3QgPSBjdXJyZW50LnByb2R1Y3QpID09PSBudWxsIHx8IF9jdXJyZW50JHByb2R1Y3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jdXJyZW50JHByb2R1Y3QucHJpY2UpICogY3VycmVudC5xdWFudGl0eTsKICAgICAgICB9LCAwKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgIH0pKSB8fCAnJykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJsZWZ0IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiQ2hpXHUxRUJGdCBraFx1MUVBNXUiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgICAgIH0sIChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0ub3JkZXJEZXRhaWxzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50KSB7CiAgICAgICAgICB2YXIgX2N1cnJlbnQkcHJvZHVjdDI7CgogICAgICAgICAgcmV0dXJuIHN1bSArICgoX2N1cnJlbnQkcHJvZHVjdDIgPSBjdXJyZW50LnByb2R1Y3QpID09PSBudWxsIHx8IF9jdXJyZW50JHByb2R1Y3QyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY3VycmVudCRwcm9kdWN0Mi5wcmljZSkgKiBjdXJyZW50LnF1YW50aXR5ICogY3VycmVudC5yZWR1Y2VQZXJjZW50IC8gMTAwOwogICAgICAgIH0sIDApLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgfSkpIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsICJUaVx1MUVDMW4gdGhhbmggdG9ceEUxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0ub3JkZXJEZXRhaWxzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50KSB7CiAgICAgICAgICB2YXIgX2N1cnJlbnQkcHJvZHVjdDMsIF9jdXJyZW50JHByb2R1Y3Q0OwoKICAgICAgICAgIHJldHVybiBzdW0gKyAoKChfY3VycmVudCRwcm9kdWN0MyA9IGN1cnJlbnQucHJvZHVjdCkgPT09IG51bGwgfHwgX2N1cnJlbnQkcHJvZHVjdDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jdXJyZW50JHByb2R1Y3QzLnByaWNlKSAqIGN1cnJlbnQucXVhbnRpdHkgLSAoKF9jdXJyZW50JHByb2R1Y3Q0ID0gY3VycmVudC5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfY3VycmVudCRwcm9kdWN0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2N1cnJlbnQkcHJvZHVjdDQucHJpY2UpICogY3VycmVudC5xdWFudGl0eSAqIGN1cnJlbnQucmVkdWNlUGVyY2VudCAvIDEwMCk7CiAgICAgICAgfSwgMCkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICBjdXJyZW5jeTogJ1ZORCcKICAgICAgICB9KSkgfHwgJycpKSkpKSkpKSk7CiAgICAgIH0KICAgIH0KICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1BhZ2luYXRpb24sIHsKICAgIGFjdGl2ZVBhZ2U6IGFjdGl2ZVBhZ2UsCiAgICBwYWdlczogTWF0aC5mbG9vcihpbml0aWFsU3RhdGUudG90YWxJdGVtIC8gMjApICsgMSwKICAgIG9uQWN0aXZlUGFnZUNoYW5nZTogZnVuY3Rpb24gb25BY3RpdmVQYWdlQ2hhbmdlKGkpIHsKICAgICAgcmV0dXJuIHNldEFjdGl2ZVBhZ2UoaSk7CiAgICB9CiAgfSkpKTsKfTsKCmV4cG9ydCBkZWZhdWx0IE9yZGVyOw=="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/Order.js"],"names":["React","useEffect","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CCol","CPagination","CIcon","useDispatch","useSelector","getOrder","updateStatusOrder","globalizedOrdersSelectors","reset","useHistory","Table","OrderStatus","confirmAlert","getBadge","status","mappingStatus","WAITING","APPROVED","CREATE_COD","CANCEL","Order","props","details","setDetails","state","order","initialState","activePage","setActivePage","size","dispatch","history","localStorage","setItem","JSON","stringify","selectAll","orders","page","sort","computedItems","items","map","item","customerName","customer","name","tel","quantity","orderDetails","reduce","sum","prev","total","current","priceTotal","toLocaleString","style","currency","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","filter","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateOrder","push","match","url","onFilterColumn","value","keys","length","toEditOrder","typeId","updatingSuccess","approveOrder","cancelOrder","deleteOrder","DELETED","createCodOrder","approveAlert","title","message","buttons","onClick","cancelAlert","deleteAlert","codAlert","renderButtonStatus","id","val","console","log","createdDate","substr","show_details","action","includes","contactName","address","district","city","email","promotion","description","customerType","product","price","reducePercent","note","Math","floor","totalItem","i"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,SAAR,EAAmBC,MAAnB,EAA2BC,OAA3B,EAAoCC,SAApC,EAA+CC,UAA/C,EAA2DC,KAA3D,EAAkEC,WAAlE,EAA+EC,IAA/E,EAAqFC,IAArF,EAA2FC,WAA3F,QAA6G,eAA7G;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,QAAR,EAAkBC,iBAAlB,QAA0C,aAA1C;AACA,SAAQC,yBAAR,EAAmCC,KAAnC,QAA+C,iBAA/C;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,KAAR,QAAoB,YAApB;AACA,SAAQC,WAAR,QAA0B,gBAA1B;AACA,SAAQC,YAAR,QAA2B,qBAA3B,C,CAAkD;;AAClD,OAAO,iDAAP,C,CAA0D;;AAC1D,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,MAAD,EAAY;AAC3B,UAAQA,MAAR;AACE,SAAK,QAAL;AACE,aAAO,SAAP;;AACF,SAAK,UAAL;AACE,aAAO,QAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF,SAAK,QAAL;AACE,aAAO,QAAP;;AACF;AACE,aAAO,SAAP;AAVJ;AAYD,CAbD;;AAcA,IAAMC,aAAa,GAAG;AACpBC,EAAAA,OAAO,EAAE,WADW;AAEpBC,EAAAA,QAAQ,EAAE,UAFU;AAGpBC,EAAAA,UAAU,EAAE,gBAHQ;AAIpBC,EAAAA,MAAM,EAAE;AAJY,CAAtB;;AAMA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAW;AAAA,kBACO9B,QAAQ,CAAC,EAAD,CADf;AAAA;AAAA,MAChB+B,QADgB;AAAA,MACPC,UADO;;AAAA,qBAEAnB,WAAW,CAAC,UAACoB,KAAD;AAAA,WAAWA,KAAK,CAACC,KAAjB;AAAA,GAAD,CAFX;AAAA,MAEhBC,YAFgB,gBAEhBA,YAFgB;;AAAA,mBAGanC,QAAQ,CAAC,CAAD,CAHrB;AAAA;AAAA,MAGhBoC,UAHgB;AAAA,MAGJC,aAHI;;AAAA,mBAIRrC,QAAQ,CAAC,EAAD,CAJA;AAAA;AAAA,MAIhBsC,IAJgB;;AAKvB,MAAMC,QAAQ,GAAG3B,WAAW,EAA5B;AACA,MAAM4B,OAAO,GAAGtB,UAAU,EAA1B;AACAnB,EAAAA,SAAS,CAAC,YAAM;AACdwC,IAAAA,QAAQ,CAACtB,KAAK,EAAN,CAAR;AACAwB,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe,EAAf,CAA9B;AACD,GAHQ,EAGN,EAHM,CAAT;AAPuB,MAWhBC,SAXgB,GAWH7B,yBAXG,CAWhB6B,SAXgB;AAYvB,MAAMC,MAAM,GAAGjC,WAAW,CAACgC,SAAD,CAA1B;AAEA9C,EAAAA,SAAS,CAAC,YAAM;AACdwC,IAAAA,QAAQ,CAACzB,QAAQ,CAAC;AAACiC,MAAAA,IAAI,EAAEX,UAAU,GAAG,CAApB;AAAuBE,MAAAA,IAAI,EAAEA,IAA7B;AAAmCU,MAAAA,IAAI,EAAE;AAAzC,KAAD,CAAT,CAAR;AACD,GAFQ,EAEN,CAACZ,UAAD,CAFM,CAAT;;AAIA,MAAMa,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC/B,WAAOA,KAAK,CAACC,GAAN,CAAU,UAACC,IAAD,EAAU;AAAA;;AACzB,6CACKA,IADL;AAEEC,QAAAA,YAAY,oBAAED,IAAI,CAACE,QAAP,mDAAE,eAAeC,IAF/B;AAGEC,QAAAA,GAAG,qBAAEJ,IAAI,CAACE,QAAP,oDAAE,gBAAeE,GAHtB;AAIEC,QAAAA,QAAQ,wBAAEL,IAAI,CAACM,YAAP,uDAAE,mBAAmBC,MAAnB,CAA0B,UAACC,GAAD,EAAMC,IAAN;AAAA,iBAAeD,GAAG,GAAGC,IAAI,CAACJ,QAA1B;AAAA,SAA1B,EAA8D,CAA9D,CAJZ;AAKEK,QAAAA,KAAK,yBAAEV,IAAI,CAACM,YAAP,wDAAE,oBACDC,MADC,CACM,UAACC,GAAD,EAAMG,OAAN;AAAA,iBAAkBH,GAAG,GAAGG,OAAO,CAACC,UAAhC;AAAA,SADN,EACkD,CADlD,EAEFC,cAFE,CAEa,OAFb,EAEsB;AAACC,UAAAA,KAAK,EAAE,UAAR;AAAoBC,UAAAA,QAAQ,EAAE;AAA9B,SAFtB;AALT;AASD,KAVM,CAAP;AAWD,GAZD;;AAcA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC/B,QAAMC,QAAQ,GAAGvC,QAAO,CAACwC,OAAR,CAAgBF,KAAhB,CAAjB;;AACA,QAAIG,UAAU,GAAGzC,QAAO,CAAC0C,KAAR,EAAjB;;AACA,QAAIH,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBE,MAAAA,UAAU,CAACE,MAAX,CAAkBJ,QAAlB,EAA4B,CAA5B;AACD,KAFD,MAEO;AACLE,MAAAA,UAAU,gCAAOzC,QAAP,IAAgBsC,KAAhB,EAAV;AACD;;AACDrC,IAAAA,UAAU,CAACwC,UAAD,CAAV;AACD,GATD,CAhCuB,CA2CvB;;;AACA,MAAMG,MAAM,GAAG,CACb;AACEC,IAAAA,GAAG,EAAE,OADP;AAEEC,IAAAA,KAAK,EAAE,KAFT;AAGEC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR,KAHV;AAIEC,IAAAA,MAAM,EAAE;AAJV,GADa,EAOb;AACEJ,IAAAA,GAAG,EAAE,cADP;AAEEC,IAAAA,KAAK,EAAE,cAFT;AAGEC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR,KAHV;AAIEC,IAAAA,MAAM,EAAE;AAJV,GAPa,EAab;AAACJ,IAAAA,GAAG,EAAE,MAAN;AAAcC,IAAAA,KAAK,EAAE,aAArB;AAAoCC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR;AAA5C,GAba,EAcb;AAACH,IAAAA,GAAG,EAAE,cAAN;AAAsBC,IAAAA,KAAK,EAAE,uBAA7B;AAAsDC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR;AAA9D,GAda,EAeb;AAACH,IAAAA,GAAG,EAAE,KAAN;AAAaC,IAAAA,KAAK,EAAE,eAApB;AAAqCC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR;AAA7C,GAfa,EAgBb;AAACH,IAAAA,GAAG,EAAE,UAAN;AAAkBC,IAAAA,KAAK,EAAE,eAAzB;AAA0CC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR;AAAlD,GAhBa,EAiBb;AAACH,IAAAA,GAAG,EAAE,OAAN;AAAeC,IAAAA,KAAK,EAAE,iBAAtB;AAAyCC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR;AAAjD,GAjBa,EAkBb;AAACH,IAAAA,GAAG,EAAE,aAAN;AAAqBC,IAAAA,KAAK,EAAE,UAA5B;AAAwCC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR;AAAhD,GAlBa,EAmBb;AAACH,IAAAA,GAAG,EAAE,QAAN;AAAgBC,IAAAA,KAAK,EAAE,YAAvB;AAAqCC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR;AAA7C,GAnBa,EAoBb;AACEH,IAAAA,GAAG,EAAE,QADP;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,MAAM,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR,KAHV;AAIEC,IAAAA,MAAM,EAAE;AAJV,GApBa,CAAf;;AA4BA,MAAM1D,QAAQ,GAAG,SAAXA,QAAW,CAACC,MAAD,EAAY;AAC3B,YAAQA,MAAR;AACE,WAAK,UAAL;AACE,eAAO,SAAP;;AACF,WAAK,YAAL;AACE,eAAO,MAAP;;AACF,WAAK,SAAL;AACE,eAAO,SAAP;;AACF,WAAK,QAAL;AACE,eAAO,QAAP;;AACF;AACE,eAAO,SAAP;AAVJ;AAYD,GAbD;;AAcA,MAAM0D,UAAU,GAAGnC,MAAM,CAACK,GAAP,CAAW,UAACC,IAAD;AAAA,WAAU8B,MAAM,CAACC,MAAP,CAAc/B,IAAd,EAAoBgC,IAApB,CAAyB,GAAzB,CAAV;AAAA,GAAX,EAAoDA,IAApD,CAAyD,IAAzD,CAAnB;AACA,MAAMC,OAAO,GAAG,yCAAyCC,kBAAkB,CAACL,UAAD,CAA3E;;AACA,MAAMM,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B/C,IAAAA,OAAO,CAACgD,IAAR,WAAgB1D,KAAK,CAAC2D,KAAN,CAAYC,GAA5B;AACD,GAFD;;AAIA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AAChC,QAAIV,MAAM,CAACW,IAAP,CAAYD,KAAZ,EAAmBE,MAAnB,GAA4B,CAAhC,EAAmC;AACjCvD,MAAAA,QAAQ,CAACzB,QAAQ;AAAEiC,QAAAA,IAAI,EAAE,CAAR;AAAWT,QAAAA,IAAI,EAAEA,IAAjB;AAAuBU,QAAAA,IAAI,EAAE;AAA7B,SAAoD4C,KAApD,EAAT,CAAR;AACD;AACF,GAJD;;AAMA,MAAMG,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD,EAAY;AAC9BxD,IAAAA,OAAO,CAACgD,IAAR,WAAgB1D,KAAK,CAAC2D,KAAN,CAAYC,GAA5B,cAAmCM,MAAnC;AACD,GAFD;;AAIAjG,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIoC,YAAY,CAAC8D,eAAjB,EAAkC;AAChC1D,MAAAA,QAAQ,CAACzB,QAAQ,EAAT,CAAR;AACAyB,MAAAA,QAAQ,CAACtB,KAAK,EAAN,CAAR;AACD;AACF,GALQ,EAKN,CAACkB,YAAY,CAAC8D,eAAd,CALM,CAAT;;AAOA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAChE,KAAD;AAAA,WAAW,YAAM;AACpCA,MAAAA,KAAK,CAACX,MAAN,GAAeH,WAAW,CAACM,QAA3B;AACAa,MAAAA,QAAQ,CAACxB,iBAAiB,CAACmB,KAAD,CAAlB,CAAR;AACD,KAHoB;AAAA,GAArB;;AAKA,MAAMiE,WAAW,GAAG,SAAdA,WAAc,CAACjE,KAAD;AAAA,WAAW,YAAM;AACnCA,MAAAA,KAAK,CAACX,MAAN,GAAeH,WAAW,CAACQ,MAA3B;AACAW,MAAAA,QAAQ,CAACxB,iBAAiB,CAACmB,KAAD,CAAlB,CAAR;AACD,KAHmB;AAAA,GAApB;;AAKA,MAAMkE,WAAW,GAAG,SAAdA,WAAc,CAAClE,KAAD;AAAA,WAAW,YAAM;AACnCA,MAAAA,KAAK,CAACX,MAAN,GAAeH,WAAW,CAACiF,OAA3B;AACA9D,MAAAA,QAAQ,CAACxB,iBAAiB,CAACmB,KAAD,CAAlB,CAAR;AACD,KAHmB;AAAA,GAApB;;AAKA,MAAMoE,cAAc,GAAG,SAAjBA,cAAiB,CAACpE,KAAD;AAAA,WAAW,YAAM;AACtCA,MAAAA,KAAK,CAACX,MAAN,GAAeH,WAAW,CAACO,UAA3B;AACAY,MAAAA,QAAQ,CAACxB,iBAAiB,CAACmB,KAAD,CAAlB,CAAR;AACD,KAHsB;AAAA,GAAvB;;AAKA,MAAMqE,YAAY,GAAG,SAAfA,YAAe,CAACnD,IAAD,EAAU;AAC7B/B,IAAAA,YAAY,CAAC;AACXmF,MAAAA,KAAK,EAAE,UADI;AAEXC,MAAAA,OAAO,EAAE,2CAFE;AAGXC,MAAAA,OAAO,EAAE,CACP;AACE7B,QAAAA,KAAK,EAAE,QADT;AAEE8B,QAAAA,OAAO,EAAET,YAAY,CAAC9C,IAAD;AAFvB,OADO,EAKP;AACEyB,QAAAA,KAAK,EAAE;AADT,OALO;AAHE,KAAD,CAAZ;AAaD,GAdD;;AAgBA,MAAM+B,WAAW,GAAG,SAAdA,WAAc,CAACxD,IAAD,EAAU;AAC5B/B,IAAAA,YAAY,CAAC;AACXmF,MAAAA,KAAK,EAAE,UADI;AAEXC,MAAAA,OAAO,EAAE,yCAFE;AAGXC,MAAAA,OAAO,EAAE,CACP;AACE7B,QAAAA,KAAK,EAAE,QADT;AAEE8B,QAAAA,OAAO,EAAER,WAAW,CAAC/C,IAAD;AAFtB,OADO,EAKP;AACEyB,QAAAA,KAAK,EAAE;AADT,OALO;AAHE,KAAD,CAAZ;AAaD,GAdD;;AAgBA,MAAMgC,WAAW,GAAG,SAAdA,WAAc,CAACzD,IAAD,EAAU;AAC5B/B,IAAAA,YAAY,CAAC;AACXmF,MAAAA,KAAK,EAAE,UADI;AAEXC,MAAAA,OAAO,EAAE,yCAFE;AAGXC,MAAAA,OAAO,EAAE,CACP;AACE7B,QAAAA,KAAK,EAAE,QADT;AAEE8B,QAAAA,OAAO,EAAEP,WAAW,CAAChD,IAAD;AAFtB,OADO,EAKP;AACEyB,QAAAA,KAAK,EAAE;AADT,OALO;AAHE,KAAD,CAAZ;AAaD,GAdD;;AAgBA,MAAMiC,QAAQ,GAAG,SAAXA,QAAW,CAAC1D,IAAD,EAAU;AACzB/B,IAAAA,YAAY,CAAC;AACXmF,MAAAA,KAAK,EAAE,UADI;AAEXC,MAAAA,OAAO,EAAE,qDAFE;AAGXC,MAAAA,OAAO,EAAE,CACP;AACE7B,QAAAA,KAAK,EAAE,QADT;AAEE8B,QAAAA,OAAO,EAAEL,cAAc,CAAClD,IAAD;AAFzB,OADO,EAKP;AACEyB,QAAAA,KAAK,EAAE;AADT,OALO;AAHE,KAAD,CAAZ;AAaD,GAdD;;AAeA,MAAMkC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAC3D,IAAD,EAAU;AACnC,YAAQA,IAAI,CAAC7B,MAAb;AACE,WAAKH,WAAW,CAACK,OAAjB;AACE,4BACE,oBAAC,IAAD,qBACE,oBAAC,OAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACb8E,YAAAA,YAAY,CAACnD,IAAD,CAAZ;AACD,WAHH;AAIE,UAAA,KAAK,EAAC,SAJR;AAKE,UAAA,OAAO,EAAC,SALV;AAME,UAAA,KAAK,EAAC,QANR;AAOE,UAAA,IAAI,EAAC,IAPP;AAQE,UAAA,SAAS,EAAC;AARZ,8CADF,eAaE,oBAAC,OAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACbwD,YAAAA,WAAW,CAACxD,IAAD,CAAX;AACD,WAHH;AAIE,UAAA,KAAK,EAAC,QAJR;AAKE,UAAA,OAAO,EAAC,SALV;AAME,UAAA,KAAK,EAAC,QANR;AAOE,UAAA,IAAI,EAAC;AAPP,4CAbF,CADF;;AA2BF,WAAKhC,WAAW,CAACM,QAAjB;AACE,4BACE,oBAAC,IAAD,qBACE,oBAAC,OAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACboF,YAAAA,QAAQ,CAAC1D,IAAD,CAAR;AACD,WAHH;AAIE,UAAA,KAAK,EAAC,SAJR;AAKE,UAAA,OAAO,EAAC,SALV;AAME,UAAA,KAAK,EAAC,QANR;AAOE,UAAA,IAAI,EAAC,IAPP;AAQE,UAAA,SAAS,EAAC;AARZ,6CADF,eAaE,oBAAC,OAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACb2C,YAAAA,WAAW,CAAC3C,IAAI,CAAC4D,EAAN,CAAX;AACD,WAHH;AAIE,UAAA,KAAK,EAAC,SAJR;AAKE,UAAA,OAAO,EAAC,SALV;AAME,UAAA,KAAK,EAAC,QANR;AAOE,UAAA,IAAI,EAAC;AAPP,wBASE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UATF,wBAbF,CADF;;AA4BF,WAAK5F,WAAW,CAACO,UAAjB;AACE,4BACE,oBAAC,OAAD;AAAS,UAAA,KAAK,EAAC,MAAf;AAAsB,UAAA,OAAO,EAAC,SAA9B;AAAwC,UAAA,KAAK,EAAC,QAA9C;AAAuD,UAAA,IAAI,EAAC;AAA5D,wCADF;;AAKF,WAAKP,WAAW,CAACQ,MAAjB;AACE,4BACE,oBAAC,IAAD,qBACE,oBAAC,OAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACbmE,YAAAA,WAAW,CAAC3C,IAAI,CAAC4D,EAAN,CAAX;AACD,WAHH;AAIE,UAAA,KAAK,EAAC,SAJR;AAKE,UAAA,OAAO,EAAC,SALV;AAME,UAAA,KAAK,EAAC,QANR;AAOE,UAAA,IAAI,EAAC,IAPP;AAQE,UAAA,SAAS,EAAC;AARZ,wBAUE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UAVF,wBADF,eAcE,oBAAC,OAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACbH,YAAAA,WAAW,CAACzD,IAAD,CAAX;AACD,WAHH;AAIE,UAAA,KAAK,EAAC,WAJR;AAKE,UAAA,OAAO,EAAC,SALV;AAME,UAAA,KAAK,EAAC,QANR;AAOE,UAAA,IAAI,EAAC,IAPP;AAQE,UAAA,SAAS,EAAC;AARZ,kCAdF,CADF;;AA6BF;AACE;AA/FJ;AAiGD,GAlGD;;AAoGA,sBACE,oBAAC,KAAD,qBACE,oBAAC,WAAD,qBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC;AAAZ,IADF,uDAEE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,OAAO,EAAC,SAAjC;AAA2C,IAAA,SAAS,EAAC,MAArD;AAA4D,IAAA,OAAO,EAAEmC;AAArE,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC;AAAZ,IADF,sBAFF,CADF,eAOE,oBAAC,SAAD,qBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,SAAS,EAAC,MAAnC;AAA0C,IAAA,IAAI,EAAEF,OAAhD;AAAyD,IAAA,QAAQ,EAAC,mBAAlE;AAAsF,IAAA,MAAM,EAAC;AAA7F,6BADF,eAIE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAEpC,aAAa,CAACH,MAAD,CADtB;AAEE,IAAA,MAAM,EAAE6B,MAFV;AAGE,IAAA,YAAY,MAHd;AAIE,IAAA,WAAW,MAJb;AAKE,IAAA,OAAO,MALT;AAME,IAAA,kBAAkB,EAAE;AAACE,MAAAA,KAAK,EAAE,yBAAR;AAAmCM,MAAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT;AAA3C,KANtB;AAOE,IAAA,YAAY,EAAE,EAPhB;AAQE,IAAA,KAAK,MARP;AASE,IAAA,MAAM,MATR,CAUE;AACA;AAXF;AAYE,IAAA,YAAY,EAAE,sBAAC8B,GAAD;AAAA,aAASC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,GAAzB,CAAT;AAAA,KAZhB;AAaE,IAAA,aAAa,EAAE,uBAACA,GAAD;AAAA,aAASC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,GAA1B,CAAT;AAAA,KAbjB;AAcE,IAAA,kBAAkB,EAAE,4BAACA,GAAD;AAAA,aAASC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,GAA/B,CAAT;AAAA,KAdtB,CAeE;AACA;AAhBF;AAiBE,IAAA,mBAAmB,EAAE,6BAACA,GAAD;AAAA,aAASC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC,CAAT;AAAA,KAjBvB;AAkBE,IAAA,oBAAoB,EAAEtB,cAlBxB;AAmBE,IAAA,WAAW,EAAE;AACXzD,MAAAA,KAAK,EAAE,eAACkB,IAAD,EAAOiB,KAAP;AAAA,4BAAiB,gCAAKA,KAAK,GAAG,CAAb,CAAjB;AAAA,OADI;AAEX9C,MAAAA,MAAM,EAAE,gBAAC6B,IAAD;AAAA,4BACN,6CACE,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAE9B,QAAQ,CAAC8B,IAAI,CAAC7B,MAAN;AAAvB,WAAuCC,aAAa,CAAC4B,IAAI,CAAC7B,MAAN,CAApD,CADF,CADM;AAAA,OAFG;AAOX6F,MAAAA,WAAW,EAAE,qBAAChE,IAAD;AAAA,4BAAU,gCAAKA,IAAI,CAACgE,WAAL,CAAiBC,MAAjB,CAAwB,CAAxB,EAA2B,EAA3B,CAAL,CAAV;AAAA,OAPF;AASXC,MAAAA,YAAY,EAAE,sBAAClE,IAAD,EAAU;AACtB,4BACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,KAAK,EAAC,QAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,OAAO,EAAE,mBAAM;AACbgB,YAAAA,aAAa,CAAChB,IAAI,CAAC4D,EAAN,CAAb;AACD;AAPH,wBASE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UATF,CADF,CADF;AAeD,OAzBU;AA0BXO,MAAAA,MAAM,EAAE,gBAACnE,IAAD,EAAU;AAChB,4BAAO;AAAI,UAAA,SAAS,EAAC;AAAd,WAA6B2D,kBAAkB,CAAC3D,IAAD,CAA/C,CAAP;AACD,OA5BU;AA6BXrB,MAAAA,OAAO,EAAE,iBAACqB,IAAD,EAAU;AAAA;;AACjB,4BACE,oBAAC,SAAD;AAAW,UAAA,IAAI,EAAErB,QAAO,CAACyF,QAAR,CAAiBpE,IAAI,CAAC4D,EAAtB;AAAjB,wBACE,oBAAC,SAAD,qBACE,sEADF,eAEE,oBAAC,IAAD;AAAM,UAAA,SAAS,EAAC;AAAhB,wBACE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC;AAAT,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,uBADF,eAEE,8CACE,oCAAS5D,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAEE,QAAN,CAAemE,WAAxB,CADF,CAFF,eAKE,iCAAMrE,IAAN,aAAMA,IAAN,uBAAMA,IAAI,CAAEsE,OAAZ,CALF,eAME,2CAAStE,IAAT,aAASA,IAAT,0CAASA,IAAI,CAAEE,QAAf,6EAAS,gBAAgBqE,QAAzB,0DAAS,sBAA0BpE,IAAnC,eAA4CH,IAA5C,aAA4CA,IAA5C,0CAA4CA,IAAI,CAAEE,QAAlD,4EAA4C,gBAAgBsE,IAA5D,yDAA4C,qBAAsBrE,IAAlE,EANF,eAOE,4CAAaH,IAAb,aAAaA,IAAb,uBAAaA,IAAI,CAAEE,QAAN,CAAeuE,KAA5B,CAPF,eAQE,4CAAazE,IAAb,aAAaA,IAAb,uBAAaA,IAAI,CAAEE,QAAN,CAAeE,GAA5B,CARF,CADF,eAWE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC;AAAT,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,uDADF,eAEE,8CACE,yCAAUJ,IAAV,aAAUA,IAAV,0CAAUA,IAAI,CAAE0E,SAAhB,oDAAU,gBAAiBvE,IAA3B,CADF,CAFF,eAKE,iCAAMH,IAAN,aAAMA,IAAN,2CAAMA,IAAI,CAAE0E,SAAZ,qDAAM,iBAAiBC,WAAvB,CALF,eAME,iEAAuB3E,IAAvB,aAAuBA,IAAvB,2CAAuBA,IAAI,CAAE0E,SAA7B,8EAAuB,iBAAiBE,YAAxC,0DAAuB,sBAA+BzE,IAAtD,CANF,CAXF,CAFF,eAsBE,oBAAC,KAAD;AAAO,UAAA,OAAO,MAAd;AAAe,UAAA,UAAU;AAAzB,wBACE,gDACE,6CACE;AAAI,UAAA,SAAS,EAAC;AAAd,eADF,eAEE,4DAFF,eAGE,gDAHF,eAIE;AAAI,UAAA,SAAS,EAAC;AAAd,qCAJF,eAKE;AAAI,UAAA,SAAS,EAAC;AAAd,kCALF,eAME;AAAI,UAAA,SAAS,EAAC;AAAd,qCANF,eAOE;AAAI,UAAA,SAAS,EAAC;AAAd,uBAPF,CADF,CADF,eAYE,mCACGH,IADH,aACGA,IADH,uBACGA,IAAI,CAAEM,YAAN,CAAmBP,GAAnB,CAAuB,UAACC,IAAD,EAAOiB,KAAP,EAAiB;AAAA;;AACvC,8BACE;AAAI,YAAA,GAAG,EAAEA;AAAT,0BACE,gCAAKA,KAAK,GAAG,CAAb,CADF,eAEE,iDAAKjB,IAAI,CAAC6E,OAAV,kDAAK,cAAc1E,IAAnB,CAFF,eAGE,kDAAKH,IAAI,CAAC6E,OAAV,mDAAK,eAAcF,WAAnB,CAHF,eAIE,gCAAK3E,IAAI,CAACK,QAAV,CAJF,eAKE,gCAAK,mBAAAL,IAAI,CAAC6E,OAAL,0FAAcC,KAAd,8EAAqBjE,cAArB,CAAoC,OAApC,EAA6C;AAACC,YAAAA,KAAK,EAAE,UAAR;AAAoBC,YAAAA,QAAQ,EAAE;AAA9B,WAA7C,MAAsF,EAA3F,CALF,eAME,gCAAKf,IAAI,CAAC+E,aAAV,MANF,eAOE,gCACG,CAAC,mBAAA/E,IAAI,CAAC6E,OAAL,kEAAcC,KAAd,IAAsB9E,IAAI,CAACK,QAA5B,EAAsCQ,cAAtC,CAAqD,OAArD,EAA8D;AAACC,YAAAA,KAAK,EAAE,UAAR;AAAoBC,YAAAA,QAAQ,EAAE;AAA9B,WAA9D,KACC,EAFJ,CAPF,eAWE,gCACG,CACC,mBAAAf,IAAI,CAAC6E,OAAL,kEAAcC,KAAd,IAAsB9E,IAAI,CAACK,QAA3B,GACC,mBAAAL,IAAI,CAAC6E,OAAL,kEAAcC,KAAd,IAAsB9E,IAAI,CAACK,QAA3B,GAAsCL,IAAI,CAAC+E,aAA5C,GAA6D,GAF9D,EAGClE,cAHD,CAGgB,OAHhB,EAGyB;AACxBC,YAAAA,KAAK,EAAE,UADiB;AAExBC,YAAAA,QAAQ,EAAE;AAFc,WAHzB,KAMK,EAPR,CAXF,CADF;AAuBD,SAxBA,CADH,CAZF,CAtBF,eA8DE,oBAAC,IAAD,qBACE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAa,UAAA,EAAE,EAAC;AAAhB,wCACW,oCAASf,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAEgF,IAAf,CADX,CADF,eAIE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAa,UAAA,EAAE,EAAC,GAAhB;AAAoB,UAAA,SAAS,EAAC;AAA9B,wBACE,oBAAC,KAAD;AAAO,UAAA,SAAS,EAAC;AAAjB,wBACE,gDACE,6CACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE,wEADF,CADF,eAIE;AAAI,UAAA,SAAS,EAAC;AAAd,WAAuB,CAAAhF,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEM,YAAN,CAAmBC,MAAnB,CAA0B,UAACC,GAAD,EAAMG,OAAN;AAAA,iBAAkBH,GAAG,GAAGG,OAAO,CAACN,QAAhC;AAAA,SAA1B,EAAoE,CAApE,MAA0E,EAAjG,CAJF,CADF,eAOE,6CACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE,0DADF,CADF,eAIE;AAAI,UAAA,SAAS,EAAC;AAAd,WACG,CAAAL,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEM,YAAN,CACIC,MADJ,CACW,UAACC,GAAD,EAAMG,OAAN;AAAA;;AAAA,iBAAkBH,GAAG,GAAG,qBAAAG,OAAO,CAACkE,OAAR,sEAAiBC,KAAjB,IAAyBnE,OAAO,CAACN,QAAzD;AAAA,SADX,EAC8E,CAD9E,EAEIQ,cAFJ,CAEmB,OAFnB,EAE4B;AAACC,UAAAA,KAAK,EAAE,UAAR;AAAoBC,UAAAA,QAAQ,EAAE;AAA9B,SAF5B,MAEqE,EAHxE,CAJF,CAPF,eAiBE,6CACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE,2DADF,CADF,eAIE;AAAI,UAAA,SAAS,EAAC;AAAd,WACG,CAAAf,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEM,YAAN,CACIC,MADJ,CAEO,UAACC,GAAD,EAAMG,OAAN;AAAA;;AAAA,iBAAkBH,GAAG,GAAI,sBAAAG,OAAO,CAACkE,OAAR,wEAAiBC,KAAjB,IAAyBnE,OAAO,CAACN,QAAjC,GAA4CM,OAAO,CAACoE,aAArD,GAAsE,GAA9F;AAAA,SAFP,EAGO,CAHP,EAKIlE,cALJ,CAKmB,OALnB,EAK4B;AAACC,UAAAA,KAAK,EAAE,UAAR;AAAoBC,UAAAA,QAAQ,EAAE;AAA9B,SAL5B,MAKqE,EANxE,CAJF,CAjBF,eA8BE,6CACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE,8DADF,CADF,eAIE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE,oCACG,CAAAf,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEM,YAAN,CACIC,MADJ,CAEO,UAACC,GAAD,EAAMG,OAAN;AAAA;;AAAA,iBACEH,GAAG,IACN,sBAAAG,OAAO,CAACkE,OAAR,wEAAiBC,KAAjB,IAAyBnE,OAAO,CAACN,QAAjC,GACE,sBAAAM,OAAO,CAACkE,OAAR,wEAAiBC,KAAjB,IAAyBnE,OAAO,CAACN,QAAjC,GAA4CM,OAAO,CAACoE,aAArD,GAAsE,GAFjE,CADL;AAAA,SAFP,EAMO,CANP,EAQIlE,cARJ,CAQmB,OARnB,EAQ4B;AAACC,UAAAA,KAAK,EAAE,UAAR;AAAoBC,UAAAA,QAAQ,EAAE;AAA9B,SAR5B,MAQqE,EATxE,CADF,CAJF,CA9BF,CADF,CADF,CAJF,CA9DF,CADF,CADF;AA6HD;AA3JU;AAnBf,IAJF,eAqLE,oBAAC,WAAD;AACE,IAAA,UAAU,EAAE/B,UADd;AAEE,IAAA,KAAK,EAAEiG,IAAI,CAACC,KAAL,CAAWnG,YAAY,CAACoG,SAAb,GAAyB,EAApC,IAA0C,CAFnD;AAGE,IAAA,kBAAkB,EAAE,4BAACC,CAAD;AAAA,aAAOnG,aAAa,CAACmG,CAAD,CAApB;AAAA;AAHtB,IArLF,CAPF,CADF;AAqMD,CAzeD;;AA2eA,eAAe3G,KAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CCol, CPagination} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {getOrder, updateStatusOrder} from './order.api';\nimport {globalizedOrdersSelectors, reset} from './order.reducer';\nimport {useHistory} from 'react-router-dom';\nimport {Table} from 'reactstrap';\nimport {OrderStatus} from './order-status';\nimport {confirmAlert} from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nconst getBadge = (status) => {\n  switch (status) {\n    case 'ACTIVE':\n      return 'success';\n    case 'INACTIVE':\n      return 'danger';\n    case 'DELETED':\n      return 'warning';\n    case 'Banned':\n      return 'danger';\n    default:\n      return 'primary';\n  }\n};\nconst mappingStatus = {\n  WAITING: 'CHỜ DUYỆT',\n  APPROVED: 'ĐÃ DUYỆT',\n  CREATE_COD: 'ĐÃ TẠO VẬN ĐƠN',\n  CANCEL: 'ĐÃ HỦY',\n};\nconst Order = (props) => {\n  const [details, setDetails] = useState([]);\n  const {initialState} = useSelector((state) => state.order);\n  const [activePage, setActivePage] = useState(1);\n  const [size] = useState(20);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(reset());\n    localStorage.setItem('order', JSON.stringify({}));\n  }, []);\n  const {selectAll} = globalizedOrdersSelectors;\n  const orders = useSelector(selectAll);\n\n  useEffect(() => {\n    dispatch(getOrder({page: activePage - 1, size: size, sort: 'createdDate,desc'}));\n  }, [activePage]);\n\n  const computedItems = (items) => {\n    return items.map((item) => {\n      return {\n        ...item,\n        customerName: item.customer?.name,\n        tel: item.customer?.tel,\n        quantity: item.orderDetails?.reduce((sum, prev) => sum + prev.quantity, 0),\n        total: item.orderDetails\n            ?.reduce((sum, current) => sum + current.priceTotal, 0)\n            .toLocaleString('it-IT', {style: 'currency', currency: 'VND'}),\n      };\n    });\n  };\n\n  const toggleDetails = (index) => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  // Code\tTên cửa hàng/đại lý\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tđơn hàngg\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: {width: '1%'},\n      filter: false,\n    },\n    {\n      key: 'show_details',\n      label: 'Xem chi tiết',\n      _style: {width: '1%'},\n      filter: false,\n    },\n    {key: 'code', label: 'Mã đơn hàng', _style: {width: '10%'}},\n    {key: 'customerName', label: 'Tên khách hàng/đại lý', _style: {width: '15%'}},\n    {key: 'tel', label: 'Số điện thoại', _style: {width: '10%'}},\n    {key: 'quantity', label: 'Tổng sản phẩm', _style: {width: '10%'}},\n    {key: 'total', label: 'Tiền thanh toán', _style: {width: '10%'}},\n    {key: 'createdDate', label: 'Ngày tạo', _style: {width: '10%'}},\n    {key: 'status', label: 'Trạng thái', _style: {width: '10%'}},\n    {\n      key: 'action',\n      label: '',\n      _style: {width: '30%'},\n      filter: false,\n    },\n  ];\n\n  const getBadge = (status) => {\n    switch (status) {\n      case 'APPROVED':\n        return 'success';\n      case 'CREATE_COD':\n        return 'info';\n      case 'WAITING':\n        return 'warning';\n      case 'CANCEL':\n        return 'danger';\n      default:\n        return 'primary';\n    }\n  };\n  const csvContent = orders.map((item) => Object.values(item).join(',')).join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateOrder = () => {\n    history.push(`${props.match.url}/new`);\n  };\n\n  const onFilterColumn = (value) => {\n    if (Object.keys(value).length > 0) {\n      dispatch(getOrder({page: 0, size: size, sort: 'createdDate,desc', ...value}));\n    }\n  };\n\n  const toEditOrder = (typeId) => {\n    history.push(`${props.match.url}/${typeId}/edit`);\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(getOrder());\n      dispatch(reset());\n    }\n  }, [initialState.updatingSuccess]);\n\n  const approveOrder = (order) => () => {\n    order.status = OrderStatus.APPROVED;\n    dispatch(updateStatusOrder(order));\n  };\n\n  const cancelOrder = (order) => () => {\n    order.status = OrderStatus.CANCEL;\n    dispatch(updateStatusOrder(order));\n  };\n\n  const deleteOrder = (order) => () => {\n    order.status = OrderStatus.DELETED;\n    dispatch(updateStatusOrder(order));\n  };\n\n  const createCodOrder = (order) => () => {\n    order.status = OrderStatus.CREATE_COD;\n    dispatch(updateStatusOrder(order));\n  };\n\n  const approveAlert = (item) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: 'Bạn có chắc chắn muốn duyệt đơn hàng này?',\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: approveOrder(item),\n        },\n        {\n          label: 'Hủy',\n        },\n      ],\n    });\n  };\n\n  const cancelAlert = (item) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: 'Bạn có chắc chắn muốn hủy đơn hàng này?',\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: cancelOrder(item),\n        },\n        {\n          label: 'Hủy',\n        },\n      ],\n    });\n  };\n\n  const deleteAlert = (item) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: 'Bạn có chắc chắn muốn xóa đơn hàng này?',\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: deleteOrder(item),\n        },\n        {\n          label: 'Hủy',\n        },\n      ],\n    });\n  };\n\n  const codAlert = (item) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: 'Bạn có chắc chắn muốn tạo vận đơn cho đơn hàng này?',\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: createCodOrder(item),\n        },\n        {\n          label: 'Hủy',\n        },\n      ],\n    });\n  };\n  const renderButtonStatus = (item) => {\n    switch (item.status) {\n      case OrderStatus.WAITING:\n        return (\n          <CRow>\n            <CButton\n              onClick={() => {\n                approveAlert(item);\n              }}\n              color=\"success\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              DUYỆT ĐƠN HÀNG\n            </CButton>\n            <CButton\n              onClick={() => {\n                cancelAlert(item);\n              }}\n              color=\"danger\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n            >\n              HỦY ĐƠN HÀNG\n            </CButton>\n          </CRow>\n        );\n      case OrderStatus.APPROVED:\n        return (\n          <CRow>\n            <CButton\n              onClick={() => {\n                codAlert(item);\n              }}\n              color=\"primary\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              TẠO VẬN ĐƠN\n            </CButton>\n            <CButton\n              onClick={() => {\n                toEditOrder(item.id);\n              }}\n              color=\"warning\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n            >\n              <CIcon name=\"cil-pencil\" />\n              CHỈNH SỬA\n            </CButton>\n          </CRow>\n        );\n      case OrderStatus.CREATE_COD:\n        return (\n          <CButton color=\"info\" variant=\"outline\" shape=\"square\" size=\"sm\">\n            XEM VẬN ĐƠN\n          </CButton>\n        );\n      case OrderStatus.CANCEL:\n        return (\n          <CRow>\n            <CButton\n              onClick={() => {\n                toEditOrder(item.id);\n              }}\n              color=\"warning\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              <CIcon name=\"cil-pencil\" />\n              CHỈNH SỬA\n            </CButton>\n            <CButton\n              onClick={() => {\n                deleteAlert(item);\n              }}\n              color=\"secondary\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              XÓA ĐƠN\n            </CButton>\n          </CRow>\n        );\n      default:\n        break;\n    }\n  };\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách đơn hàngg\n        <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateOrder}>\n          <CIcon name=\"cil-plus\" /> Thêm mới\n        </CButton>\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"customertypes.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CDataTable\n          items={computedItems(orders)}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{label: 'Số lượng trên một trang', values: [20, 30, 50]}}\n          itemsPerPage={20}\n          hover\n          sorter\n          // loading\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={(val) => console.log('new page:', val)}\n          onPagesChange={(val) => console.log('new pages:', val)}\n          onPaginationChange={(val) => console.log('new pagination:', val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={(val) => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            status: (item) => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{mappingStatus[item.status]}</CBadge>\n              </td>\n            ),\n            createdDate: (item) => <td>{item.createdDate.substr(0, 10)}</td>,\n\n            show_details: (item) => {\n              return (\n                <td className=\"py-2 d-flex\">\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                </td>\n              );\n            },\n            action: (item) => {\n              return <td className=\"py-2 d-flex\">{renderButtonStatus(item)}</td>;\n            },\n            details: (item) => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin đơn hàngg</h5>\n                    <CRow className=\"mb-4\">\n                      <CCol sm=\"4\">\n                        <h6 className=\"mb-3\">Tới:</h6>\n                        <div>\n                          <strong>{item?.customer.contactName}</strong>\n                        </div>\n                        <div>{item?.address}</div>\n                        <div>{`${item?.customer?.district?.name}, ${item?.customer?.city?.name}`}</div>\n                        <div>Email: {item?.customer.email}</div>\n                        <div>Phone: {item?.customer.tel}</div>\n                      </CCol>\n                      <CCol sm=\"4\">\n                        <h6 className=\"mb-3\">Chương trình bán hàng:</h6>\n                        <div>\n                          <strong> {item?.promotion?.name}</strong>\n                        </div>\n                        <div>{item?.promotion?.description}</div>\n                        <div>Loại khách hàng: {item?.promotion?.customerType?.name}</div>\n                      </CCol>\n                    </CRow>\n                    <Table striped responsive>\n                      <thead>\n                        <tr>\n                          <th className=\"center\">#</th>\n                          <th>Tên sản phẩm</th>\n                          <th>Mô tả</th>\n                          <th className=\"center\">Số lượng</th>\n                          <th className=\"right\">Đơn giá</th>\n                          <th className=\"right\">Chiết khấu(%)</th>\n                          <th className=\"right\">Tổng</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {item?.orderDetails.map((item, index) => {\n                          return (\n                            <tr key={index}>\n                              <td>{index + 1}</td>\n                              <td>{item.product?.name}</td>\n                              <td>{item.product?.description}</td>\n                              <td>{item.quantity}</td>\n                              <td>{item.product?.price?.toLocaleString('it-IT', {style: 'currency', currency: 'VND'}) || ''}</td>\n                              <td>{item.reducePercent}%</td>\n                              <td>\n                                {(item.product?.price * item.quantity).toLocaleString('it-IT', {style: 'currency', currency: 'VND'}) ||\n                                  ''}\n                              </td>\n                              <td>\n                                {(\n                                  item.product?.price * item.quantity -\n                                  (item.product?.price * item.quantity * item.reducePercent) / 100\n                                ).toLocaleString('it-IT', {\n                                  style: 'currency',\n                                  currency: 'VND',\n                                }) || ''}\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </Table>\n                    <CRow>\n                      <CCol lg=\"4\" sm=\"5\">\n                        Ghi chú: <strong>{item?.note}</strong>\n                      </CCol>\n                      <CCol lg=\"4\" sm=\"5\" className=\"ml-auto\">\n                        <Table className=\"table-clear\">\n                          <tbody>\n                            <tr>\n                              <td className=\"left\">\n                                <strong>Tổng số lượng</strong>\n                              </td>\n                              <td className=\"right\">{item?.orderDetails.reduce((sum, current) => sum + current.quantity, 0) || ''}</td>\n                            </tr>\n                            <tr>\n                              <td className=\"left\">\n                                <strong>Tổng tiền</strong>\n                              </td>\n                              <td className=\"right\">\n                                {item?.orderDetails\n                                    .reduce((sum, current) => sum + current.product?.price * current.quantity, 0)\n                                    .toLocaleString('it-IT', {style: 'currency', currency: 'VND'}) || ''}\n                              </td>\n                            </tr>\n                            <tr>\n                              <td className=\"left\">\n                                <strong>Chiết khấu</strong>\n                              </td>\n                              <td className=\"right\">\n                                {item?.orderDetails\n                                    .reduce(\n                                        (sum, current) => sum + (current.product?.price * current.quantity * current.reducePercent) / 100,\n                                        0,\n                                    )\n                                    .toLocaleString('it-IT', {style: 'currency', currency: 'VND'}) || ''}\n                              </td>\n                            </tr>\n                            <tr>\n                              <td className=\"left\">\n                                <strong>Tiền thanh toán</strong>\n                              </td>\n                              <td className=\"right\">\n                                <strong>\n                                  {item?.orderDetails\n                                      .reduce(\n                                          (sum, current) =>\n                                            sum +\n                                        (current.product?.price * current.quantity -\n                                          (current.product?.price * current.quantity * current.reducePercent) / 100),\n                                          0,\n                                      )\n                                      .toLocaleString('it-IT', {style: 'currency', currency: 'VND'}) || ''}\n                                </strong>\n                              </td>\n                            </tr>\n                          </tbody>\n                        </Table>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              );\n            },\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / 20) + 1}\n          onActivePageChange={(i) => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default Order;\n"]}]}