{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/Order.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/Order.js","mtime":1621950736476},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDQ29sLCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXRPcmRlciwgdXBkYXRlU3RhdHVzT3JkZXIgfSBmcm9tICcuL29yZGVyLmFwaSc7CmltcG9ydCB7IGdsb2JhbGl6ZWRPcmRlcnNTZWxlY3RvcnMsIHJlc2V0IH0gZnJvbSAnLi9vcmRlci5yZWR1Y2VyJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBUYWJsZSB9IGZyb20gJ3JlYWN0c3RyYXAnOwppbXBvcnQgeyBPcmRlclN0YXR1cyB9IGZyb20gJy4vb3JkZXItc3RhdHVzJzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyBjb25maXJtQWxlcnQgfSBmcm9tICdyZWFjdC1jb25maXJtLWFsZXJ0JzsgLy8gSW1wb3J0CgppbXBvcnQgJ3JlYWN0LWNvbmZpcm0tYWxlcnQvc3JjL3JlYWN0LWNvbmZpcm0tYWxlcnQuY3NzJzsgLy8gSW1wb3J0IGNzcwoKaW1wb3J0IHsgdXNlclNhZmVTZWxlY3RvciB9IGZyb20gJy4uLy4uL2xvZ2luL2F1dGhlbnRpY2F0ZS5yZWR1Y2VyLmpzJzsKCnZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHN0YXR1cykgewogIHN3aXRjaCAoc3RhdHVzKSB7CiAgICBjYXNlICdBQ1RJVkUnOgogICAgICByZXR1cm4gJ3N1Y2Nlc3MnOwoKICAgIGNhc2UgJ0RJU0FCTEVEJzoKICAgICAgcmV0dXJuICdkYW5nZXInOwoKICAgIGNhc2UgJ0RFTEVURUQnOgogICAgICByZXR1cm4gJ3dhcm5pbmcnOwoKICAgIGNhc2UgJ0Jhbm5lZCc6CiAgICAgIHJldHVybiAnZGFuZ2VyJzsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gJ3ByaW1hcnknOwogIH0KfTsKCnZhciBtYXBwaW5nU3RhdHVzID0gewogIFdBSVRJTkc6ICdDSOG7nCBEVVnhu4ZUJywKICBBUFBST1ZFRDogJ8SQw4MgRFVZ4buGVCcsCiAgQ1JFQVRFX0NPRDogJ8SQw4MgVOG6oE8gVuG6rE4gxJDGoE4nLAogIENBTkNFTDogJ8SQw4MgSOG7plknCn07CnZhciBzZWxlY3RBbGwgPSBnbG9iYWxpemVkT3JkZXJzU2VsZWN0b3JzLnNlbGVjdEFsbDsKCnZhciBPcmRlciA9IGZ1bmN0aW9uIE9yZGVyKHByb3BzKSB7CiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIF9kZXRhaWxzID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0RGV0YWlscyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5vcmRlcjsKICB9KSwKICAgICAgaW5pdGlhbFN0YXRlID0gX3VzZVNlbGVjdG9yLmluaXRpYWxTdGF0ZTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgxKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBhY3RpdmVQYWdlID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0QWN0aXZlUGFnZSA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoMjApLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMSksCiAgICAgIHNpemUgPSBfdXNlU3RhdGU2WzBdOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKHVzZXJTYWZlU2VsZWN0b3IpLAogICAgICBhY2NvdW50ID0gX3VzZVNlbGVjdG9yMi5hY2NvdW50OwoKICB2YXIgaXNBZG1pbiA9IGFjY291bnQuYXV0aG9yaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gaXRlbSA9PT0gJ1JPTEVfQURNSU4nOwogIH0pLmxlbmd0aCA+IDA7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ29yZGVyJywgSlNPTi5zdHJpbmdpZnkoe30pKTsKICB9LCBbXSk7CiAgdmFyIG9yZGVycyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbCk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRpc3BhdGNoKGdldE9yZGVyKHsKICAgICAgcGFnZTogYWN0aXZlUGFnZSAtIDEsCiAgICAgIHNpemU6IHNpemUsCiAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgfSkpOwogIH0sIFthY3RpdmVQYWdlXSk7CgogIHZhciBjb21wdXRlZEl0ZW1zID0gZnVuY3Rpb24gY29tcHV0ZWRJdGVtcyhpdGVtcykgewogICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgX2l0ZW0kY3VzdG9tZXIsIF9pdGVtJGN1c3RvbWVyMiwgX2l0ZW0kb3JkZXJEZXRhaWxzLCBfTnVtYmVyOwoKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgY3VzdG9tZXJOYW1lOiAoX2l0ZW0kY3VzdG9tZXIgPSBpdGVtLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfaXRlbSRjdXN0b21lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kY3VzdG9tZXIubmFtZSwKICAgICAgICB0ZWw6IChfaXRlbSRjdXN0b21lcjIgPSBpdGVtLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfaXRlbSRjdXN0b21lcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGN1c3RvbWVyMi50ZWwsCiAgICAgICAgcXVhbnRpdHk6IChfaXRlbSRvcmRlckRldGFpbHMgPSBpdGVtLm9yZGVyRGV0YWlscykgPT09IG51bGwgfHwgX2l0ZW0kb3JkZXJEZXRhaWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRvcmRlckRldGFpbHMucmVkdWNlKGZ1bmN0aW9uIChzdW0sIHByZXYpIHsKICAgICAgICAgIHJldHVybiBzdW0gKyBwcmV2LnF1YW50aXR5OwogICAgICAgIH0sIDApLAogICAgICAgIGNyZWF0ZWREYXRlOiBtb21lbnQoaXRlbS5jcmVhdGVkRGF0ZSkuZm9ybWF0KCdERC1NTS1ZWVlZJyksCiAgICAgICAgdG90YWw6ICgoX051bWJlciA9IE51bWJlcihpdGVtLnJlYWxNb25leSkpID09PSBudWxsIHx8IF9OdW1iZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9OdW1iZXIudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICBjdXJyZW5jeTogJ1ZORCcKICAgICAgICB9KSkgfHwgJycKICAgICAgfSk7CiAgICB9KTsKICB9OwoKICB2YXIgdG9nZ2xlRGV0YWlscyA9IGZ1bmN0aW9uIHRvZ2dsZURldGFpbHMoaW5kZXgpIHsKICAgIHZhciBwb3NpdGlvbiA9IF9kZXRhaWxzLmluZGV4T2YoaW5kZXgpOwoKICAgIHZhciBuZXdEZXRhaWxzID0gX2RldGFpbHMuc2xpY2UoKTsKCiAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7CiAgICAgIG5ld0RldGFpbHMuc3BsaWNlKHBvc2l0aW9uLCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIG5ld0RldGFpbHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF9kZXRhaWxzKSwgW2luZGV4XSk7CiAgICB9CgogICAgc2V0RGV0YWlscyhuZXdEZXRhaWxzKTsKICB9OyAvLyBDb2RlCVTDqm4gY+G7rWEgaMOgbmcvxJHhuqFpIGzDvQlOZ8aw4budaSBsacOqbiBs4bqhYwlOxINtIFNpbmgJxJBp4buHbiB0aG/huqFpCU5ow6JuIHZpw6puIHF14bqjbiBsw70JxJHGoW4gaMOgbmdnCVBow6JuIGxv4bqhaQlT4butYQlU4bqhbyDEkcahbgoKCiAgdmFyIGZpZWxkcyA9IFt7CiAgICBrZXk6ICdvcmRlcicsCiAgICBsYWJlbDogJ1NUVCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfSwgewogICAga2V5OiAnc2hvd19kZXRhaWxzJywKICAgIGxhYmVsOiAnWGVtIGNoaSB0aeG6v3QnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMSUnCiAgICB9LAogICAgZmlsdGVyOiBmYWxzZQogIH0sIHsKICAgIGtleTogJ2NvZGUnLAogICAgbGFiZWw6ICdNw6MgxJHGoW4gaMOgbmcnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ2N1c3RvbWVyTmFtZScsCiAgICBsYWJlbDogJ1TDqm4ga2jDoWNoIGjDoG5nL8SR4bqhaSBsw70nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3RlbCcsCiAgICBsYWJlbDogJ1Phu5EgxJFp4buHbiB0aG/huqFpJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdxdWFudGl0eScsCiAgICBsYWJlbDogJ1Thu5VuZyBz4bqjbiBwaOG6qW0nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3RvdGFsJywKICAgIGxhYmVsOiAnVGnhu4FuIHRoYW5oIHRvw6FuJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdjcmVhdGVkRGF0ZScsCiAgICBsYWJlbDogJ05nw6B5IHThuqFvJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdzdGF0dXMnLAogICAgbGFiZWw6ICdUcuG6oW5nIHRow6FpJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdhY3Rpb24nLAogICAgbGFiZWw6ICcnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMzAlJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9XTsKCiAgdmFyIGdldEJhZGdlID0gZnVuY3Rpb24gZ2V0QmFkZ2Uoc3RhdHVzKSB7CiAgICBzd2l0Y2ggKHN0YXR1cykgewogICAgICBjYXNlICdBUFBST1ZFRCc6CiAgICAgICAgcmV0dXJuICdzdWNjZXNzJzsKCiAgICAgIGNhc2UgJ0NSRUFURV9DT0QnOgogICAgICAgIHJldHVybiAnaW5mbyc7CgogICAgICBjYXNlICdXQUlUSU5HJzoKICAgICAgICByZXR1cm4gJ3dhcm5pbmcnOwoKICAgICAgY2FzZSAnQ0FOQ0VMJzoKICAgICAgICByZXR1cm4gJ2Rhbmdlcic7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiAncHJpbWFyeSc7CiAgICB9CiAgfTsKCiAgdmFyIGNzdkNvbnRlbnQgPSBvcmRlcnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpdGVtKS5qb2luKCcsJyk7CiAgfSkuam9pbignXG4nKTsKICB2YXIgY3N2Q29kZSA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsU0VQPSwlMEEnICsgZW5jb2RlVVJJQ29tcG9uZW50KGNzdkNvbnRlbnQpOwoKICB2YXIgdG9DcmVhdGVPcmRlciA9IGZ1bmN0aW9uIHRvQ3JlYXRlT3JkZXIoKSB7CiAgICBoaXN0b3J5LnB1c2goIiIuY29uY2F0KHByb3BzLm1hdGNoLnVybCwgIi9uZXciKSk7CiAgfTsKCiAgdmFyIG9uRmlsdGVyQ29sdW1uID0gZnVuY3Rpb24gb25GaWx0ZXJDb2x1bW4odmFsdWUpIHsKICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMCkgewogICAgICBkaXNwYXRjaChnZXRPcmRlcihfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIHNpemU6IHNpemUsCiAgICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICAgIH0sIHZhbHVlKSkpOwogICAgfQogIH07CgogIHZhciB0b0VkaXRPcmRlciA9IGZ1bmN0aW9uIHRvRWRpdE9yZGVyKHR5cGVJZCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvIikuY29uY2F0KHR5cGVJZCwgIi9lZGl0IikpOwogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2VzcykgewogICAgICBkaXNwYXRjaChnZXRPcmRlcigpKTsKICAgICAgZGlzcGF0Y2gocmVzZXQoKSk7CiAgICB9CiAgfSwgW2luaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3NdKTsKCiAgdmFyIGFwcHJvdmVPcmRlciA9IGZ1bmN0aW9uIGFwcHJvdmVPcmRlcihvcmRlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG5ld09yZGVyID0gewogICAgICAgIGlkOiBvcmRlci5pZCwKICAgICAgICBzdGF0dXM6IE9yZGVyU3RhdHVzLkFQUFJPVkVELAogICAgICAgIGFjdGlvbjogYXBwcm92ZQogICAgICB9OwogICAgICBkaXNwYXRjaCh1cGRhdGVTdGF0dXNPcmRlcihuZXdPcmRlcikpOwogICAgfTsKICB9OwoKICB2YXIgY2FuY2VsT3JkZXIgPSBmdW5jdGlvbiBjYW5jZWxPcmRlcihvcmRlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG5ld09yZGVyID0gewogICAgICAgIGlkOiBvcmRlci5pZCwKICAgICAgICBzdGF0dXM6IE9yZGVyU3RhdHVzLkNBTkNFTCwKICAgICAgICBhY3Rpb246IGNhbmNlbAogICAgICB9OwogICAgICBkaXNwYXRjaCh1cGRhdGVTdGF0dXNPcmRlcihuZXdPcmRlcikpOwogICAgfTsKICB9OwoKICB2YXIgZGVsZXRlT3JkZXIgPSBmdW5jdGlvbiBkZWxldGVPcmRlcihvcmRlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG5ld09yZGVyID0gewogICAgICAgIGlkOiBvcmRlci5pZCwKICAgICAgICBzdGF0dXM6IE9yZGVyU3RhdHVzLkRFTEVURUQsCiAgICAgICAgYWN0aW9uOiAnZGVsZXRlJwogICAgICB9OwogICAgICBkaXNwYXRjaCh1cGRhdGVTdGF0dXNPcmRlcihuZXdPcmRlcikpOwogICAgfTsKICB9OwoKICB2YXIgY3JlYXRlQ29kT3JkZXIgPSBmdW5jdGlvbiBjcmVhdGVDb2RPcmRlcihvcmRlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG5ld09yZGVyID0gewogICAgICAgIGlkOiBvcmRlci5pZCwKICAgICAgICBzdGF0dXM6IE9yZGVyU3RhdHVzLkNSRUFURV9DT0QsCiAgICAgICAgYWN0aW9uOiAnY3JlYXRlLWNvZCcKICAgICAgfTsKICAgICAgZGlzcGF0Y2godXBkYXRlU3RhdHVzT3JkZXIobmV3T3JkZXIpKTsKICAgIH07CiAgfTsKCiAgdmFyIGFwcHJvdmVBbGVydCA9IGZ1bmN0aW9uIGFwcHJvdmVBbGVydChpdGVtKSB7CiAgICBjb25maXJtQWxlcnQoewogICAgICB0aXRsZTogJ1jDoWMgbmjhuq1uJywKICAgICAgbWVzc2FnZTogJ0LhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiBkdXnhu4d0IMSRxqFuIGjDoG5nIG7DoHk/JywKICAgICAgYnV0dG9uczogW3sKICAgICAgICBsYWJlbDogJ8SQ4buTbmcgw70nLAogICAgICAgIG9uQ2xpY2s6IGFwcHJvdmVPcmRlcihpdGVtKQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdI4buneScKICAgICAgfV0KICAgIH0pOwogIH07CgogIHZhciBjYW5jZWxBbGVydCA9IGZ1bmN0aW9uIGNhbmNlbEFsZXJ0KGl0ZW0pIHsKICAgIGNvbmZpcm1BbGVydCh7CiAgICAgIHRpdGxlOiAnWMOhYyBuaOG6rW4nLAogICAgICBtZXNzYWdlOiAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIGjhu6d5IMSRxqFuIGjDoG5nIG7DoHk/JywKICAgICAgYnV0dG9uczogW3sKICAgICAgICBsYWJlbDogJ8SQ4buTbmcgw70nLAogICAgICAgIG9uQ2xpY2s6IGNhbmNlbE9yZGVyKGl0ZW0pCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ0jhu6d5JwogICAgICB9XQogICAgfSk7CiAgfTsKCiAgdmFyIGRlbGV0ZUFsZXJ0ID0gZnVuY3Rpb24gZGVsZXRlQWxlcnQoaXRlbSkgewogICAgY29uZmlybUFsZXJ0KHsKICAgICAgdGl0bGU6ICdYw6FjIG5o4bqtbicsCiAgICAgIG1lc3NhZ2U6ICdC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSDEkcahbiBow6BuZyBuw6B5PycsCiAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgbGFiZWw6ICfEkOG7k25nIMO9JywKICAgICAgICBvbkNsaWNrOiBkZWxldGVPcmRlcihpdGVtKQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdI4buneScKICAgICAgfV0KICAgIH0pOwogIH07CgogIHZhciBjb2RBbGVydCA9IGZ1bmN0aW9uIGNvZEFsZXJ0KGl0ZW0pIHsKICAgIGNvbmZpcm1BbGVydCh7CiAgICAgIHRpdGxlOiAnWMOhYyBuaOG6rW4nLAogICAgICBtZXNzYWdlOiAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHThuqFvIHbhuq1uIMSRxqFuIGNobyDEkcahbiBow6BuZyBuw6B5PycsCiAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgbGFiZWw6ICfEkOG7k25nIMO9JywKICAgICAgICBvbkNsaWNrOiBjcmVhdGVDb2RPcmRlcihpdGVtKQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdI4buneScKICAgICAgfV0KICAgIH0pOwogIH07CgogIHZhciByZW5kZXJCdXR0b25TdGF0dXMgPSBmdW5jdGlvbiByZW5kZXJCdXR0b25TdGF0dXMoaXRlbSkgewogICAgc3dpdGNoIChpdGVtLnN0YXR1cykgewogICAgICBjYXNlIE9yZGVyU3RhdHVzLldBSVRJTkc6CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGFwcHJvdmVBbGVydChpdGVtKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTEiCiAgICAgICAgfSwgIkRVWVx1MUVDNlQgXHUwMTEwXHUwMUEwTiBIXHhDME5HIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGNhbmNlbEFsZXJ0KGl0ZW0pOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIKICAgICAgICB9LCAiSFx1MUVFNlkgXHUwMTEwXHUwMUEwTiBIXHhDME5HIikpOwoKICAgICAgY2FzZSBPcmRlclN0YXR1cy5BUFBST1ZFRDoKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgY29kQWxlcnQoaXRlbSk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIKICAgICAgICB9LCAiVFx1MUVBME8gVlx1MUVBQ04gXHUwMTEwXHUwMUEwTiIpLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgICAgICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUFVUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS9vcmRlcnMnOwogICAgICAgIH0pLmxlbmd0aCA+IDApICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHRvRWRpdE9yZGVyKGl0ZW0uaWQpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAid2FybmluZyIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICJjaWwtcGVuY2lsIgogICAgICAgIH0pLCAiQ0hcdTFFQzhOSCBTXHUxRUVDQSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBjYW5jZWxBbGVydChpdGVtKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iCiAgICAgICAgfSwgIkhcdTFFRTZZIFx1MDExMFx1MDFBME4gSFx4QzBORyIpKTsKCiAgICAgIGNhc2UgT3JkZXJTdGF0dXMuQ1JFQVRFX0NPRDoKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJpbmZvIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIKICAgICAgICB9LCAiWEVNIFZcdTFFQUNOIFx1MDExMFx1MDFBME4iKTsKCiAgICAgIGNhc2UgT3JkZXJTdGF0dXMuQ0FOQ0VMOgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCBudWxsLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgICAgICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUFVUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS9vcmRlcnMnOwogICAgICAgIH0pLmxlbmd0aCA+IDApICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHRvRWRpdE9yZGVyKGl0ZW0uaWQpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAid2FybmluZyIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgY2xhc3NOYW1lOiAibXItMSIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgICAgbmFtZTogImNpbC1wZW5jaWwiCiAgICAgICAgfSksICJDSFx1MUVDOE5IIFNcdTFFRUNBIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGRlbGV0ZUFsZXJ0KGl0ZW0pOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAic2Vjb25kYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sICJYXHhEM0EgXHUwMTEwXHUwMUEwTiIpKTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfTsKCiAgdmFyIG1lbW9Db21wdXRlZEl0ZW1zID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGl0ZW1zKSB7CiAgICByZXR1cm4gY29tcHV0ZWRJdGVtcyhpdGVtcyk7CiAgfSwgW10pOwogIHZhciBtZW1vTGlzdGVkID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbWVtb0NvbXB1dGVkSXRlbXMob3JkZXJzKTsKICB9LCBbb3JkZXJzXSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtZ3JpZCIKICB9KSwgIiBEYW5oIHNceEUxY2ggXHUwMTExXHUwMUExbiBoXHhFMG5nIiwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BPU1QnICYmIHJvbC5lbnRpdHkgPT09ICcvYXBpL29yZGVycyc7CiAgfSkubGVuZ3RoID4gMCkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJzdWNjZXNzIiwKICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgIGNsYXNzTmFtZTogIm1sLTMiLAogICAgb25DbGljazogdG9DcmVhdGVPcmRlcgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLXBsdXMiCiAgfSksICIgVGhceEVBbSBtXHUxRURCaSIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInByaW1hcnkiLAogICAgY2xhc3NOYW1lOiAibWItMiIsCiAgICBocmVmOiBjc3ZDb2RlLAogICAgZG93bmxvYWQ6ICJjdXN0b21lcnR5cGVzLmNzdiIsCiAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgfSwgIlRcdTFFQTNpIGV4Y2VsICguY3N2KSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICBpdGVtczogbWVtb0xpc3RlZCwKICAgIGZpZWxkczogZmllbGRzLAogICAgY29sdW1uRmlsdGVyOiB0cnVlLAogICAgdGFibGVGaWx0ZXI6IHRydWUsCiAgICBjbGVhbmVyOiB0cnVlLAogICAgaXRlbXNQZXJQYWdlU2VsZWN0OiB7CiAgICAgIGxhYmVsOiAnU+G7kSBsxrDhu6NuZyB0csOqbiBt4buZdCB0cmFuZycsCiAgICAgIHZhbHVlczogWzIwLCAzMCwgNTBdCiAgICB9LAogICAgaXRlbXNQZXJQYWdlOiAyMCwKICAgIGhvdmVyOiB0cnVlLAogICAgc29ydGVyOiB0cnVlIC8vIGxvYWRpbmcKICAgIC8vIG9uUm93Q2xpY2s9eyhpdGVtLGluZGV4LGNvbCxlKSA9PiBjb25zb2xlLmxvZyhpdGVtLGluZGV4LGNvbCxlKX0KICAgICwKICAgIG9uUGFnZUNoYW5nZTogZnVuY3Rpb24gb25QYWdlQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlOicsIHZhbCk7CiAgICB9LAogICAgb25QYWdlc0NoYW5nZTogZnVuY3Rpb24gb25QYWdlc0NoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgcGFnZXM6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2luYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgcGFnaW5hdGlvbjonLCB2YWwpOwogICAgfSAvLyBvbkZpbHRlcmVkSXRlbXNDaGFuZ2U9eyh2YWwpID0+IGNvbnNvbGUubG9nKCduZXcgZmlsdGVyZWQgaXRlbXM6JywgdmFsKX0KICAgIC8vIG9uU29ydGVyVmFsdWVDaGFuZ2U9eyh2YWwpID0+IGNvbnNvbGUubG9nKCduZXcgc29ydGVyIHZhbHVlOicsIHZhbCl9CiAgICAsCiAgICBvblRhYmxlRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvblRhYmxlRmlsdGVyQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyB0YWJsZSBmaWx0ZXI6JywgdmFsKTsKICAgIH0sCiAgICBvbkNvbHVtbkZpbHRlckNoYW5nZTogb25GaWx0ZXJDb2x1bW4sCiAgICBzY29wZWRTbG90czogewogICAgICBvcmRlcjogZnVuY3Rpb24gb3JkZXIoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaW5kZXggKyAxKTsKICAgICAgfSwKICAgICAgc3RhdHVzOiBmdW5jdGlvbiBzdGF0dXMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQmFkZ2UsIHsKICAgICAgICAgIGNvbG9yOiBnZXRCYWRnZShpdGVtLnN0YXR1cykKICAgICAgICB9LCBtYXBwaW5nU3RhdHVzW2l0ZW0uc3RhdHVzXSkpOwogICAgICB9LAogICAgICBjcmVhdGVkRGF0ZTogZnVuY3Rpb24gY3JlYXRlZERhdGUoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpdGVtLmNyZWF0ZWREYXRlLnN1YnN0cigwLCAxMCkpOwogICAgICB9LAogICAgICBzaG93X2RldGFpbHM6IGZ1bmN0aW9uIHNob3dfZGV0YWlscyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInB5LTIgZC1mbGV4IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgdG9nZ2xlRGV0YWlscyhpdGVtLmlkKTsKICAgICAgICAgIH0KICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgICAgbmFtZTogImNpbFpvb20iCiAgICAgICAgfSkpKTsKICAgICAgfSwKICAgICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJweS0yIGQtZmxleCIKICAgICAgICB9LCByZW5kZXJCdXR0b25TdGF0dXMoaXRlbSkpOwogICAgICB9LAogICAgICBkZXRhaWxzOiBmdW5jdGlvbiBkZXRhaWxzKGl0ZW0pIHsKICAgICAgICB2YXIgX2l0ZW0kcHJvbW90aW9uLCBfaXRlbSRwcm9tb3Rpb24yLCBfaXRlbSRwcm9tb3Rpb24zLCBfaXRlbSRwcm9tb3Rpb24zJGN1c3Q7CgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sbGFwc2UsIHsKICAgICAgICAgIHNob3c6IF9kZXRhaWxzLmluY2x1ZGVzKGl0ZW0uaWQpCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaDUiLCBudWxsLCAiVGhceEY0bmcgdGluIFx1MDExMVx1MDFBMW4gaFx4RTBuZ2ciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgewogICAgICAgICAgY2xhc3NOYW1lOiAibWItNCIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBzbTogIjQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImg2IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAibWItMyIKICAgICAgICB9LCAiVFx1MUVEQmk6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmN1c3RvbWVyLmNvbnRhY3ROYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uYWRkcmVzcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAiRW1haWw6ICIsIGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5jdXN0b21lci5lbWFpbCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAiUGhvbmU6ICIsIGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5jdXN0b21lci50ZWwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgICAgc206ICI0IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoNiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogIm1iLTMiCiAgICAgICAgfSwgIkNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmggYlx4RTFuIGhceEUwbmc6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIiAiLCBpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfaXRlbSRwcm9tb3Rpb24gPSBpdGVtLnByb21vdGlvbikgPT09IG51bGwgfHwgX2l0ZW0kcHJvbW90aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9tb3Rpb24ubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kcHJvbW90aW9uMiA9IGl0ZW0ucHJvbW90aW9uKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9tb3Rpb24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9tb3Rpb24yLmRlc2NyaXB0aW9uKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIG51bGwsICJMb1x1MUVBMWkga2hceEUxY2ggaFx4RTBuZzogIiwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kcHJvbW90aW9uMyA9IGl0ZW0ucHJvbW90aW9uKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9tb3Rpb24zID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2l0ZW0kcHJvbW90aW9uMyRjdXN0ID0gX2l0ZW0kcHJvbW90aW9uMy5jdXN0b21lclR5cGUpID09PSBudWxsIHx8IF9pdGVtJHByb21vdGlvbjMkY3VzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvbW90aW9uMyRjdXN0Lm5hbWUpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlLCB7CiAgICAgICAgICBzdHJpcGVkOiB0cnVlLAogICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNlbnRlciIKICAgICAgICB9LCAiIyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiVFx4RUFuIHNcdTFFQTNuIHBoXHUxRUE5bSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCBudWxsLCAiRHVuaCB0XHhFRGNoIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNlbnRlciIKICAgICAgICB9LCAiU1x1MUVEMSBsXHUwMUIwXHUxRUUzbmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgIlx1MDExMFx1MDFBMW4gZ2lceEUxIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgICAgIH0sICJDaGlcdTFFQkZ0IGtoXHUxRUE1dSglKSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCAiVFx1MUVENW5nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgICAgIH0sICJUaFx4RTBuaCB0aVx1MUVDMW4iKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGJvZHkiLCBudWxsLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0ub3JkZXJEZXRhaWxzKSB8fCBbXSkpLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHZhciBfaXRlbSRwcm9kdWN0LCBfaXRlbSRwcm9kdWN0MiwgX2l0ZW0kcHJvZHVjdDMsIF9pdGVtJHByb2R1Y3Q0LCBfaXRlbSRwcm9kdWN0NSwgX2l0ZW0kcHJvZHVjdDY7CgogICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIHsKICAgICAgICAgICAga2V5OiBpbmRleAogICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaW5kZXggKyAxKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKF9pdGVtJHByb2R1Y3QgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QubmFtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIChfaXRlbSRwcm9kdWN0MiA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QyLnZvbHVtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGl0ZW0ucXVhbnRpdHkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBOdW1iZXIoaXRlbS5wcmljZVJlYWwgfHwgKChfaXRlbSRwcm9kdWN0MyA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QzLnByaWNlKSkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgICB9KSB8fCAnJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGl0ZW0ucmVkdWNlUGVyY2VudCwgIiUiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKE51bWJlcihpdGVtLnByaWNlUmVhbCB8fCAoKF9pdGVtJHByb2R1Y3Q0ID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDQucHJpY2UpKSAqIGl0ZW0ucXVhbnRpdHkpLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgICAgfSkgfHwgJycpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoTnVtYmVyKGl0ZW0ucHJpY2VSZWFsIHx8ICgoX2l0ZW0kcHJvZHVjdDUgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3Q1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRwcm9kdWN0NS5wcmljZSkpICogaXRlbS5xdWFudGl0eSAtIE51bWJlcihpdGVtLnByaWNlUmVhbCB8fCAoKF9pdGVtJHByb2R1Y3Q2ID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0NiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDYucHJpY2UpKSAqIGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnJlZHVjZVBlcmNlbnQgLyAxMDApLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgICAgfSkgfHwgJycpKTsKICAgICAgICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBsZzogIjQiLAogICAgICAgICAgc206ICI1IgogICAgICAgIH0sICJHaGkgY2hceEZBOiAiLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLm5vdGUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgICAgbGc6ICI0IiwKICAgICAgICAgIHNtOiAiNSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtbC1hdXRvIgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJ0YWJsZS1jbGVhciIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGJvZHkiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJsZWZ0IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzdHJvbmciLCBudWxsLCAiVFx1MUVENW5nIHNcdTFFRDEgbFx1MDFCMFx1MUVFM25nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCAoaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLm9yZGVyRGV0YWlscy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY3VycmVudCkgewogICAgICAgICAgcmV0dXJuIHN1bSArIGN1cnJlbnQucXVhbnRpdHk7CiAgICAgICAgfSwgMCkpIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsICJUXHUxRUQ1bmcgdGlcdTFFQzFuIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCBOdW1iZXIoKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS50b3RhbE1vbmV5KSB8fCAnMCcpLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgfSkgfHwgJycpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIkNoaVx1MUVCRnQga2hcdTFFQTV1IikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCBOdW1iZXIoKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5yZWR1Y2VNb25leSkgfHwgJzAnKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgIH0pIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsICJUaVx1MUVDMW4gdGhhbmggdG9ceEUxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIE51bWJlcigoaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLnJlYWxNb25leSkgfHwgJzAnKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgIH0pIHx8ICcnKSkpKSkpKSkpOwogICAgICB9CiAgICB9CiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENQYWdpbmF0aW9uLCB7CiAgICBhY3RpdmVQYWdlOiBhY3RpdmVQYWdlLAogICAgcGFnZXM6IE1hdGguZmxvb3IoaW5pdGlhbFN0YXRlLnRvdGFsSXRlbSAvIDIwKSArIDEsCiAgICBvbkFjdGl2ZVBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uQWN0aXZlUGFnZUNoYW5nZShpKSB7CiAgICAgIHJldHVybiBzZXRBY3RpdmVQYWdlKGkpOwogICAgfQogIH0pKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBPcmRlcjs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Orders/Order.js"],"names":["React","useEffect","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CCol","CPagination","CIcon","useDispatch","useSelector","getOrder","updateStatusOrder","globalizedOrdersSelectors","reset","useHistory","Table","OrderStatus","moment","confirmAlert","userSafeSelector","getBadge","status","mappingStatus","WAITING","APPROVED","CREATE_COD","CANCEL","selectAll","Order","props","details","setDetails","state","order","initialState","activePage","setActivePage","size","dispatch","history","account","isAdmin","authorities","filter","item","length","localStorage","setItem","JSON","stringify","orders","page","sort","computedItems","items","map","customerName","customer","name","tel","quantity","orderDetails","reduce","sum","prev","createdDate","format","total","Number","realMoney","toLocaleString","style","currency","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateOrder","push","match","url","onFilterColumn","value","keys","toEditOrder","typeId","updatingSuccess","approveOrder","newOrder","id","action","approve","cancelOrder","cancel","deleteOrder","DELETED","createCodOrder","approveAlert","title","message","buttons","onClick","cancelAlert","deleteAlert","codAlert","renderButtonStatus","role","rol","method","entity","memoComputedItems","useCallback","memoListed","useMemo","val","console","log","substr","show_details","includes","contactName","address","email","promotion","description","customerType","parse","product","volume","priceReal","price","reducePercent","note","current","totalMoney","reduceMoney","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CCol, CPagination } from '@coreui/react/lib';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getOrder, updateStatusOrder } from './order.api';\nimport { globalizedOrdersSelectors, reset } from './order.reducer';\nimport { useHistory } from 'react-router-dom';\nimport { Table } from 'reactstrap';\nimport { OrderStatus } from './order-status';\nimport moment from 'moment';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\n\nconst getBadge = status => {\n  switch (status) {\n    case 'ACTIVE':\n      return 'success';\n    case 'DISABLED':\n      return 'danger';\n    case 'DELETED':\n      return 'warning';\n    case 'Banned':\n      return 'danger';\n    default:\n      return 'primary';\n  }\n};\nconst mappingStatus = {\n  WAITING: 'CH DUYT',\n  APPROVED: ' DUYT',\n  CREATE_COD: ' TO VN N',\n  CANCEL: ' HY'\n};\nconst { selectAll } = globalizedOrdersSelectors;\n\nconst Order = props => {\n  const [details, setDetails] = useState([]);\n  const { initialState } = useSelector(state => state.order);\n  const [activePage, setActivePage] = useState(1);\n  const [size] = useState(20);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  useEffect(() => {\n    dispatch(reset());\n    localStorage.setItem('order', JSON.stringify({}));\n  }, []);\n  const orders = useSelector(selectAll);\n\n  useEffect(() => {\n    dispatch(getOrder({ page: activePage - 1, size: size, sort: 'createdDate,DESC' }));\n  }, [activePage]);\n\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        customerName: item.customer?.name,\n        tel: item.customer?.tel,\n        quantity: item.orderDetails?.reduce((sum, prev) => sum + prev.quantity, 0),\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY'),\n        total: Number(item.realMoney)?.toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''\n      };\n    });\n  };\n\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  // Code\tTn ca hng/i l\tNgi lin lc\tNm Sinh\tin thoi\tNhn vin qun l\tn hngg\tPhn loi\tSa\tTo n\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: { width: '1%' },\n      filter: false\n    },\n    {\n      key: 'show_details',\n      label: 'Xem chi tit',\n      _style: { width: '1%' },\n      filter: false\n    },\n    { key: 'code', label: 'M n hng', _style: { width: '10%' } },\n    { key: 'customerName', label: 'Tn khch hng/i l', _style: { width: '15%' } },\n    { key: 'tel', label: 'S in thoi', _style: { width: '10%' } },\n    { key: 'quantity', label: 'Tng sn phm', _style: { width: '10%' } },\n    { key: 'total', label: 'Tin thanh ton', _style: { width: '10%' } },\n    { key: 'createdDate', label: 'Ngy to', _style: { width: '10%' } },\n    { key: 'status', label: 'Trng thi', _style: { width: '10%' } },\n    {\n      key: 'action',\n      label: '',\n      _style: { width: '30%' },\n      filter: false\n    }\n  ];\n\n  const getBadge = status => {\n    switch (status) {\n      case 'APPROVED':\n        return 'success';\n      case 'CREATE_COD':\n        return 'info';\n      case 'WAITING':\n        return 'warning';\n      case 'CANCEL':\n        return 'danger';\n      default:\n        return 'primary';\n    }\n  };\n  const csvContent = orders.map(item => Object.values(item).join(',')).join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateOrder = () => {\n    history.push(`${props.match.url}/new`);\n  };\n\n  const onFilterColumn = value => {\n    if (Object.keys(value).length > 0) {\n      dispatch(getOrder({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n    }\n  };\n\n  const toEditOrder = typeId => {\n    history.push(`${props.match.url}/${typeId}/edit`);\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(getOrder());\n      dispatch(reset());\n    }\n  }, [initialState.updatingSuccess]);\n\n  const approveOrder = order => () => {\n    const newOrder = {\n      id: order.id,\n      status: OrderStatus.APPROVED,\n      action: approve\n    };\n    dispatch(updateStatusOrder(newOrder));\n  };\n\n  const cancelOrder = order => () => {\n    const newOrder = {\n      id: order.id,\n      status: OrderStatus.CANCEL,\n      action: cancel\n    };\n    dispatch(updateStatusOrder(newOrder));\n  };\n\n  const deleteOrder = order => () => {\n    const newOrder = {\n      id: order.id,\n      status: OrderStatus.DELETED,\n      action: 'delete'\n    };\n    dispatch(updateStatusOrder(newOrder));\n  };\n\n  const createCodOrder = order => () => {\n    const newOrder = {\n      id: order.id,\n      status: OrderStatus.CREATE_COD,\n      action: 'create-cod'\n    };\n    dispatch(updateStatusOrder(newOrder));\n  };\n\n  const approveAlert = item => {\n    confirmAlert({\n      title: 'Xc nhn',\n      message: 'Bn c chc chn mun duyt n hng ny?',\n      buttons: [\n        {\n          label: 'ng ',\n          onClick: approveOrder(item)\n        },\n        {\n          label: 'Hy'\n        }\n      ]\n    });\n  };\n\n  const cancelAlert = item => {\n    confirmAlert({\n      title: 'Xc nhn',\n      message: 'Bn c chc chn mun hy n hng ny?',\n      buttons: [\n        {\n          label: 'ng ',\n          onClick: cancelOrder(item)\n        },\n        {\n          label: 'Hy'\n        }\n      ]\n    });\n  };\n\n  const deleteAlert = item => {\n    confirmAlert({\n      title: 'Xc nhn',\n      message: 'Bn c chc chn mun xa n hng ny?',\n      buttons: [\n        {\n          label: 'ng ',\n          onClick: deleteOrder(item)\n        },\n        {\n          label: 'Hy'\n        }\n      ]\n    });\n  };\n\n  const codAlert = item => {\n    confirmAlert({\n      title: 'Xc nhn',\n      message: 'Bn c chc chn mun to vn n cho n hng ny?',\n      buttons: [\n        {\n          label: 'ng ',\n          onClick: createCodOrder(item)\n        },\n        {\n          label: 'Hy'\n        }\n      ]\n    });\n  };\n  const renderButtonStatus = item => {\n    switch (item.status) {\n      case OrderStatus.WAITING:\n        return (\n          <CCol>\n            <CButton\n              onClick={() => {\n                approveAlert(item);\n              }}\n              color=\"success\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              DUYT N HNG\n            </CButton>\n            <CButton\n              onClick={() => {\n                cancelAlert(item);\n              }}\n              color=\"danger\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n            >\n              HY N HNG\n            </CButton>\n          </CCol>\n        );\n      case OrderStatus.APPROVED:\n        return (\n          <CCol>\n            <CButton\n              onClick={() => {\n                codAlert(item);\n              }}\n              color=\"primary\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n            >\n              TO VN N\n            </CButton>\n            {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/orders').length > 0) && (\n              <CButton\n                onClick={() => {\n                  toEditOrder(item.id);\n                }}\n                color=\"warning\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n              >\n                <CIcon name=\"cil-pencil\" />\n                CHNH SA\n              </CButton>\n            )}\n            <CButton\n              onClick={() => {\n                cancelAlert(item);\n              }}\n              color=\"danger\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n            >\n              HY N HNG\n            </CButton>\n          </CCol>\n        );\n      case OrderStatus.CREATE_COD:\n        return (\n          <CButton color=\"info\" variant=\"outline\" shape=\"square\" size=\"sm\">\n            XEM VN N\n          </CButton>\n        );\n      case OrderStatus.CANCEL:\n        return (\n          <CCol>\n            {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/orders').length > 0) && (\n              <CButton\n                onClick={() => {\n                  toEditOrder(item.id);\n                }}\n                color=\"warning\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n                className=\"mr-1\"\n              >\n                <CIcon name=\"cil-pencil\" />\n                CHNH SA\n              </CButton>\n            )}\n            <CButton\n              onClick={() => {\n                deleteAlert(item);\n              }}\n              color=\"secondary\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              XA N\n            </CButton>\n          </CCol>\n        );\n      default:\n        break;\n    }\n  };\n\n  const memoComputedItems = React.useCallback(\n    (items) => computedItems(items),\n    []\n  );\n  const memoListed = React.useMemo(() => memoComputedItems(orders), [orders]);\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sch n hng\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/orders').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateOrder}>\n            <CIcon name=\"cil-plus\" /> Thm mi\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"customertypes.csv\" target=\"_blank\">\n          Ti excel (.csv)\n        </CButton>\n        <CDataTable\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{ label: 'S lng trn mt trang', values: [20, 30, 50] }}\n          itemsPerPage={20}\n          hover\n          sorter\n          // loading\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={val => console.log('new page:', val)}\n          onPagesChange={val => console.log('new pages:', val)}\n          onPaginationChange={val => console.log('new pagination:', val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={val => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            status: item => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{mappingStatus[item.status]}</CBadge>\n              </td>\n            ),\n            createdDate: item => <td>{item.createdDate.substr(0, 10)}</td>,\n\n            show_details: item => {\n              return (\n                <td className=\"py-2 d-flex\">\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                </td>\n              );\n            },\n            action: item => {\n              return <td className=\"py-2 d-flex\">{renderButtonStatus(item)}</td>;\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thng tin n hngg</h5>\n                    <CRow className=\"mb-4\">\n                      <CCol sm=\"4\">\n                        <h6 className=\"mb-3\">Ti:</h6>\n                        <div>\n                          <strong>{item?.customer.contactName}</strong>\n                        </div>\n                        <div>{item?.address}</div>\n                        {/* <div>{`${item?.customer?.district?.name}, ${item?.customer?.city?.name}`}</div> */}\n                        <div>Email: {item?.customer.email}</div>\n                        <div>Phone: {item?.customer.tel}</div>\n                      </CCol>\n                      <CCol sm=\"4\">\n                        <h6 className=\"mb-3\">Chng trnh bn hng:</h6>\n                        <div>\n                          <strong> {item?.promotion?.name}</strong>\n                        </div>\n                        <div>{item?.promotion?.description}</div>\n                        <div>Loi khch hng: {item?.promotion?.customerType?.name}</div>\n                      </CCol>\n                    </CRow>\n                    <Table striped responsive>\n                      <thead>\n                        <tr>\n                          <th className=\"center\">#</th>\n                          <th>Tn sn phm</th>\n                          <th>Dunh tch</th>\n                          <th className=\"center\">S lng</th>\n                          <th className=\"right\">n gi</th>\n                          <th className=\"right\">Chit khu(%)</th>\n                          <th className=\"right\">Tng</th>\n                          <th className=\"right\">Thnh tin</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {JSON.parse(JSON.stringify(item?.orderDetails || [])).map((item, index) => {\n                          return (\n                            <tr key={index}>\n                              <td>{index + 1}</td>\n                              <td>{item.product?.name}</td>\n                              <td>{item.product?.volume}</td>\n                              <td>{item.quantity}</td>\n                              <td>\n                                {Number(item.priceReal || item.product?.price).toLocaleString('it-IT', {\n                                  style: 'currency',\n                                  currency: 'VND'\n                                }) || ''}\n                              </td>\n                              <td>{item.reducePercent}%</td>\n                              <td>\n                                {(Number(item.priceReal || item.product?.price) * item.quantity).toLocaleString('it-IT', {\n                                  style: 'currency',\n                                  currency: 'VND'\n                                }) || ''}\n                              </td>\n                              <td>\n                                {(\n                                  Number(item.priceReal || item.product?.price) * item.quantity -\n                                  (Number(item.priceReal || item.product?.price) * item.quantity * item.reducePercent) / 100\n                                ).toLocaleString('it-IT', {\n                                  style: 'currency',\n                                  currency: 'VND'\n                                }) || ''}\n                              </td>\n                            </tr>\n                          );\n                        })}\n                      </tbody>\n                    </Table>\n                    <CRow>\n                      <CCol lg=\"4\" sm=\"5\">\n                        Ghi ch: <strong>{item?.note}</strong>\n                      </CCol>\n                      <CCol lg=\"4\" sm=\"5\" className=\"ml-auto\">\n                        <Table className=\"table-clear\">\n                          <tbody>\n                            <tr>\n                              <td className=\"left\">\n                                <strong>Tng s lng</strong>\n                              </td>\n                              <td className=\"right\">{item?.orderDetails.reduce((sum, current) => sum + current.quantity, 0) || ''}</td>\n                            </tr>\n                            <tr>\n                              <td className=\"left\">\n                                <strong>Tng tin</strong>\n                              </td>\n                              <td className=\"right\">\n                                {Number(item?.totalMoney || '0').toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                              </td>\n                            </tr>\n                            <tr>\n                              <td className=\"left\">\n                                <strong>Chit khu</strong>\n                              </td>\n                              <td className=\"right\">\n                                {Number(item?.reduceMoney || '0').toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                              </td>\n                            </tr>\n                            <tr>\n                              <td className=\"left\">\n                                <strong>Tin thanh ton</strong>\n                              </td>\n                              <td className=\"right\">\n                                <strong>\n                                  {Number(item?.realMoney || '0').toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                                </strong>\n                              </td>\n                            </tr>\n                          </tbody>\n                        </Table>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / 20) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default Order;\n"]}]}