{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js","mtime":1618503515814},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDQ29sLCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QnOyAvLyBpbXBvcnQgdXNlcnNEYXRhIGZyb20gJy4uLy4uLy4uL3VzZXJzL1VzZXJzRGF0YS5qcyc7CgppbXBvcnQgQ0ljb24gZnJvbSAnQGNvcmV1aS9pY29ucy1yZWFjdCc7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgZ2V0V2FyZWhvdXNlRXhwb3J0LCB1cGRhdGVXYXJlaG91c2VJbXBvcnQgfSBmcm9tICcuLi9JbXBvcnQvd2FyZWhvdXNlLWltcG9ydC5hcGkuanMnOwppbXBvcnQgeyBmZXRjaGluZywgZ2xvYmFsaXplZFdhcmVob3VzZUltcG9ydFNlbGVjdG9ycywgcmVzZXQgfSBmcm9tICcuLi9JbXBvcnQvd2FyZWhvdXNlLWltcG9ydC5yZWR1Y2VyLmpzJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBXYXJlaG91c2VJbXBvcnRTdGF0dXMsIFdhcmVob3VzZUltcG9ydFR5cGUgfSBmcm9tICcuL2NvbnRhbnRzLmpzJzsKaW1wb3J0IHsgY29uZmlybUFsZXJ0IH0gZnJvbSAncmVhY3QtY29uZmlybS1hbGVydCc7IC8vIEltcG9ydAoKaW1wb3J0ICdyZWFjdC1jb25maXJtLWFsZXJ0L3NyYy9yZWFjdC1jb25maXJtLWFsZXJ0LmNzcyc7IC8vIEltcG9ydCBjc3MKCnZhciBtYXBwaW5nU3RhdHVzID0gewogIFdBSVRJTkc6ICdDSOG7nCBEVVnhu4ZUJywKICBBUFBST1ZFRDogJ8SQw4MgRFVZ4buGVCcsCiAgUkVKRUNURUQ6ICdLSMOUTkcgRFVZ4buGVCcKfTsKCnZhciBXYXJlaG91c2VJbXBvcnQgPSBmdW5jdGlvbiBXYXJlaG91c2VJbXBvcnQocHJvcHMpIHsKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgX2RldGFpbHMgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXREZXRhaWxzID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLndhcmVob3VzZUltcG9ydDsKICB9KSwKICAgICAgaW5pdGlhbFN0YXRlID0gX3VzZVNlbGVjdG9yLmluaXRpYWxTdGF0ZTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgxKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBhY3RpdmVQYWdlID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0QWN0aXZlUGFnZSA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoMjApLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIHNpemUgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRTaXplID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2gocmVzZXQoKSk7CiAgfSwgW10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoc2l6ZSAhPSAyMCkgewogICAgICBkaXNwYXRjaChnZXRXYXJlaG91c2VFeHBvcnQoewogICAgICAgIHBhZ2U6IGFjdGl2ZVBhZ2UgLSAxLAogICAgICAgIHNpemU6IHNpemUsCiAgICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLGRlc2MnCiAgICAgIH0pKTsKICAgIH0KICB9LCBbYWN0aXZlUGFnZSwgc2l6ZV0pOwogIHZhciBzZWxlY3RBbGwgPSBnbG9iYWxpemVkV2FyZWhvdXNlSW1wb3J0U2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgd2FyZWhvdXNlcyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbCk7CgogIHZhciBjb21wdXRlZEl0ZW1zID0gZnVuY3Rpb24gY29tcHV0ZWRJdGVtcyhpdGVtcykgewogICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgX2l0ZW0kc3RvcmUsIF9pdGVtJGFwcHJvdmVyOwoKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgc3RvcmU6ICgoX2l0ZW0kc3RvcmUgPSBpdGVtLnN0b3JlKSA9PT0gbnVsbCB8fCBfaXRlbSRzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kc3RvcmUubmFtZSkgfHwgJycsCiAgICAgICAgYXBwcm92ZXI6ICgoX2l0ZW0kYXBwcm92ZXIgPSBpdGVtLmFwcHJvdmVyKSA9PT0gbnVsbCB8fCBfaXRlbSRhcHByb3ZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kYXBwcm92ZXIubG9naW4pIHx8ICcnCiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgdmFyIHRvZ2dsZURldGFpbHMgPSBmdW5jdGlvbiB0b2dnbGVEZXRhaWxzKGluZGV4KSB7CiAgICB2YXIgcG9zaXRpb24gPSBfZGV0YWlscy5pbmRleE9mKGluZGV4KTsKCiAgICB2YXIgbmV3RGV0YWlscyA9IF9kZXRhaWxzLnNsaWNlKCk7CgogICAgaWYgKHBvc2l0aW9uICE9PSAtMSkgewogICAgICBuZXdEZXRhaWxzLnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICB9IGVsc2UgewogICAgICBuZXdEZXRhaWxzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfZGV0YWlscyksIFtpbmRleF0pOwogICAgfQoKICAgIHNldERldGFpbHMobmV3RGV0YWlscyk7CiAgfTsgLy8gQ29kZQlUw6puIGtobwlOZ8aw4budaSBsacOqbiBs4bqhYwlOxINtIFNpbmgJxJBp4buHbiB0aG/huqFpCU5ow6JuIHZpw6puIHF14bqjbiBsw70JTG/huqFpIGtobwlQaMOibiBsb+G6oWkJU+G7rWEJVOG6oW8gxJHGoW4KCgogIHZhciBmaWVsZHMgPSBbewogICAga2V5OiAnb3JkZXInLAogICAgbGFiZWw6ICdTVFQnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMSUnCiAgICB9LAogICAgZmlsdGVyOiBmYWxzZQogIH0sIHsKICAgIGtleTogJ3N0b3JlJywKICAgIGxhYmVsOiAnVMOqbiBraG8geHXhuqV0JywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdjcmVhdGVkRGF0ZScsCiAgICBsYWJlbDogJ05nw6B5IHThuqFvJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzE1JScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdpbXBvcnQnLAogICAgbGFiZWw6ICdYdeG6pXQgxJHhur9uJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdjcmVhdGVkQnknLAogICAgbGFiZWw6ICdOZ8aw4budaSB04bqhbycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnYXBwcm92ZXInLAogICAgbGFiZWw6ICdOZ8aw4budaSBkdXnhu4d0JywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzE1JScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdzdGF0dXMnLAogICAgbGFiZWw6ICdUcuG6oW5nIHRow6FpJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdhY3Rpb24nLAogICAgbGFiZWw6ICcnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMjAlJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9XTsKCiAgdmFyIGdldEJhZGdlID0gZnVuY3Rpb24gZ2V0QmFkZ2Uoc3RhdHVzKSB7CiAgICBzd2l0Y2ggKHN0YXR1cykgewogICAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5BUFBST1ZFRDoKICAgICAgICByZXR1cm4gJ3N1Y2Nlc3MnOwoKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuUkVKRUNURUQ6CiAgICAgICAgcmV0dXJuICdkYW5nZXInOwoKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuV0FJVElORzoKICAgICAgICByZXR1cm4gJ3dhcm5pbmcnOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gJ3ByaW1hcnknOwogICAgfQogIH07CgogIHZhciBjc3ZDb250ZW50ID0gY29tcHV0ZWRJdGVtcyh3YXJlaG91c2VzKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBPYmplY3QudmFsdWVzKGl0ZW0pLmpvaW4oJywnKTsKICB9KS5qb2luKCdcbicpOwogIHZhciBjc3ZDb2RlID0gJ2RhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCxTRVA9LCUwQScgKyBlbmNvZGVVUklDb21wb25lbnQoY3N2Q29udGVudCk7CgogIHZhciB0b0NyZWF0ZVdhcmVob3VzZUltcG9ydCA9IGZ1bmN0aW9uIHRvQ3JlYXRlV2FyZWhvdXNlSW1wb3J0KCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvbmV3IikpOwogIH07CgogIHZhciB0b0NyZWF0ZVdhcmVob3VzZUV4cG9ydFByb3ZpZGVyID0gZnVuY3Rpb24gdG9DcmVhdGVXYXJlaG91c2VFeHBvcnRQcm92aWRlcigpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL3Byb3ZpZGVyL25ldyIpKTsKICB9OwoKICB2YXIgdG9FZGl0V2FyZWhvdXNlRXhwb3J0UHJvdmlkZXIgPSBmdW5jdGlvbiB0b0VkaXRXYXJlaG91c2VFeHBvcnRQcm92aWRlcih1c2VySWQpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL3Byb3ZpZGVyLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgdG9FZGl0V2FyZWhvdXNlSW1wb3J0ID0gZnVuY3Rpb24gdG9FZGl0V2FyZWhvdXNlSW1wb3J0KHVzZXJJZCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvIikuY29uY2F0KHVzZXJJZCwgIi9lZGl0IikpOwogIH07CgogIHZhciBvbkZpbHRlckNvbHVtbiA9IGZ1bmN0aW9uIG9uRmlsdGVyQ29sdW1uKHZhbHVlKSB7CiAgICBpZiAodmFsdWUpIHsKICAgICAgZGlzcGF0Y2goZ2V0V2FyZWhvdXNlRXhwb3J0KF9vYmplY3RTcHJlYWQoewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICBzb3J0OiAnY3JlYXRlZERhdGUsZGVzYycKICAgICAgfSwgdmFsdWUpKSk7CiAgICB9CiAgfTsKCiAgdmFyIGFsZXJ0RnVuYyA9IGZ1bmN0aW9uIGFsZXJ0RnVuYyhpdGVtLCBtZXNzYWdlLCBvcGVyYXRpb24pIHsKICAgIGNvbmZpcm1BbGVydCh7CiAgICAgIHRpdGxlOiAnWMOhYyBuaOG6rW4nLAogICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICBidXR0b25zOiBbewogICAgICAgIGxhYmVsOiAnxJDhu5NuZyDDvScsCiAgICAgICAgb25DbGljazogb3BlcmF0aW9uKGl0ZW0pCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ0jhu6d5JwogICAgICB9XQogICAgfSk7CiAgfTsKCiAgdmFyIHJlamVjdFRpY2tldCA9IGZ1bmN0aW9uIHJlamVjdFRpY2tldChiaWxsKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBpZDogYmlsbC5pZCwKICAgICAgICBzdGF0dXM6IFdhcmVob3VzZUltcG9ydFN0YXR1cy5SRUpFQ1RFRAogICAgICB9OwogICAgICBkaXNwYXRjaCh1cGRhdGVXYXJlaG91c2VJbXBvcnQoZGF0YSkpOwogICAgfTsKICB9OwoKICB2YXIgYXBwcm92ZVRpY2tldCA9IGZ1bmN0aW9uIGFwcHJvdmVUaWNrZXQoYmlsbCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IGJpbGwuaWQsCiAgICAgICAgc3RhdHVzOiBXYXJlaG91c2VJbXBvcnRTdGF0dXMuQVBQUk9WRUQKICAgICAgfTsKICAgICAgZGlzcGF0Y2godXBkYXRlV2FyZWhvdXNlSW1wb3J0KGRhdGEpKTsKICAgIH07CiAgfTsKCiAgdmFyIHJlbmRlckJ1dHRvblN0YXR1cyA9IGZ1bmN0aW9uIHJlbmRlckJ1dHRvblN0YXR1cyhpdGVtKSB7CiAgICBzd2l0Y2ggKGl0ZW0uc3RhdHVzKSB7CiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLkFQUFJPVkVEOgogICAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5SRUpFQ1RFRDoKICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLldBSVRJTkc6CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGl0ZW0udHlwZSAhPT0gV2FyZWhvdXNlSW1wb3J0VHlwZS5FWFBPUlRfVE9fUFJPVklERVIgPyB0b0VkaXRXYXJlaG91c2VJbXBvcnQoaXRlbS5pZCkgOiB0b0VkaXRXYXJlaG91c2VFeHBvcnRQcm92aWRlcihpdGVtLmlkKTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogIndhcm5pbmciLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTEiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICJjaWwtcGVuY2lsIgogICAgICAgIH0pLCAiQ0hcdTFFQzhOSCBTXHUxRUVDQSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBhbGVydEZ1bmMoaXRlbSwgJ0LhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiBkdXnhu4d0IHBoaeG6v3UgeHXhuqV0IGtobyBuw6B5IGtow7RuZycsIGFwcHJvdmVUaWNrZXQpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAic3VjY2VzcyIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgY2xhc3NOYW1lOiAibXItMSIKICAgICAgICB9LCAiRFVZXHUxRUM2VCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBhbGVydEZ1bmMoaXRlbSwgJ0LhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB04burIGNo4buRaSBwaGnhur91IHh14bqldCBraG8gbsOgeSBraMO0bmcnLCByZWplY3RUaWNrZXQpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sICJLSFx4RDRORyBEVVlcdTFFQzZUIikpOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9OwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGluaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3MpIHsKICAgICAgZGlzcGF0Y2goZ2V0V2FyZWhvdXNlRXhwb3J0KCkpOwogICAgICBkaXNwYXRjaChyZXNldCgpKTsKICAgIH0KICB9LCBbaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2Vzc10pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLWdyaWQiCiAgfSksICIgRGFuaCBzXHhFMWNoIHBoaVx1MUVCRnUgeHVcdTFFQTV0IGtobyIsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAic3VjY2VzcyIsCiAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICBjbGFzc05hbWU6ICJtbC0zIiwKICAgIG9uQ2xpY2s6IHRvQ3JlYXRlV2FyZWhvdXNlSW1wb3J0CiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtcGx1cyIKICB9KSwgIiBUaFx4RUFtIG1cdTFFREJpIHBoaVx1MUVCRnUgeHVcdTFFQTV0IGtobyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogImluZm8iLAogICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICBvbkNsaWNrOiB0b0NyZWF0ZVdhcmVob3VzZUV4cG9ydFByb3ZpZGVyCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtcGx1cyIKICB9KSwgIiBUaFx4RUFtIG1cdTFFREJpIHBoaVx1MUVCRnUgdHJcdTFFQTMgaFx4RTBuZyBjaG8gbmhceEUwIGN1bmcgY1x1MUVBNXAiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJwcmltYXJ5IiwKICAgIGNsYXNzTmFtZTogIm1iLTIiLAogICAgaHJlZjogY3N2Q29kZSwKICAgIGRvd25sb2FkOiAiY29yZXVpLXRhYmxlLWRhdGEuY3N2IiwKICAgIHRhcmdldDogIl9ibGFuayIKICB9LCAiVFx1MUVBM2kgZXhjZWwgKC5jc3YpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENEYXRhVGFibGUsIHsKICAgIGl0ZW1zOiBjb21wdXRlZEl0ZW1zKHdhcmVob3VzZXMpLAogICAgZmllbGRzOiBmaWVsZHMsCiAgICBjb2x1bW5GaWx0ZXI6IHRydWUsCiAgICB0YWJsZUZpbHRlcjogdHJ1ZSwKICAgIGNsZWFuZXI6IHRydWUsCiAgICBpdGVtc1BlclBhZ2VTZWxlY3Q6IHsKICAgICAgbGFiZWw6ICdT4buRIGzGsOG7o25nIHRyw6puIG3hu5l0IHRyYW5nJywKICAgICAgdmFsdWVzOiBbMTAsIDIwLCAzMCwgNTBdCiAgICB9LAogICAgaXRlbXNQZXJQYWdlOiBzaXplLAogICAgaG92ZXI6IHRydWUsCiAgICBzb3J0ZXI6IHRydWUsCiAgICBsb2FkaW5nOiBpbml0aWFsU3RhdGUubG9hZGluZyAvLyBvblJvd0NsaWNrPXsoaXRlbSxpbmRleCxjb2wsZSkgPT4gY29uc29sZS5sb2coaXRlbSxpbmRleCxjb2wsZSl9CiAgICAsCiAgICBvblBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnZUNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgcGFnZTonLCB2YWwpOwogICAgfSwKICAgIG9uUGFnZXNDaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnZXNDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHBhZ2VzOicsIHZhbCk7CiAgICB9LAogICAgb25QYWdpbmF0aW9uQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2luYXRpb25DaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBzZXRTaXplKHZhbCk7CiAgICB9IC8vIG9uRmlsdGVyZWRJdGVtc0NoYW5nZT17KHZhbCkgPT4gY29uc29sZS5sb2coJ25ldyBmaWx0ZXJlZCBpdGVtczonLCB2YWwpfQogICAgLy8gb25Tb3J0ZXJWYWx1ZUNoYW5nZT17KHZhbCkgPT4gY29uc29sZS5sb2coJ25ldyBzb3J0ZXIgdmFsdWU6JywgdmFsKX0KICAgICwKICAgIG9uVGFibGVGaWx0ZXJDaGFuZ2U6IGZ1bmN0aW9uIG9uVGFibGVGaWx0ZXJDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHRhYmxlIGZpbHRlcjonLCB2YWwpOwogICAgfSwKICAgIG9uQ29sdW1uRmlsdGVyQ2hhbmdlOiBvbkZpbHRlckNvbHVtbiwKICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIG9yZGVyOiBmdW5jdGlvbiBvcmRlcihpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpbmRleCArIDEpOwogICAgICB9LAogICAgICBzdGF0dXM6IGZ1bmN0aW9uIHN0YXR1cyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCYWRnZSwgewogICAgICAgICAgY29sb3I6IGdldEJhZGdlKGl0ZW0uc3RhdHVzKQogICAgICAgIH0sIG1hcHBpbmdTdGF0dXNbaXRlbS5zdGF0dXNdKSk7CiAgICAgIH0sCiAgICAgIGltcG9ydDogZnVuY3Rpb24gX2ltcG9ydChpdGVtKSB7CiAgICAgICAgdmFyIF9pdGVtJHN0b3JlVHJhbnNmZXI7CgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpdGVtLnByb3ZpZGVyID8gaXRlbS5wcm92aWRlci5uYW1lIDogKF9pdGVtJHN0b3JlVHJhbnNmZXIgPSBpdGVtLnN0b3JlVHJhbnNmZXIpID09PSBudWxsIHx8IF9pdGVtJHN0b3JlVHJhbnNmZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHN0b3JlVHJhbnNmZXIubmFtZSk7CiAgICAgIH0sCiAgICAgIGFjdGlvbjogZnVuY3Rpb24gYWN0aW9uKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicHktMiBkLWZsZXgiCiAgICAgICAgfSwgcmVuZGVyQnV0dG9uU3RhdHVzKGl0ZW0pKTsKICAgICAgfSwKICAgICAgZGV0YWlsczogZnVuY3Rpb24gZGV0YWlscyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2xsYXBzZSwgewogICAgICAgICAgc2hvdzogX2RldGFpbHMuaW5jbHVkZXMoaXRlbS5pZCkKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJUaFx4RjRuZyB0aW4gbmdcdTAxQjBcdTFFRERpIGRceEY5bmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgICAgbGc6ICI2IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiTVx4RTM6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0uY29kZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIlRceEVBbiBraG86IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0ubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIlx1MDExMFx1MUVDQmEgY2hcdTFFQzkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5hZGRyZXNzKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiU1x1MUVEMSBcdTAxMTFpXHUxRUM3biB0aG9cdTFFQTFpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0udGVsKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBsZzogIjYiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUaFx4RTBuaCBwaFx1MUVEMSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmNpdHkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJRdVx1MUVBRG4gaHV5XHUxRUM3biIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmRpc3RyaWN0KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiWFx4RTMgUGhcdTAxQjBcdTFFRERuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLndhcmQpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUclx1MUVBMW5nIHRoXHhFMWkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgbWFwcGluZ1N0YXR1c1tpdGVtLnN0YXR1c10pKSkpKSk7CiAgICAgIH0KICAgIH0KICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1BhZ2luYXRpb24sIHsKICAgIGFjdGl2ZVBhZ2U6IGFjdGl2ZVBhZ2UsCiAgICBwYWdlczogTWF0aC5mbG9vcihpbml0aWFsU3RhdGUudG90YWxJdGVtIC8gc2l6ZSkgKyAxLAogICAgb25BY3RpdmVQYWdlQ2hhbmdlOiBmdW5jdGlvbiBvbkFjdGl2ZVBhZ2VDaGFuZ2UoaSkgewogICAgICByZXR1cm4gc2V0QWN0aXZlUGFnZShpKTsKICAgIH0KICB9KSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgV2FyZWhvdXNlSW1wb3J0Ow=="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js"],"names":["React","useEffect","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CCol","CPagination","CIcon","useDispatch","useSelector","getWarehouseExport","updateWarehouseImport","fetching","globalizedWarehouseImportSelectors","reset","useHistory","WarehouseImportStatus","WarehouseImportType","confirmAlert","mappingStatus","WAITING","APPROVED","REJECTED","WarehouseImport","props","details","setDetails","state","warehouseImport","initialState","activePage","setActivePage","size","setSize","dispatch","history","page","sort","selectAll","warehouses","computedItems","items","map","item","store","name","approver","login","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","filter","getBadge","status","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateWarehouseImport","push","match","url","toCreateWarehouseExportProvider","toEditWarehouseExportProvider","userId","toEditWarehouseImport","onFilterColumn","value","alertFunc","message","operation","title","buttons","onClick","rejectTicket","bill","data","id","approveTicket","renderButtonStatus","type","EXPORT_TO_PROVIDER","updatingSuccess","loading","val","console","log","order","import","provider","storeTransfer","action","includes","code","address","tel","city","district","ward","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CCol, CPagination } from '@coreui/react';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getWarehouseExport, updateWarehouseImport } from '../Import/warehouse-import.api.js';\nimport { fetching, globalizedWarehouseImportSelectors, reset } from '../Import/warehouse-import.reducer.js';\nimport { useHistory } from 'react-router-dom';\nimport { WarehouseImportStatus, WarehouseImportType } from './contants.js';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nconst mappingStatus = {\n  WAITING: 'CHỜ DUYỆT',\n  APPROVED: 'ĐÃ DUYỆT',\n  REJECTED: 'KHÔNG DUYỆT'\n};\nconst WarehouseImport = props => {\n  const [details, setDetails] = useState([]);\n  const { initialState } = useSelector(state => state.warehouseImport);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(20);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    if (size != 20) {\n      dispatch(getWarehouseExport({ page: activePage - 1, size, sort: 'createdDate,desc' }));\n    }\n  }, [activePage, size]);\n\n  const { selectAll } = globalizedWarehouseImportSelectors;\n  const warehouses = useSelector(selectAll);\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        store: item.store?.name || '',\n        approver: item.approver?.login || ''\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  // Code\tTên kho\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại kho\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: { width: '1%' },\n      filter: false\n    },\n    { key: 'store', label: 'Tên kho xuất', _style: { width: '10%' } },\n    { key: 'createdDate', label: 'Ngày tạo', _style: { width: '15%' } },\n    { key: 'import', label: 'Xuất đến', _style: { width: '10%' } },\n    { key: 'createdBy', label: 'Người tạo', _style: { width: '10%' } },\n    { key: 'approver', label: 'Người duyệt', _style: { width: '15%' } },\n    { key: 'status', label: 'Trạng thái', _style: { width: '10%' } },\n    {\n      key: 'action',\n      label: '',\n      _style: { width: '20%' },\n      filter: false\n    }\n  ];\n\n  const getBadge = status => {\n    switch (status) {\n      case WarehouseImportStatus.APPROVED:\n        return 'success';\n      case WarehouseImportStatus.REJECTED:\n        return 'danger';\n      case WarehouseImportStatus.WAITING:\n        return 'warning';\n      default:\n        return 'primary';\n    }\n  };\n  const csvContent = computedItems(warehouses)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateWarehouseImport = () => {\n    history.push(`${props.match.url}/new`);\n  };\n  const toCreateWarehouseExportProvider = () => {\n    history.push(`${props.match.url}/provider/new`);\n  };\n  const toEditWarehouseExportProvider = (userId) => {\n    history.push(`${props.match.url}/provider/${userId}/edit`);\n  };\n  const toEditWarehouseImport = userId => {\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n\n  const onFilterColumn = value => {\n    if (value) {\n      dispatch(getWarehouseExport({ page: 0, size: size, sort: 'createdDate,desc', ...value }));\n    }\n  };\n\n  const alertFunc = (item, message, operation) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: message,\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: operation(item)\n        },\n        {\n          label: 'Hủy'\n        }\n      ]\n    });\n  };\n\n  const rejectTicket = bill => () => {\n    const data = { id: bill.id, status: WarehouseImportStatus.REJECTED };\n    dispatch(updateWarehouseImport(data));\n  };\n\n  const approveTicket = bill => () => {\n    const data = { id: bill.id, status: WarehouseImportStatus.APPROVED };\n    dispatch(updateWarehouseImport(data));\n  };\n\n  const renderButtonStatus = item => {\n    switch (item.status) {\n      case WarehouseImportStatus.APPROVED:\n      case WarehouseImportStatus.REJECTED:\n        return null;\n      case WarehouseImportStatus.WAITING:\n        return (\n          <CRow>\n            <CButton\n              onClick={() => {\n                item.type !== WarehouseImportType.EXPORT_TO_PROVIDER\n                  ? toEditWarehouseImport(item.id)\n                  : toEditWarehouseExportProvider(item.id);\n              }}\n              color=\"warning\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              <CIcon name=\"cil-pencil\" />\n              CHỈNH SỬA\n            </CButton>\n            <CButton\n              onClick={() => {\n                alertFunc(item, 'Bạn có chắc chắn muốn duyệt phiếu xuất kho này không', approveTicket);\n              }}\n              color=\"success\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              DUYỆT\n            </CButton>\n            <CButton\n              onClick={() => {\n                alertFunc(item, 'Bạn có chắc chắn muốn từ chối phiếu xuất kho này không', rejectTicket);\n              }}\n              color=\"danger\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              KHÔNG DUYỆT\n            </CButton>\n          </CRow>\n        );\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(getWarehouseExport());\n      dispatch(reset());\n    }\n  }, [initialState.updatingSuccess]);\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách phiếu xuất kho\n        <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseImport}>\n          <CIcon name=\"cil-plus\" /> Thêm mới phiếu xuất kho\n        </CButton>\n        <CButton color=\"info\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseExportProvider}>\n          <CIcon name=\"cil-plus\" /> Thêm mới phiếu trả hàng cho nhà cung cấp\n        </CButton>\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CDataTable\n          items={computedItems(warehouses)}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [10, 20, 30, 50] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          loading={initialState.loading}\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={val => console.log('new page:', val)}\n          onPagesChange={val => console.log('new pages:', val)}\n          onPaginationChange={val => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={val => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            status: item => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{mappingStatus[item.status]}</CBadge>\n              </td>\n            ),\n            import: item => <td>{item.provider ? item.provider.name : item.storeTransfer?.name}</td>,\n            action: item => {\n              return <td className=\"py-2 d-flex\">{renderButtonStatus(item)}</td>;\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin người dùng</h5>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Mã:</dt>\n                          <dd className=\"col-sm-9\">{item.code}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên kho:</dt>\n                          <dd className=\"col-sm-9\">{item.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Địa chỉ</dt>\n                          <dd className=\"col-sm-9\">{item.address}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Số điện thoại</dt>\n                          <dd className=\"col-sm-9\">{item.tel}</dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Thành phố</dt>\n                          <dd className=\"col-sm-9\">{item.city}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Quận huyện</dt>\n                          <dd className=\"col-sm-9\">{item.district}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Xã Phường</dt>\n                          <dd className=\"col-sm-9\">{item.ward}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Trạng thái</dt>\n                          <dd className=\"col-sm-9\">{mappingStatus[item.status]}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default WarehouseImport;\n"]}]}