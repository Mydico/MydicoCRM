{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js","mtime":1625156015397},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsgLy8gaW1wb3J0IHVzZXJzRGF0YSBmcm9tICcuLi8uLi8uLi91c2Vycy9Vc2Vyc0RhdGEuanMnOwoKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXRXYXJlaG91c2VFeHBvcnQsIHVwZGF0ZVdhcmVob3VzZUltcG9ydCwgdXBkYXRlV2FyZWhvdXNlU3RhdHVzSW1wb3J0IH0gZnJvbSAnLi4vSW1wb3J0L3dhcmVob3VzZS1pbXBvcnQuYXBpLmpzJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFdhcmVob3VzZUltcG9ydFNlbGVjdG9ycywgcmVzZXQgfSBmcm9tICcuLi9JbXBvcnQvd2FyZWhvdXNlLWltcG9ydC5yZWR1Y2VyLmpzJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBXYXJlaG91c2VJbXBvcnRTdGF0dXMsIFdhcmVob3VzZUltcG9ydFR5cGUgfSBmcm9tICcuL2NvbnRhbnRzLmpzJzsKaW1wb3J0IHsgY29uZmlybUFsZXJ0IH0gZnJvbSAncmVhY3QtY29uZmlybS1hbGVydCc7IC8vIEltcG9ydAoKaW1wb3J0ICdyZWFjdC1jb25maXJtLWFsZXJ0L3NyYy9yZWFjdC1jb25maXJtLWFsZXJ0LmNzcyc7IC8vIEltcG9ydCBjc3MKCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IHsgdXNlclNhZmVTZWxlY3RvciB9IGZyb20gJy4uLy4uL2xvZ2luL2F1dGhlbnRpY2F0ZS5yZWR1Y2VyLmpzJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IFNlbGVjdCBmcm9tICdyZWFjdC1zZWxlY3QnOwppbXBvcnQgeyBDQ29sLCBDRm9ybUdyb3VwLCBDSW5wdXQsIENMYWJlbCB9IGZyb20gJ0Bjb3JldWkvcmVhY3QnOwp2YXIgbWFwcGluZ1N0YXR1cyA9IHsKICBXQUlUSU5HOiAnQ0jhu5wgRFVZ4buGVCcsCiAgQVBQUk9WRUQ6ICfEkMODIERVWeG7hlQnLAogIFJFSkVDVEVEOiAnS0jDlE5HIERVWeG7hlQnCn07IC8vIENvZGUJVMOqbiBraG8JTmfGsOG7nWkgbGnDqm4gbOG6oWMJTsSDbSBTaW5oCcSQaeG7h24gdGhv4bqhaQlOaMOibiB2acOqbiBxdeG6o24gbMO9CUxv4bqhaSBraG8JUGjDom4gbG/huqFpCVPhu61hCVThuqFvIMSRxqFuCgp2YXIgZmllbGRzID0gW3sKICBrZXk6ICdvcmRlcicsCiAgbGFiZWw6ICdTVFQnLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxJScKICB9LAogIGZpbHRlcjogZmFsc2UKfSwgewogIGtleTogJ3Nob3dfZGV0YWlscycsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzElJwogIH0sCiAgZmlsdGVyOiBmYWxzZQp9LCB7CiAga2V5OiAnc3RvcmVOYW1lJywKICBsYWJlbDogJ1TDqm4ga2hvIHh14bqldCcsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzEwJScKICB9Cn0sIHsKICBrZXk6ICdjcmVhdGVkRGF0ZScsCiAgbGFiZWw6ICdOZ8OgeSB04bqhbycsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzE1JScKICB9Cn0sIHsKICBrZXk6ICdzdG9yZVRyYW5zZmVyTmFtZScsCiAgbGFiZWw6ICdYdeG6pXQgxJHhur9uJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMTAlJwogIH0KfSwgewogIGtleTogJ2NyZWF0ZWRCeScsCiAgbGFiZWw6ICdOZ8aw4budaSB04bqhbycsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzEwJScKICB9Cn0sIHsKICBrZXk6ICdhcHByb3Zlck5hbWUnLAogIGxhYmVsOiAnTmfGsOG7nWkgZHV54buHdCcsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzE1JScKICB9Cn0sIHsKICBrZXk6ICdzdGF0dXMnLAogIGxhYmVsOiAnVHLhuqFuZyB0aMOhaScsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzEwJScKICB9Cn0sIHsKICBrZXk6ICdhY3Rpb24nLAogIGxhYmVsOiAnJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMjAlJwogIH0sCiAgZmlsdGVyOiBmYWxzZQp9XTsKdmFyIHN0YXR1c0xpc3QgPSBbewogIHZhbHVlOiAnV0FJVElORycsCiAgbGFiZWw6ICdDSOG7nCBEVVnhu4ZUJwp9LCB7CiAgdmFsdWU6ICdSRUpFQ1RFRCcsCiAgbGFiZWw6ICfEkMODIEjhu6ZZJwp9LCB7CiAgdmFsdWU6ICdBUFBST1ZFRCcsCiAgbGFiZWw6ICfEkMODIERVWeG7hlQnCn1dOwp2YXIgZmllbGRzRGV0YWlsID0gW3sKICBrZXk6ICdvcmRlcicsCiAgbGFiZWw6ICdTVFQnLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxJScKICB9LAogIGZpbHRlcjogZmFsc2UKfSwgewogIGtleTogJ3Byb2R1Y3ROYW1lJywKICBsYWJlbDogJ1TDqm4gc+G6o24gcGjhuqltJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMTAlJwogIH0KfSwgewogIGtleTogJ3VuaXQnLAogIGxhYmVsOiAnxJDGoW4gduG7iycsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzEwJScKICB9Cn0sIHsKICBrZXk6ICd2b2x1bWUnLAogIGxhYmVsOiAnRHVuZyB0w61jaCcsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzEwJScKICB9Cn0sIHsKICBrZXk6ICdxdWFudGl0eScsCiAgbGFiZWw6ICdT4buRIGzGsOG7o25nJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMTAlJwogIH0KfV07Cgp2YXIgZ2V0QmFkZ2UgPSBmdW5jdGlvbiBnZXRCYWRnZShzdGF0dXMpIHsKICBzd2l0Y2ggKHN0YXR1cykgewogICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuQVBQUk9WRUQ6CiAgICAgIHJldHVybiAnc3VjY2Vzcyc7CgogICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuUkVKRUNURUQ6CiAgICAgIHJldHVybiAnZGFuZ2VyJzsKCiAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5XQUlUSU5HOgogICAgICByZXR1cm4gJ3dhcm5pbmcnOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAncHJpbWFyeSc7CiAgfQp9OwoKdmFyIFdhcmVob3VzZUltcG9ydCA9IGZ1bmN0aW9uIFdhcmVob3VzZUltcG9ydChwcm9wcykgewogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBfZGV0YWlscyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldERldGFpbHMgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUud2FyZWhvdXNlSW1wb3J0OwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKHVzZXJTYWZlU2VsZWN0b3IpLAogICAgICBhY2NvdW50ID0gX3VzZVNlbGVjdG9yMi5hY2NvdW50OwoKICB2YXIgaXNBZG1pbiA9IGFjY291bnQuYXV0aG9yaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gaXRlbSA9PT0gJ1JPTEVfQURNSU4nOwogIH0pLmxlbmd0aCA+IDA7CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoMSksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgYWN0aXZlUGFnZSA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldEFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKDUwKSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBzaXplID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0U2l6ZSA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7CiAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7CiAgdmFyIHBhcmFtUmVmID0gdXNlUmVmKG51bGwpOwoKICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoewogICAgc3RhcnREYXRlOiBudWxsLAogICAgZW5kRGF0ZTogbnVsbAogIH0pLAogICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSwKICAgICAgZGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sCiAgICAgIHNldERhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdOwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGRhdGUuZW5kRGF0ZSAmJiBkYXRlLnN0YXJ0RGF0ZSkgewogICAgICB2YXIgcGFyYW1zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlOiBhY3RpdmVQYWdlIC0gMSwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgICB9LCBwYXJhbVJlZi5jdXJyZW50KSwgZGF0ZSk7CgogICAgICBkaXNwYXRjaChnZXRXYXJlaG91c2VFeHBvcnQocGFyYW1zKSk7CiAgICB9CiAgfSwgW2RhdGVdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2gocmVzZXQoKSk7CiAgfSwgW10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXRXYXJlaG91c2VFeHBvcnQoX29iamVjdFNwcmVhZCh7CiAgICAgIHBhZ2U6IGFjdGl2ZVBhZ2UgLSAxLAogICAgICBzaXplOiBzaXplLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgIH0sIHBhcmFtUmVmLmN1cnJlbnQpKSk7CiAgfSwgW2FjdGl2ZVBhZ2UsIHNpemVdKTsKICB2YXIgc2VsZWN0QWxsID0gZ2xvYmFsaXplZFdhcmVob3VzZUltcG9ydFNlbGVjdG9ycy5zZWxlY3RBbGw7CiAgdmFyIHdhcmVob3VzZXMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGwpOwoKICB2YXIgY29tcHV0ZWRJdGVtcyA9IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoaXRlbXMpIHsKICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgc3RvcmVUcmFuc2Zlck5hbWU6IGl0ZW0uc3RvcmVUcmFuc2Zlck5hbWUgfHwgJycsCiAgICAgICAgc3RvcmU6IGl0ZW0uc3RvcmVOYW1lIHx8ICcnLAogICAgICAgIGFwcHJvdmVyTmFtZTogaXRlbS5hcHByb3Zlck5hbWUgfHwgJycsCiAgICAgICAgY3JlYXRlZERhdGU6IG1vbWVudChpdGVtLmNyZWF0ZWREYXRlKS5mb3JtYXQoJ0RELU1NLVlZWVknKQogICAgICB9KTsKICAgIH0pOwogIH07CgogIHZhciB0b2dnbGVEZXRhaWxzID0gZnVuY3Rpb24gdG9nZ2xlRGV0YWlscyhpbmRleCkgewogICAgdmFyIHBvc2l0aW9uID0gX2RldGFpbHMuaW5kZXhPZihpbmRleCk7CgogICAgdmFyIG5ld0RldGFpbHMgPSBfZGV0YWlscy5zbGljZSgpOwoKICAgIGlmIChwb3NpdGlvbiAhPT0gLTEpIHsKICAgICAgbmV3RGV0YWlscy5zcGxpY2UocG9zaXRpb24sIDEpOwogICAgfSBlbHNlIHsKICAgICAgbmV3RGV0YWlscyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX2RldGFpbHMpLCBbaW5kZXhdKTsKICAgIH0KCiAgICBzZXREZXRhaWxzKG5ld0RldGFpbHMpOwogIH07CgogIHZhciBjc3ZDb250ZW50ID0gY29tcHV0ZWRJdGVtcyh3YXJlaG91c2VzKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBPYmplY3QudmFsdWVzKGl0ZW0pLmpvaW4oJywnKTsKICB9KS5qb2luKCdcbicpOwogIHZhciBjc3ZDb2RlID0gJ2RhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCxTRVA9LCUwQScgKyBlbmNvZGVVUklDb21wb25lbnQoY3N2Q29udGVudCk7CgogIHZhciB0b0NyZWF0ZVdhcmVob3VzZUltcG9ydCA9IGZ1bmN0aW9uIHRvQ3JlYXRlV2FyZWhvdXNlSW1wb3J0KCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvbmV3IikpOwogIH07CgogIHZhciB0b0NyZWF0ZVdhcmVob3VzZUV4cG9ydFByb3ZpZGVyID0gZnVuY3Rpb24gdG9DcmVhdGVXYXJlaG91c2VFeHBvcnRQcm92aWRlcigpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL3Byb3ZpZGVyL25ldyIpKTsKICB9OwoKICB2YXIgdG9FZGl0V2FyZWhvdXNlRXhwb3J0UHJvdmlkZXIgPSBmdW5jdGlvbiB0b0VkaXRXYXJlaG91c2VFeHBvcnRQcm92aWRlcih1c2VySWQpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL3Byb3ZpZGVyLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgdG9FZGl0V2FyZWhvdXNlSW1wb3J0ID0gZnVuY3Rpb24gdG9FZGl0V2FyZWhvdXNlSW1wb3J0KHVzZXJJZCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvIikuY29uY2F0KHVzZXJJZCwgIi9lZGl0IikpOwogIH07CgogIHZhciBkZWJvdW5jZWRTZWFyY2hDb2x1bW4gPSBfLmRlYm91bmNlKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPiAwKSB7CiAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoIXZhbHVlW2tleV0pIGRlbGV0ZSB2YWx1ZVtrZXldOwogICAgICB9KTsKICAgICAgcGFyYW1SZWYuY3VycmVudCA9IHZhbHVlOwogICAgICBkaXNwYXRjaChnZXRXYXJlaG91c2VFeHBvcnQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgICB9LCB2YWx1ZSkpKTsKICAgIH0KICB9LCAzMDApOwoKICB2YXIgb25GaWx0ZXJDb2x1bW4gPSBmdW5jdGlvbiBvbkZpbHRlckNvbHVtbih2YWx1ZSkgewogICAgZGVib3VuY2VkU2VhcmNoQ29sdW1uKHZhbHVlKTsKICB9OwoKICB2YXIgYWxlcnRGdW5jID0gZnVuY3Rpb24gYWxlcnRGdW5jKGl0ZW0sIG1lc3NhZ2UsIG9wZXJhdGlvbikgewogICAgY29uZmlybUFsZXJ0KHsKICAgICAgdGl0bGU6ICdYw6FjIG5o4bqtbicsCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgbGFiZWw6ICfEkOG7k25nIMO9JywKICAgICAgICBvbkNsaWNrOiBvcGVyYXRpb24oaXRlbSkKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnSOG7p3knCiAgICAgIH1dCiAgICB9KTsKICB9OwoKICB2YXIgcmVqZWN0VGlja2V0ID0gZnVuY3Rpb24gcmVqZWN0VGlja2V0KGJpbGwpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiBiaWxsLmlkLAogICAgICAgIHN0YXR1czogV2FyZWhvdXNlSW1wb3J0U3RhdHVzLlJFSkVDVEVELAogICAgICAgIGFjdGlvbjogJ2NhbmNlbCcKICAgICAgfTsKICAgICAgZGlzcGF0Y2godXBkYXRlV2FyZWhvdXNlU3RhdHVzSW1wb3J0KGRhdGEpKTsKICAgIH07CiAgfTsKCiAgdmFyIGFwcHJvdmVUaWNrZXQgPSBmdW5jdGlvbiBhcHByb3ZlVGlja2V0KGJpbGwpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiBiaWxsLmlkLAogICAgICAgIHN0YXR1czogV2FyZWhvdXNlSW1wb3J0U3RhdHVzLkFQUFJPVkVELAogICAgICAgIGFjdGlvbjogJ2FwcHJvdmUnCiAgICAgIH07CiAgICAgIGRpc3BhdGNoKHVwZGF0ZVdhcmVob3VzZVN0YXR1c0ltcG9ydChkYXRhKSk7CiAgICB9OwogIH07CgogIHZhciByZW5kZXJCdXR0b25TdGF0dXMgPSBmdW5jdGlvbiByZW5kZXJCdXR0b25TdGF0dXMoaXRlbSkgewogICAgc3dpdGNoIChpdGVtLnN0YXR1cykgewogICAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5BUFBST1ZFRDoKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuUkVKRUNURUQ6CiAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5XQUlUSU5HOgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgICAgICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUFVUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS9zdG9yZS1pbnB1dHMvZXhwb3J0JzsKICAgICAgICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBpdGVtLnR5cGUgIT09IFdhcmVob3VzZUltcG9ydFR5cGUuRVhQT1JUX1RPX1BST1ZJREVSID8gdG9FZGl0V2FyZWhvdXNlSW1wb3J0KGl0ZW0uaWQpIDogdG9FZGl0V2FyZWhvdXNlRXhwb3J0UHJvdmlkZXIoaXRlbS5pZCk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJ3YXJuaW5nIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsLXBlbmNpbCIKICAgICAgICB9KSwgIkNIXHUxRUM4TkggU1x1MUVFQ0EiKSwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICAgICAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BVVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvc3RvcmUtaW5wdXRzL2V4cG9ydC9hcHByb3ZlJzsKICAgICAgICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBhbGVydEZ1bmMoaXRlbSwgJ0LhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiBkdXnhu4d0IHBoaeG6v3UgeHXhuqV0IGtobyBuw6B5IGtow7RuZycsIGFwcHJvdmVUaWNrZXQpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAic3VjY2VzcyIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgY2xhc3NOYW1lOiAibXItMSIKICAgICAgICB9LCAiRFVZXHUxRUM2VCIpLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgICAgICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUFVUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS9zdG9yZS1pbnB1dHMvZXhwb3J0L2NhbmNlbCc7CiAgICAgICAgfSkubGVuZ3RoID4gMCkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgYWxlcnRGdW5jKGl0ZW0sICdC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdOG7qyBjaOG7kWkgcGhp4bq/dSB4deG6pXQga2hvIG7DoHkga2jDtG5nJywgcmVqZWN0VGlja2V0KTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgY2xhc3NOYW1lOiAibXItMSIKICAgICAgICB9LCAiS0hceEQ0TkcgRFVZXHUxRUM2VCIpKTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfTsKCiAgdmFyIG1lbW9Db21wdXRlZEl0ZW1zID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGl0ZW1zKSB7CiAgICByZXR1cm4gY29tcHV0ZWRJdGVtcyhpdGVtcyk7CiAgfSwgW10pOwogIHZhciBtZW1vTGlzdGVkID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbWVtb0NvbXB1dGVkSXRlbXMod2FyZWhvdXNlcyk7CiAgfSwgW3dhcmVob3VzZXNdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGluaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3MpIHsKICAgICAgZGlzcGF0Y2goZ2V0V2FyZWhvdXNlRXhwb3J0KCkpOwogICAgICBkaXNwYXRjaChyZXNldCgpKTsKICAgIH0KICB9LCBbaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2Vzc10pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLWdyaWQiCiAgfSksICIgRGFuaCBzXHhFMWNoIHBoaVx1MUVCRnUgeHVcdTFFQTV0IGtobyIsIChpc0FkbWluIHx8IGFjY291bnQucm9sZS5maWx0ZXIoZnVuY3Rpb24gKHJvbCkgewogICAgcmV0dXJuIHJvbC5tZXRob2QgPT09ICdQT1NUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS9zdG9yZS1pbnB1dHMvZXhwb3J0JzsKICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICBvbkNsaWNrOiB0b0NyZWF0ZVdhcmVob3VzZUltcG9ydAogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLXBsdXMiCiAgfSksICIgVGhceEVBbSBtXHUxRURCaSBwaGlcdTFFQkZ1IHh1XHUxRUE1dCBraG8iKSwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BPU1QnICYmIHJvbC5lbnRpdHkgPT09ICcvYXBpL3N0b3JlLWlucHV0cy9leHBvcnQnOwogIH0pLmxlbmd0aCA+IDApICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAiaW5mbyIsCiAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICBjbGFzc05hbWU6ICJtbC0zIiwKICAgIG9uQ2xpY2s6IHRvQ3JlYXRlV2FyZWhvdXNlRXhwb3J0UHJvdmlkZXIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1wbHVzIgogIH0pLCAiIFRoXHhFQW0gbVx1MUVEQmkgcGhpXHUxRUJGdSB0clx1MUVBMyBoXHhFMG5nIGNobyBuaFx4RTAgY3VuZyBjXHUxRUE1cCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInByaW1hcnkiLAogICAgY2xhc3NOYW1lOiAibWItMiIsCiAgICBocmVmOiBjc3ZDb2RlLAogICAgZG93bmxvYWQ6ICJjb3JldWktdGFibGUtZGF0YS5jc3YiLAogICAgdGFyZ2V0OiAiX2JsYW5rIgogIH0sICJUXHUxRUEzaSBleGNlbCAoLmNzdikiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgcm93OiB0cnVlLAogICAgeHM6ICIxMiIsCiAgICBtZDogIjEyIiwKICAgIGxnOiAiMTIiLAogICAgY2xhc3NOYW1lOiAibWwtMiBtdC0zIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIHsKICAgIHJvdzogdHJ1ZQogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgaHRtbEZvcjogImRhdGUtaW5wdXQiCiAgfSwgIlRcdTFFRUIgbmdceEUweSIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgeHM6ICIxMiIsCiAgICBtZDogIjkiLAogICAgbGc6ICIxMiIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgIHR5cGU6ICJkYXRlIiwKICAgIGlkOiAiZGF0ZS1pbnB1dCIsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICByZXR1cm4gc2V0RGF0ZShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRhdGUpLCB7fSwgewogICAgICAgIHN0YXJ0RGF0ZTogZS50YXJnZXQudmFsdWUKICAgICAgfSkpOwogICAgfSwKICAgIG5hbWU6ICJkYXRlLWlucHV0IiwKICAgIHBsYWNlaG9sZGVyOiAiZGF0ZSIKICB9KSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICByb3c6IHRydWUsCiAgICBjbGFzc05hbWU6ICJtbC0zIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgaHRtbEZvcjogImRhdGUtaW5wdXQiCiAgfSwgIlx1MDExMFx1MUVCRm4gbmdceEUweSIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgeHM6ICIxMiIsCiAgICBtZDogIjkiLAogICAgbGc6ICIxMiIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgIHR5cGU6ICJkYXRlIiwKICAgIGlkOiAiZGF0ZS1pbnB1dCIsCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICByZXR1cm4gc2V0RGF0ZShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRhdGUpLCB7fSwgewogICAgICAgIGVuZERhdGU6IGUudGFyZ2V0LnZhbHVlCiAgICAgIH0pKTsKICAgIH0sCiAgICBuYW1lOiAiZGF0ZS1pbnB1dCIsCiAgICBwbGFjZWhvbGRlcjogImRhdGUiCiAgfSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENEYXRhVGFibGUsIHsKICAgIGl0ZW1zOiBtZW1vTGlzdGVkLAogICAgZmllbGRzOiBmaWVsZHMsCiAgICBjb2x1bW5GaWx0ZXI6IHRydWUsCiAgICBpdGVtc1BlclBhZ2VTZWxlY3Q6IHsKICAgICAgbGFiZWw6ICdT4buRIGzGsOG7o25nIHRyw6puIG3hu5l0IHRyYW5nJywKICAgICAgdmFsdWVzOiBbNTAsIDEwMCwgMTUwLCAyMDBdCiAgICB9LAogICAgaXRlbXNQZXJQYWdlOiBzaXplLAogICAgaG92ZXI6IHRydWUsCiAgICBzb3J0ZXI6IHRydWUsCiAgICBub0l0ZW1zVmlldzogewogICAgICBub1Jlc3VsdHM6ICdLaMO0bmcgdMOsbSB0aOG6pXkga+G6v3QgcXXhuqMnLAogICAgICBub0l0ZW1zOiAnS2jDtG5nIGPDsyBk4buvIGxp4buHdScKICAgIH0sCiAgICBsb2FkaW5nOiBpbml0aWFsU3RhdGUubG9hZGluZywKICAgIG9uUGFnaW5hdGlvbkNoYW5nZTogZnVuY3Rpb24gb25QYWdpbmF0aW9uQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gc2V0U2l6ZSh2YWwpOwogICAgfSwKICAgIG9uQ29sdW1uRmlsdGVyQ2hhbmdlOiBvbkZpbHRlckNvbHVtbiwKICAgIGNvbHVtbkZpbHRlclNsb3Q6IHsKICAgICAgc3RhdHVzOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBtaW5XaWR0aDogMjAwCiAgICAgICAgfQogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoaXRlbSkgewogICAgICAgICAgb25GaWx0ZXJDb2x1bW4oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbVJlZi5jdXJyZW50KSwge30sIHsKICAgICAgICAgICAgc3RhdHVzOiAoaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLnZhbHVlKSB8fCAnJwogICAgICAgICAgfSkpOwogICAgICAgIH0sCiAgICAgICAgbWF4TWVudUhlaWdodDogIjIwMCIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJDaFx1MUVDRG4gdHJcdTFFQTFuZyB0aFx4RTFpIiwKICAgICAgICBpc0NsZWFyYWJsZTogdHJ1ZSwKICAgICAgICBvcHRpb25zOiBzdGF0dXNMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUsCiAgICAgICAgICAgIGxhYmVsOiBpdGVtLmxhYmVsCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH0pKQogICAgfSwKICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIG9yZGVyOiBmdW5jdGlvbiBvcmRlcihpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoYWN0aXZlUGFnZSAtIDEpICogc2l6ZSArIGluZGV4ICsgMSk7CiAgICAgIH0sCiAgICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0JhZGdlLCB7CiAgICAgICAgICBjb2xvcjogZ2V0QmFkZ2UoaXRlbS5zdGF0dXMpCiAgICAgICAgfSwgbWFwcGluZ1N0YXR1c1tpdGVtLnN0YXR1c10pKTsKICAgICAgfSwKICAgICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJweS0yIGQtZmxleCIKICAgICAgICB9LCByZW5kZXJCdXR0b25TdGF0dXMoaXRlbSkpOwogICAgICB9LAogICAgICBzaG93X2RldGFpbHM6IGZ1bmN0aW9uIHNob3dfZGV0YWlscyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInB5LTIgZC1mbGV4IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgdG9nZ2xlRGV0YWlscyhpdGVtLmlkKTsKICAgICAgICAgIH0KICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgICAgbmFtZTogImNpbFpvb20iCiAgICAgICAgfSkpKTsKICAgICAgfSwKICAgICAgZGV0YWlsczogZnVuY3Rpb24gZGV0YWlscyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2xsYXBzZSwgewogICAgICAgICAgc2hvdzogX2RldGFpbHMuaW5jbHVkZXMoaXRlbS5pZCkKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJUaFx4RjRuZyB0aW4gXHUwMTExXHUwMUExbiBuaFx1MUVBRHAiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0RhdGFUYWJsZSwgewogICAgICAgICAgaXRlbXM6IGl0ZW0uc3RvcmVJbnB1dERldGFpbHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHZhciBfaXRlbSRwcm9kdWN0LCBfaXRlbSRwcm9kdWN0MiwgX2l0ZW0kcHJvZHVjdDM7CgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiAoKF9pdGVtJHByb2R1Y3QgPSBpdGVtLnByb2R1Y3QpID09PSBudWxsIHx8IF9pdGVtJHByb2R1Y3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QubmFtZSkgfHwgJycsCiAgICAgICAgICAgICAgdW5pdDogKChfaXRlbSRwcm9kdWN0MiA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QyLnVuaXQpIHx8ICcnLAogICAgICAgICAgICAgIHZvbHVtZTogKChfaXRlbSRwcm9kdWN0MyA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdDMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3QzLnZvbHVtZSkgfHwgJycsCiAgICAgICAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHkgfHwgJycKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pLAogICAgICAgICAgZmllbGRzOiBmaWVsZHNEZXRhaWwsCiAgICAgICAgICBib3JkZXJlZDogdHJ1ZSwKICAgICAgICAgIGl0ZW1zUGVyUGFnZTogNSwKICAgICAgICAgIHBhZ2luYXRpb246IHRydWUsCiAgICAgICAgICBzY29wZWRTbG90czogewogICAgICAgICAgICBvcmRlcjogZnVuY3Rpb24gb3JkZXIoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaW5kZXggKyAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pKSk7CiAgICAgIH0KICAgIH0KICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1BhZ2luYXRpb24sIHsKICAgIGFjdGl2ZVBhZ2U6IGFjdGl2ZVBhZ2UsCiAgICBwYWdlczogTWF0aC5mbG9vcihpbml0aWFsU3RhdGUudG90YWxJdGVtIC8gc2l6ZSkgKyAxLAogICAgb25BY3RpdmVQYWdlQ2hhbmdlOiBmdW5jdGlvbiBvbkFjdGl2ZVBhZ2VDaGFuZ2UoaSkgewogICAgICByZXR1cm4gc2V0QWN0aXZlUGFnZShpKTsKICAgIH0KICB9KSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgV2FyZWhvdXNlSW1wb3J0Ow=="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js"],"names":["React","useEffect","useState","useCallback","useRef","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CPagination","CIcon","useDispatch","useSelector","getWarehouseExport","updateWarehouseImport","updateWarehouseStatusImport","globalizedWarehouseImportSelectors","reset","useHistory","WarehouseImportStatus","WarehouseImportType","confirmAlert","moment","userSafeSelector","_","Select","CCol","CFormGroup","CInput","CLabel","mappingStatus","WAITING","APPROVED","REJECTED","fields","key","label","_style","width","filter","statusList","value","fieldsDetail","getBadge","status","WarehouseImport","props","details","setDetails","state","warehouseImport","initialState","account","isAdmin","authorities","item","length","activePage","setActivePage","size","setSize","dispatch","history","paramRef","startDate","endDate","date","setDate","params","page","sort","current","selectAll","warehouses","computedItems","items","map","storeTransferName","store","storeName","approverName","createdDate","format","toggleDetails","index","position","indexOf","newDetails","slice","splice","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateWarehouseImport","push","match","url","toCreateWarehouseExportProvider","toEditWarehouseExportProvider","userId","toEditWarehouseImport","debouncedSearchColumn","debounce","keys","forEach","onFilterColumn","alertFunc","message","operation","title","buttons","onClick","rejectTicket","bill","data","id","action","approveTicket","renderButtonStatus","role","rol","method","entity","type","EXPORT_TO_PROVIDER","memoComputedItems","memoListed","useMemo","updatingSuccess","e","target","noResults","noItems","loading","val","minWidth","order","show_details","includes","storeInputDetails","productName","product","name","unit","volume","quantity","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback, useRef } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CPagination } from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getWarehouseExport, updateWarehouseImport, updateWarehouseStatusImport } from '../Import/warehouse-import.api.js';\nimport { globalizedWarehouseImportSelectors, reset } from '../Import/warehouse-import.reducer.js';\nimport { useHistory } from 'react-router-dom';\nimport { WarehouseImportStatus, WarehouseImportType } from './contants.js';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nimport moment from 'moment';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\nimport _ from 'lodash';\nimport Select from 'react-select';\nimport { CCol, CFormGroup, CInput, CLabel } from '@coreui/react';\n\nconst mappingStatus = {\n  WAITING: 'CHỜ DUYỆT',\n  APPROVED: 'ĐÃ DUYỆT',\n  REJECTED: 'KHÔNG DUYỆT'\n};\n\n// Code\tTên kho\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại kho\tPhân loại\tSửa\tTạo đơn\nconst fields = [\n  {\n    key: 'order',\n    label: 'STT',\n    _style: { width: '1%' },\n    filter: false\n  },\n  {\n    key: 'show_details',\n    _style: { width: '1%' },\n    filter: false\n  },\n  { key: 'storeName', label: 'Tên kho xuất', _style: { width: '10%' } },\n  { key: 'createdDate', label: 'Ngày tạo', _style: { width: '15%' } },\n  { key: 'storeTransferName', label: 'Xuất đến', _style: { width: '10%' } },\n  { key: 'createdBy', label: 'Người tạo', _style: { width: '10%' } },\n  { key: 'approverName', label: 'Người duyệt', _style: { width: '15%' } },\n  { key: 'status', label: 'Trạng thái', _style: { width: '10%' } },\n  {\n    key: 'action',\n    label: '',\n    _style: { width: '20%' },\n    filter: false\n  }\n];\nconst statusList = [\n  {\n    value: 'WAITING',\n    label: 'CHỜ DUYỆT'\n  },\n  {\n    value: 'REJECTED',\n    label: 'ĐÃ HỦY'\n  },\n  {\n    value: 'APPROVED',\n    label: 'ĐÃ DUYỆT'\n  }\n];\nconst fieldsDetail = [\n  {\n    key: 'order',\n    label: 'STT',\n    _style: { width: '1%' },\n    filter: false\n  },\n  { key: 'productName', label: 'Tên sản phẩm', _style: { width: '10%' } },\n  { key: 'unit', label: 'Đơn vị', _style: { width: '10%' } },\n  { key: 'volume', label: 'Dung tích', _style: { width: '10%' } },\n  { key: 'quantity', label: 'Số lượng', _style: { width: '10%' } }\n];\n\nconst getBadge = status => {\n  switch (status) {\n    case WarehouseImportStatus.APPROVED:\n      return 'success';\n    case WarehouseImportStatus.REJECTED:\n      return 'danger';\n    case WarehouseImportStatus.WAITING:\n      return 'warning';\n    default:\n      return 'primary';\n  }\n};\nconst WarehouseImport = props => {\n  const [details, setDetails] = useState([]);\n  const { initialState } = useSelector(state => state.warehouseImport);\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(50);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const paramRef = useRef(null);\n  const [date, setDate] = React.useState({ startDate: null, endDate: null });\n\n  useEffect(() => {\n    if (date.endDate && date.startDate) {\n      const params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current, ...date };\n      dispatch(getWarehouseExport(params));\n    }\n  }, [date]);\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    dispatch(getWarehouseExport({ page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current }));\n  }, [activePage, size]);\n\n  const { selectAll } = globalizedWarehouseImportSelectors;\n  const warehouses = useSelector(selectAll);\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        storeTransferName: item.storeTransferName || '',\n        store: item.storeName || '',\n        approverName: item.approverName || '',\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY')\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  const csvContent = computedItems(warehouses)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateWarehouseImport = () => {\n    history.push(`${props.match.url}/new`);\n  };\n  const toCreateWarehouseExportProvider = () => {\n    history.push(`${props.match.url}/provider/new`);\n  };\n  const toEditWarehouseExportProvider = userId => {\n    history.push(`${props.match.url}/provider/${userId}/edit`);\n  };\n  const toEditWarehouseImport = userId => {\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n\n  const debouncedSearchColumn = _.debounce(value => {\n    if (Object.keys(value).length > 0) {\n      Object.keys(value).forEach(key => {\n        if (!value[key]) delete value[key];\n      });\n      paramRef.current = value;\n      dispatch(getWarehouseExport({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n    }\n  }, 300);\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value);\n  };\n\n  const alertFunc = (item, message, operation) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: message,\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: operation(item)\n        },\n        {\n          label: 'Hủy'\n        }\n      ]\n    });\n  };\n\n  const rejectTicket = bill => () => {\n    const data = { id: bill.id, status: WarehouseImportStatus.REJECTED, action: 'cancel' };\n    dispatch(updateWarehouseStatusImport(data));\n  };\n\n  const approveTicket = bill => () => {\n    const data = { id: bill.id, status: WarehouseImportStatus.APPROVED, action: 'approve' };\n    dispatch(updateWarehouseStatusImport(data));\n  };\n\n  const renderButtonStatus = item => {\n    switch (item.status) {\n      case WarehouseImportStatus.APPROVED:\n      case WarehouseImportStatus.REJECTED:\n        return null;\n      case WarehouseImportStatus.WAITING:\n        return (\n          <CRow>\n            {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/store-inputs/export').length > 0) && (\n              <CButton\n                onClick={() => {\n                  item.type !== WarehouseImportType.EXPORT_TO_PROVIDER\n                    ? toEditWarehouseImport(item.id)\n                    : toEditWarehouseExportProvider(item.id);\n                }}\n                color=\"warning\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n                className=\"mr-1\"\n              >\n                <CIcon name=\"cil-pencil\" />\n                CHỈNH SỬA\n              </CButton>\n            )}\n            {(isAdmin ||\n              account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/store-inputs/export/approve').length > 0) && (\n              <CButton\n                onClick={() => {\n                  alertFunc(item, 'Bạn có chắc chắn muốn duyệt phiếu xuất kho này không', approveTicket);\n                }}\n                color=\"success\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n                className=\"mr-1\"\n              >\n                DUYỆT\n              </CButton>\n            )}\n            {(isAdmin ||\n              account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/store-inputs/export/cancel').length > 0) && (\n              <CButton\n                onClick={() => {\n                  alertFunc(item, 'Bạn có chắc chắn muốn từ chối phiếu xuất kho này không', rejectTicket);\n                }}\n                color=\"danger\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n                className=\"mr-1\"\n              >\n                KHÔNG DUYỆT\n              </CButton>\n            )}\n          </CRow>\n        );\n      default:\n        break;\n    }\n  };\n\n  const memoComputedItems = React.useCallback(items => computedItems(items), []);\n  const memoListed = React.useMemo(() => memoComputedItems(warehouses), [warehouses]);\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(getWarehouseExport());\n      dispatch(reset());\n    }\n  }, [initialState.updatingSuccess]);\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách phiếu xuất kho\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/store-inputs/export').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseImport}>\n            <CIcon name=\"cil-plus\" /> Thêm mới phiếu xuất kho\n          </CButton>\n        )}\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/store-inputs/export').length > 0) && (\n          <CButton color=\"info\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseExportProvider}>\n            <CIcon name=\"cil-plus\" /> Thêm mới phiếu trả hàng cho nhà cung cấp\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CFormGroup row xs=\"12\" md=\"12\" lg=\"12\" className=\"ml-2 mt-3\">\n          <CFormGroup row>\n            <CCol>\n              <CLabel htmlFor=\"date-input\">Từ ngày</CLabel>\n            </CCol>\n            <CCol xs=\"12\" md=\"9\" lg=\"12\">\n              <CInput\n                type=\"date\"\n                id=\"date-input\"\n                onChange={e =>\n                  setDate({\n                    ...date,\n                    startDate: e.target.value\n                  })\n                }\n                name=\"date-input\"\n                placeholder=\"date\"\n              />\n            </CCol>\n          </CFormGroup>\n          <CFormGroup row className=\"ml-3\">\n            <CCol>\n              <CLabel htmlFor=\"date-input\">Đến ngày</CLabel>\n            </CCol>\n            <CCol xs=\"12\" md=\"9\" lg=\"12\">\n              <CInput\n                type=\"date\"\n                id=\"date-input\"\n                onChange={e =>\n                  setDate({\n                    ...date,\n                    endDate: e.target.value\n                  })\n                }\n                name=\"date-input\"\n                placeholder=\"date\"\n              />\n            </CCol>\n          </CFormGroup>\n        </CFormGroup>\n        <CDataTable\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [50, 100, 150, 200] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          noItemsView={{\n            noResults: 'Không tìm thấy kết quả',\n            noItems: 'Không có dữ liệu'\n          }}\n          loading={initialState.loading}\n          onPaginationChange={val => setSize(val)}\n          onColumnFilterChange={onFilterColumn}\n          columnFilterSlot={{\n            status: (\n              <div style={{ minWidth: 200 }}>\n                <Select\n                  onChange={item => {\n                    onFilterColumn({ ...paramRef.current, status: item?.value || '' });\n                  }}\n                  maxMenuHeight=\"200\"\n                  placeholder=\"Chọn trạng thái\"\n                  isClearable\n                  options={statusList.map(item => ({\n                    value: item.value,\n                    label: item.label\n                  }))}\n                />\n              </div>\n            )\n          }}\n          scopedSlots={{\n            order: (item, index) => <td>{(activePage - 1) * size + index + 1}</td>,\n            status: item => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{mappingStatus[item.status]}</CBadge>\n              </td>\n            ),\n            action: item => {\n              return <td className=\"py-2 d-flex\">{renderButtonStatus(item)}</td>;\n            },\n            show_details: item => {\n              return (\n                <td className=\"py-2 d-flex\">\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                </td>\n              );\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin đơn nhập</h5>\n                    <CDataTable\n                      items={item.storeInputDetails.map(item => {\n                        return {\n                          productName: item.product?.name || '',\n                          unit: item.product?.unit || '',\n                          volume: item.product?.volume || '',\n                          quantity: item.quantity || ''\n                        };\n                      })}\n                      fields={fieldsDetail}\n                      bordered\n                      itemsPerPage={5}\n                      pagination\n                      scopedSlots={{\n                        order: (item, index) => <td>{index + 1}</td>\n                      }}\n                    />\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default WarehouseImport;\n"]}]}