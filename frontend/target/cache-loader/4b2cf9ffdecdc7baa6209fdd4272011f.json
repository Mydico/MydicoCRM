{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js","mtime":1621950737107},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsgLy8gaW1wb3J0IHVzZXJzRGF0YSBmcm9tICcuLi8uLi8uLi91c2Vycy9Vc2Vyc0RhdGEuanMnOwoKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXRXYXJlaG91c2VFeHBvcnQsIHVwZGF0ZVdhcmVob3VzZUltcG9ydCB9IGZyb20gJy4uL0ltcG9ydC93YXJlaG91c2UtaW1wb3J0LmFwaS5qcyc7CmltcG9ydCB7IGdsb2JhbGl6ZWRXYXJlaG91c2VJbXBvcnRTZWxlY3RvcnMsIHJlc2V0IH0gZnJvbSAnLi4vSW1wb3J0L3dhcmVob3VzZS1pbXBvcnQucmVkdWNlci5qcyc7CmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLCBXYXJlaG91c2VJbXBvcnRUeXBlIH0gZnJvbSAnLi9jb250YW50cy5qcyc7CmltcG9ydCB7IGNvbmZpcm1BbGVydCB9IGZyb20gJ3JlYWN0LWNvbmZpcm0tYWxlcnQnOyAvLyBJbXBvcnQKCmltcG9ydCAncmVhY3QtY29uZmlybS1hbGVydC9zcmMvcmVhY3QtY29uZmlybS1hbGVydC5jc3MnOyAvLyBJbXBvcnQgY3NzCgppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCB7IHVzZXJTYWZlU2VsZWN0b3IgfSBmcm9tICcuLi8uLi9sb2dpbi9hdXRoZW50aWNhdGUucmVkdWNlci5qcyc7CnZhciBtYXBwaW5nU3RhdHVzID0gewogIFdBSVRJTkc6ICdDSOG7nCBEVVnhu4ZUJywKICBBUFBST1ZFRDogJ8SQw4MgRFVZ4buGVCcsCiAgUkVKRUNURUQ6ICdLSMOUTkcgRFVZ4buGVCcKfTsKCnZhciBXYXJlaG91c2VJbXBvcnQgPSBmdW5jdGlvbiBXYXJlaG91c2VJbXBvcnQocHJvcHMpIHsKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgX2RldGFpbHMgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXREZXRhaWxzID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLndhcmVob3VzZUltcG9ydDsKICB9KSwKICAgICAgaW5pdGlhbFN0YXRlID0gX3VzZVNlbGVjdG9yLmluaXRpYWxTdGF0ZTsKCiAgdmFyIF91c2VTZWxlY3RvcjIgPSB1c2VTZWxlY3Rvcih1c2VyU2FmZVNlbGVjdG9yKSwKICAgICAgYWNjb3VudCA9IF91c2VTZWxlY3RvcjIuYWNjb3VudDsKCiAgdmFyIGlzQWRtaW4gPSBhY2NvdW50LmF1dGhvcml0aWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIGl0ZW0gPT09ICdST0xFX0FETUlOJzsKICB9KS5sZW5ndGggPiAwOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKDEpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRBY3RpdmVQYWdlID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZSgyMCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2l6ZSA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldFNpemUgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChyZXNldCgpKTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGRpc3BhdGNoKGdldFdhcmVob3VzZUV4cG9ydCh7CiAgICAgIHBhZ2U6IGFjdGl2ZVBhZ2UgLSAxLAogICAgICBzaXplOiBzaXplLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgIH0pKTsKICB9LCBbYWN0aXZlUGFnZSwgc2l6ZV0pOwogIHZhciBzZWxlY3RBbGwgPSBnbG9iYWxpemVkV2FyZWhvdXNlSW1wb3J0U2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgd2FyZWhvdXNlcyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbCk7CgogIHZhciBjb21wdXRlZEl0ZW1zID0gZnVuY3Rpb24gY29tcHV0ZWRJdGVtcyhpdGVtcykgewogICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgX2l0ZW0kc3RvcmUsIF9pdGVtJGFwcHJvdmVyOwoKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgc3RvcmU6ICgoX2l0ZW0kc3RvcmUgPSBpdGVtLnN0b3JlKSA9PT0gbnVsbCB8fCBfaXRlbSRzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kc3RvcmUubmFtZSkgfHwgJycsCiAgICAgICAgYXBwcm92ZXI6ICgoX2l0ZW0kYXBwcm92ZXIgPSBpdGVtLmFwcHJvdmVyKSA9PT0gbnVsbCB8fCBfaXRlbSRhcHByb3ZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kYXBwcm92ZXIubG9naW4pIHx8ICcnLAogICAgICAgIGNyZWF0ZWREYXRlOiBtb21lbnQoaXRlbS5jcmVhdGVkRGF0ZSkuZm9ybWF0KCdERC1NTS1ZWVlZJykKICAgICAgfSk7CiAgICB9KTsKICB9OwoKICB2YXIgdG9nZ2xlRGV0YWlscyA9IGZ1bmN0aW9uIHRvZ2dsZURldGFpbHMoaW5kZXgpIHsKICAgIHZhciBwb3NpdGlvbiA9IF9kZXRhaWxzLmluZGV4T2YoaW5kZXgpOwoKICAgIHZhciBuZXdEZXRhaWxzID0gX2RldGFpbHMuc2xpY2UoKTsKCiAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7CiAgICAgIG5ld0RldGFpbHMuc3BsaWNlKHBvc2l0aW9uLCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIG5ld0RldGFpbHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF9kZXRhaWxzKSwgW2luZGV4XSk7CiAgICB9CgogICAgc2V0RGV0YWlscyhuZXdEZXRhaWxzKTsKICB9OyAvLyBDb2RlCVTDqm4ga2hvCU5nxrDhu51pIGxpw6puIGzhuqFjCU7Eg20gU2luaAnEkGnhu4duIHRob+G6oWkJTmjDom4gdmnDqm4gcXXhuqNuIGzDvQlMb+G6oWkga2hvCVBow6JuIGxv4bqhaQlT4butYQlU4bqhbyDEkcahbgoKCiAgdmFyIGZpZWxkcyA9IFt7CiAgICBrZXk6ICdvcmRlcicsCiAgICBsYWJlbDogJ1NUVCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfSwgewogICAga2V5OiAnc2hvd19kZXRhaWxzJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzElJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9LCB7CiAgICBrZXk6ICdzdG9yZScsCiAgICBsYWJlbDogJ1TDqm4ga2hvIHh14bqldCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlZERhdGUnLAogICAgbGFiZWw6ICdOZ8OgeSB04bqhbycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnaW1wb3J0JywKICAgIGxhYmVsOiAnWHXhuqV0IMSR4bq/bicsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlZEJ5JywKICAgIGxhYmVsOiAnTmfGsOG7nWkgdOG6oW8nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ2FwcHJvdmVyJywKICAgIGxhYmVsOiAnTmfGsOG7nWkgZHV54buHdCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnc3RhdHVzJywKICAgIGxhYmVsOiAnVHLhuqFuZyB0aMOhaScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnYWN0aW9uJywKICAgIGxhYmVsOiAnJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzIwJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfV07CiAgdmFyIGZpZWxkc0RldGFpbCA9IFt7CiAgICBrZXk6ICdvcmRlcicsCiAgICBsYWJlbDogJ1NUVCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfSwgewogICAga2V5OiAncHJvZHVjdE5hbWUnLAogICAgbGFiZWw6ICdUw6puIHPhuqNuIHBo4bqpbScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAndW5pdCcsCiAgICBsYWJlbDogJ8SQxqFuIHbhu4snLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3ZvbHVtZScsCiAgICBsYWJlbDogJ0R1bmcgdMOtY2gnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3F1YW50aXR5JywKICAgIGxhYmVsOiAnU+G7kSBsxrDhu6NuZycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfV07CgogIHZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHN0YXR1cykgewogICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuQVBQUk9WRUQ6CiAgICAgICAgcmV0dXJuICdzdWNjZXNzJzsKCiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLlJFSkVDVEVEOgogICAgICAgIHJldHVybiAnZGFuZ2VyJzsKCiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLldBSVRJTkc6CiAgICAgICAgcmV0dXJuICd3YXJuaW5nJzsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuICdwcmltYXJ5JzsKICAgIH0KICB9OwoKICB2YXIgY3N2Q29udGVudCA9IGNvbXB1dGVkSXRlbXMod2FyZWhvdXNlcykubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpdGVtKS5qb2luKCcsJyk7CiAgfSkuam9pbignXG4nKTsKICB2YXIgY3N2Q29kZSA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsU0VQPSwlMEEnICsgZW5jb2RlVVJJQ29tcG9uZW50KGNzdkNvbnRlbnQpOwoKICB2YXIgdG9DcmVhdGVXYXJlaG91c2VJbXBvcnQgPSBmdW5jdGlvbiB0b0NyZWF0ZVdhcmVob3VzZUltcG9ydCgpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL25ldyIpKTsKICB9OwoKICB2YXIgdG9DcmVhdGVXYXJlaG91c2VFeHBvcnRQcm92aWRlciA9IGZ1bmN0aW9uIHRvQ3JlYXRlV2FyZWhvdXNlRXhwb3J0UHJvdmlkZXIoKSB7CiAgICBoaXN0b3J5LnB1c2goIiIuY29uY2F0KHByb3BzLm1hdGNoLnVybCwgIi9wcm92aWRlci9uZXciKSk7CiAgfTsKCiAgdmFyIHRvRWRpdFdhcmVob3VzZUV4cG9ydFByb3ZpZGVyID0gZnVuY3Rpb24gdG9FZGl0V2FyZWhvdXNlRXhwb3J0UHJvdmlkZXIodXNlcklkKSB7CiAgICBoaXN0b3J5LnB1c2goIiIuY29uY2F0KHByb3BzLm1hdGNoLnVybCwgIi9wcm92aWRlci8iKS5jb25jYXQodXNlcklkLCAiL2VkaXQiKSk7CiAgfTsKCiAgdmFyIHRvRWRpdFdhcmVob3VzZUltcG9ydCA9IGZ1bmN0aW9uIHRvRWRpdFdhcmVob3VzZUltcG9ydCh1c2VySWQpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgb25GaWx0ZXJDb2x1bW4gPSBmdW5jdGlvbiBvbkZpbHRlckNvbHVtbih2YWx1ZSkgewogICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPiAwKSB7CiAgICAgIGRpc3BhdGNoKGdldFdhcmVob3VzZUV4cG9ydChfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIHNpemU6IHNpemUsCiAgICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICAgIH0sIHZhbHVlKSkpOwogICAgfQogIH07CgogIHZhciBhbGVydEZ1bmMgPSBmdW5jdGlvbiBhbGVydEZ1bmMoaXRlbSwgbWVzc2FnZSwgb3BlcmF0aW9uKSB7CiAgICBjb25maXJtQWxlcnQoewogICAgICB0aXRsZTogJ1jDoWMgbmjhuq1uJywKICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgYnV0dG9uczogW3sKICAgICAgICBsYWJlbDogJ8SQ4buTbmcgw70nLAogICAgICAgIG9uQ2xpY2s6IG9wZXJhdGlvbihpdGVtKQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdI4buneScKICAgICAgfV0KICAgIH0pOwogIH07CgogIHZhciByZWplY3RUaWNrZXQgPSBmdW5jdGlvbiByZWplY3RUaWNrZXQoYmlsbCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IGJpbGwuaWQsCiAgICAgICAgc3RhdHVzOiBXYXJlaG91c2VJbXBvcnRTdGF0dXMuUkVKRUNURUQsCiAgICAgICAgYWN0aW9uOiBjYW5jZWwKICAgICAgfTsKICAgICAgZGlzcGF0Y2godXBkYXRlV2FyZWhvdXNlU3RhdHVzSW1wb3J0KGRhdGEpKTsKICAgIH07CiAgfTsKCiAgdmFyIGFwcHJvdmVUaWNrZXQgPSBmdW5jdGlvbiBhcHByb3ZlVGlja2V0KGJpbGwpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiBiaWxsLmlkLAogICAgICAgIHN0YXR1czogV2FyZWhvdXNlSW1wb3J0U3RhdHVzLkFQUFJPVkVELAogICAgICAgIGFjdGlvbjogYXBwcm92ZQogICAgICB9OwogICAgICBkaXNwYXRjaCh1cGRhdGVXYXJlaG91c2VTdGF0dXNJbXBvcnQoZGF0YSkpOwogICAgfTsKICB9OwoKICB2YXIgcmVuZGVyQnV0dG9uU3RhdHVzID0gZnVuY3Rpb24gcmVuZGVyQnV0dG9uU3RhdHVzKGl0ZW0pIHsKICAgIHN3aXRjaCAoaXRlbS5zdGF0dXMpIHsKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuQVBQUk9WRUQ6CiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLlJFSkVDVEVEOgogICAgICAgIHJldHVybiBudWxsOwoKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuV0FJVElORzoKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICAgICAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BVVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvc3RvcmUtaW5wdXRzJzsKICAgICAgICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBpdGVtLnR5cGUgIT09IFdhcmVob3VzZUltcG9ydFR5cGUuRVhQT1JUX1RPX1BST1ZJREVSID8gdG9FZGl0V2FyZWhvdXNlSW1wb3J0KGl0ZW0uaWQpIDogdG9FZGl0V2FyZWhvdXNlRXhwb3J0UHJvdmlkZXIoaXRlbS5pZCk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJ3YXJuaW5nIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsLXBlbmNpbCIKICAgICAgICB9KSwgIkNIXHUxRUM4TkggU1x1MUVFQ0EiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgYWxlcnRGdW5jKGl0ZW0sICdC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gZHV54buHdCBwaGnhur91IHh14bqldCBraG8gbsOgeSBraMO0bmcnLCBhcHByb3ZlVGlja2V0KTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTEiCiAgICAgICAgfSwgIkRVWVx1MUVDNlQiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgYWxlcnRGdW5jKGl0ZW0sICdC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4gdOG7qyBjaOG7kWkgcGhp4bq/dSB4deG6pXQga2hvIG7DoHkga2jDtG5nJywgcmVqZWN0VGlja2V0KTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgY2xhc3NOYW1lOiAibXItMSIKICAgICAgICB9LCAiS0hceEQ0TkcgRFVZXHUxRUM2VCIpKTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfTsKCiAgdmFyIG1lbW9Db21wdXRlZEl0ZW1zID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGl0ZW1zKSB7CiAgICByZXR1cm4gY29tcHV0ZWRJdGVtcyhpdGVtcyk7CiAgfSwgW10pOwogIHZhciBtZW1vTGlzdGVkID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbWVtb0NvbXB1dGVkSXRlbXMod2FyZWhvdXNlcyk7CiAgfSwgW3dhcmVob3VzZXNdKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1ncmlkIgogIH0pLCAiIERhbmggc1x4RTFjaCBwaGlcdTFFQkZ1IHh1XHUxRUE1dCBraG8iLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUE9TVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvc3RvcmUtaW5wdXRzJzsKICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICBvbkNsaWNrOiB0b0NyZWF0ZVdhcmVob3VzZUltcG9ydAogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLXBsdXMiCiAgfSksICIgVGhceEVBbSBtXHUxRURCaSBwaGlcdTFFQkZ1IHh1XHUxRUE1dCBraG8iKSwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BPU1QnICYmIHJvbC5lbnRpdHkgPT09ICcvYXBpL3N0b3JlLWlucHV0cyc7CiAgfSkubGVuZ3RoID4gMCkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJpbmZvIiwKICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgIGNsYXNzTmFtZTogIm1sLTMiLAogICAgb25DbGljazogdG9DcmVhdGVXYXJlaG91c2VFeHBvcnRQcm92aWRlcgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLXBsdXMiCiAgfSksICIgVGhceEVBbSBtXHUxRURCaSBwaGlcdTFFQkZ1IHRyXHUxRUEzIGhceEUwbmcgY2hvIG5oXHhFMCBjdW5nIGNcdTFFQTVwIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICBjbGFzc05hbWU6ICJtYi0yIiwKICAgIGhyZWY6IGNzdkNvZGUsCiAgICBkb3dubG9hZDogImNvcmV1aS10YWJsZS1kYXRhLmNzdiIsCiAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgfSwgIlRcdTFFQTNpIGV4Y2VsICguY3N2KSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICBpdGVtczogbWVtb0xpc3RlZCwKICAgIGZpZWxkczogZmllbGRzLAogICAgY29sdW1uRmlsdGVyOiB0cnVlLAogICAgdGFibGVGaWx0ZXI6IHRydWUsCiAgICBjbGVhbmVyOiB0cnVlLAogICAgaXRlbXNQZXJQYWdlU2VsZWN0OiB7CiAgICAgIGxhYmVsOiAnU+G7kSBsxrDhu6NuZyB0csOqbiBt4buZdCB0cmFuZycsCiAgICAgIHZhbHVlczogWzEwLCAyMCwgMzAsIDUwXQogICAgfSwKICAgIGl0ZW1zUGVyUGFnZTogc2l6ZSwKICAgIGhvdmVyOiB0cnVlLAogICAgc29ydGVyOiB0cnVlLAogICAgbG9hZGluZzogaW5pdGlhbFN0YXRlLmxvYWRpbmcgLy8gb25Sb3dDbGljaz17KGl0ZW0saW5kZXgsY29sLGUpID0+IGNvbnNvbGUubG9nKGl0ZW0saW5kZXgsY29sLGUpfQogICAgLAogICAgb25QYWdlQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHBhZ2U6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2VzQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VzQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlczonLCB2YWwpOwogICAgfSwKICAgIG9uUGFnaW5hdGlvbkNoYW5nZTogZnVuY3Rpb24gb25QYWdpbmF0aW9uQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gc2V0U2l6ZSh2YWwpOwogICAgfSAvLyBvbkZpbHRlcmVkSXRlbXNDaGFuZ2U9eyh2YWwpID0+IGNvbnNvbGUubG9nKCduZXcgZmlsdGVyZWQgaXRlbXM6JywgdmFsKX0KICAgIC8vIG9uU29ydGVyVmFsdWVDaGFuZ2U9eyh2YWwpID0+IGNvbnNvbGUubG9nKCduZXcgc29ydGVyIHZhbHVlOicsIHZhbCl9CiAgICAsCiAgICBvblRhYmxlRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvblRhYmxlRmlsdGVyQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyB0YWJsZSBmaWx0ZXI6JywgdmFsKTsKICAgIH0sCiAgICBvbkNvbHVtbkZpbHRlckNoYW5nZTogb25GaWx0ZXJDb2x1bW4sCiAgICBzY29wZWRTbG90czogewogICAgICBvcmRlcjogZnVuY3Rpb24gb3JkZXIoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaW5kZXggKyAxKTsKICAgICAgfSwKICAgICAgc3RhdHVzOiBmdW5jdGlvbiBzdGF0dXMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQmFkZ2UsIHsKICAgICAgICAgIGNvbG9yOiBnZXRCYWRnZShpdGVtLnN0YXR1cykKICAgICAgICB9LCBtYXBwaW5nU3RhdHVzW2l0ZW0uc3RhdHVzXSkpOwogICAgICB9LAogICAgICBpbXBvcnQ6IGZ1bmN0aW9uIF9pbXBvcnQoaXRlbSkgewogICAgICAgIHZhciBfaXRlbSRzdG9yZVRyYW5zZmVyOwoKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaXRlbS5wcm92aWRlciA/IGl0ZW0ucHJvdmlkZXIubmFtZSA6IChfaXRlbSRzdG9yZVRyYW5zZmVyID0gaXRlbS5zdG9yZVRyYW5zZmVyKSA9PT0gbnVsbCB8fCBfaXRlbSRzdG9yZVRyYW5zZmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRzdG9yZVRyYW5zZmVyLm5hbWUpOwogICAgICB9LAogICAgICBhY3Rpb246IGZ1bmN0aW9uIGFjdGlvbihpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInB5LTIgZC1mbGV4IgogICAgICAgIH0sIHJlbmRlckJ1dHRvblN0YXR1cyhpdGVtKSk7CiAgICAgIH0sCiAgICAgIHNob3dfZGV0YWlsczogZnVuY3Rpb24gc2hvd19kZXRhaWxzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicHktMiBkLWZsZXgiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICB0b2dnbGVEZXRhaWxzKGl0ZW0uaWQpOwogICAgICAgICAgfQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsWm9vbSIKICAgICAgICB9KSkpOwogICAgICB9LAogICAgICBkZXRhaWxzOiBmdW5jdGlvbiBkZXRhaWxzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbGxhcHNlLCB7CiAgICAgICAgICBzaG93OiBfZGV0YWlscy5pbmNsdWRlcyhpdGVtLmlkKQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIlRoXHhGNG5nIHRpbiBcdTAxMTFcdTAxQTFuIG5oXHUxRUFEcCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICAgICAgICBpdGVtczogaXRlbS5zdG9yZUlucHV0RGV0YWlscy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgdmFyIF9pdGVtJHByb2R1Y3QsIF9pdGVtJHByb2R1Y3QyLCBfaXRlbSRwcm9kdWN0MzsKCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6ICgoX2l0ZW0kcHJvZHVjdCA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdC5uYW1lKSB8fCAnJywKICAgICAgICAgICAgICB1bml0OiAoKF9pdGVtJHByb2R1Y3QyID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDIudW5pdCkgfHwgJycsCiAgICAgICAgICAgICAgdm9sdW1lOiAoKF9pdGVtJHByb2R1Y3QzID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDMudm9sdW1lKSB8fCAnJywKICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSB8fCAnJwogICAgICAgICAgICB9OwogICAgICAgICAgfSksCiAgICAgICAgICBmaWVsZHM6IGZpZWxkc0RldGFpbCwKICAgICAgICAgIGJvcmRlcmVkOiB0cnVlLAogICAgICAgICAgaXRlbXNQZXJQYWdlOiA1LAogICAgICAgICAgcGFnaW5hdGlvbjogdHJ1ZSwKICAgICAgICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgICAgICAgIG9yZGVyOiBmdW5jdGlvbiBvcmRlcihpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpbmRleCArIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkpKTsKICAgICAgfQogICAgfQogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUGFnaW5hdGlvbiwgewogICAgYWN0aXZlUGFnZTogYWN0aXZlUGFnZSwKICAgIHBhZ2VzOiBNYXRoLmZsb29yKGluaXRpYWxTdGF0ZS50b3RhbEl0ZW0gLyBzaXplKSArIDEsCiAgICBvbkFjdGl2ZVBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uQWN0aXZlUGFnZUNoYW5nZShpKSB7CiAgICAgIHJldHVybiBzZXRBY3RpdmVQYWdlKGkpOwogICAgfQogIH0pKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBXYXJlaG91c2VJbXBvcnQ7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Export/warehouse-export.js"],"names":["React","useEffect","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CPagination","CIcon","useDispatch","useSelector","getWarehouseExport","updateWarehouseImport","globalizedWarehouseImportSelectors","reset","useHistory","WarehouseImportStatus","WarehouseImportType","confirmAlert","moment","userSafeSelector","mappingStatus","WAITING","APPROVED","REJECTED","WarehouseImport","props","details","setDetails","state","warehouseImport","initialState","account","isAdmin","authorities","filter","item","length","activePage","setActivePage","size","setSize","dispatch","history","page","sort","selectAll","warehouses","computedItems","items","map","store","name","approver","login","createdDate","format","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","fieldsDetail","getBadge","status","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateWarehouseImport","push","match","url","toCreateWarehouseExportProvider","toEditWarehouseExportProvider","userId","toEditWarehouseImport","onFilterColumn","value","keys","alertFunc","message","operation","title","buttons","onClick","rejectTicket","bill","data","id","action","cancel","updateWarehouseStatusImport","approveTicket","approve","renderButtonStatus","role","rol","method","entity","type","EXPORT_TO_PROVIDER","memoComputedItems","useCallback","memoListed","useMemo","loading","val","console","log","order","import","provider","storeTransfer","show_details","includes","storeInputDetails","productName","product","unit","volume","quantity","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CPagination } from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getWarehouseExport, updateWarehouseImport } from '../Import/warehouse-import.api.js';\nimport { globalizedWarehouseImportSelectors, reset } from '../Import/warehouse-import.reducer.js';\nimport { useHistory } from 'react-router-dom';\nimport { WarehouseImportStatus, WarehouseImportType } from './contants.js';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nimport moment from 'moment';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\n\nconst mappingStatus = {\n  WAITING: 'CHỜ DUYỆT',\n  APPROVED: 'ĐÃ DUYỆT',\n  REJECTED: 'KHÔNG DUYỆT'\n};\nconst WarehouseImport = props => {\n  const [details, setDetails] = useState([]);\n  const { initialState } = useSelector(state => state.warehouseImport);\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(20);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    dispatch(getWarehouseExport({ page: activePage - 1, size, sort: 'createdDate,DESC' }));\n  }, [activePage, size]);\n\n  const { selectAll } = globalizedWarehouseImportSelectors;\n  const warehouses = useSelector(selectAll);\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        store: item.store?.name || '',\n        approver: item.approver?.login || '',\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY')\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  // Code\tTên kho\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại kho\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: { width: '1%' },\n      filter: false\n    },\n    {\n      key: 'show_details',\n      _style: { width: '1%' },\n      filter: false\n    },\n    { key: 'store', label: 'Tên kho xuất', _style: { width: '10%' } },\n    { key: 'createdDate', label: 'Ngày tạo', _style: { width: '15%' } },\n    { key: 'import', label: 'Xuất đến', _style: { width: '10%' } },\n    { key: 'createdBy', label: 'Người tạo', _style: { width: '10%' } },\n    { key: 'approver', label: 'Người duyệt', _style: { width: '15%' } },\n    { key: 'status', label: 'Trạng thái', _style: { width: '10%' } },\n    {\n      key: 'action',\n      label: '',\n      _style: { width: '20%' },\n      filter: false\n    }\n  ];\n\n  const fieldsDetail = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: { width: '1%' },\n      filter: false\n    },\n    { key: 'productName', label: 'Tên sản phẩm', _style: { width: '10%' } },\n    { key: 'unit', label: 'Đơn vị', _style: { width: '10%' } },\n    { key: 'volume', label: 'Dung tích', _style: { width: '10%' } },\n    { key: 'quantity', label: 'Số lượng', _style: { width: '10%' } }\n  ];\n\n  const getBadge = status => {\n    switch (status) {\n      case WarehouseImportStatus.APPROVED:\n        return 'success';\n      case WarehouseImportStatus.REJECTED:\n        return 'danger';\n      case WarehouseImportStatus.WAITING:\n        return 'warning';\n      default:\n        return 'primary';\n    }\n  };\n  const csvContent = computedItems(warehouses)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateWarehouseImport = () => {\n    history.push(`${props.match.url}/new`);\n  };\n  const toCreateWarehouseExportProvider = () => {\n    history.push(`${props.match.url}/provider/new`);\n  };\n  const toEditWarehouseExportProvider = userId => {\n    history.push(`${props.match.url}/provider/${userId}/edit`);\n  };\n  const toEditWarehouseImport = userId => {\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n\n  const onFilterColumn = value => {\n    if (Object.keys(value).length > 0) {\n      dispatch(getWarehouseExport({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n    }\n  };\n\n  const alertFunc = (item, message, operation) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: message,\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: operation(item)\n        },\n        {\n          label: 'Hủy'\n        }\n      ]\n    });\n  };\n\n  const rejectTicket = bill => () => {\n    const data = { id: bill.id, status: WarehouseImportStatus.REJECTED, action: cancel };\n    dispatch(updateWarehouseStatusImport(data));\n  };\n\n  const approveTicket = bill => () => {\n    const data = { id: bill.id, status: WarehouseImportStatus.APPROVED, action: approve };\n    dispatch(updateWarehouseStatusImport(data));\n  };\n\n  const renderButtonStatus = item => {\n    switch (item.status) {\n      case WarehouseImportStatus.APPROVED:\n      case WarehouseImportStatus.REJECTED:\n        return null;\n      case WarehouseImportStatus.WAITING:\n        return (\n          <CRow>\n            {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/store-inputs').length > 0) && (\n              <CButton\n                onClick={() => {\n                  item.type !== WarehouseImportType.EXPORT_TO_PROVIDER\n                    ? toEditWarehouseImport(item.id)\n                    : toEditWarehouseExportProvider(item.id);\n                }}\n                color=\"warning\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n                className=\"mr-1\"\n              >\n                <CIcon name=\"cil-pencil\" />\n                CHỈNH SỬA\n              </CButton>\n            )}\n            <CButton\n              onClick={() => {\n                alertFunc(item, 'Bạn có chắc chắn muốn duyệt phiếu xuất kho này không', approveTicket);\n              }}\n              color=\"success\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              DUYỆT\n            </CButton>\n            <CButton\n              onClick={() => {\n                alertFunc(item, 'Bạn có chắc chắn muốn từ chối phiếu xuất kho này không', rejectTicket);\n              }}\n              color=\"danger\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              KHÔNG DUYỆT\n            </CButton>\n          </CRow>\n        );\n      default:\n        break;\n    }\n  };\n\n  const memoComputedItems = React.useCallback(\n    (items) => computedItems(items),\n    []\n  );\n  const memoListed = React.useMemo(() => memoComputedItems(warehouses), [warehouses]);\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách phiếu xuất kho\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/store-inputs').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseImport}>\n            <CIcon name=\"cil-plus\" /> Thêm mới phiếu xuất kho\n          </CButton>\n        )}\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/store-inputs').length > 0) && (\n          <CButton color=\"info\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseExportProvider}>\n            <CIcon name=\"cil-plus\" /> Thêm mới phiếu trả hàng cho nhà cung cấp\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CDataTable\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [10, 20, 30, 50] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          loading={initialState.loading}\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={val => console.log('new page:', val)}\n          onPagesChange={val => console.log('new pages:', val)}\n          onPaginationChange={val => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={val => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            status: item => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{mappingStatus[item.status]}</CBadge>\n              </td>\n            ),\n            import: item => <td>{item.provider ? item.provider.name : item.storeTransfer?.name}</td>,\n            action: item => {\n              return <td className=\"py-2 d-flex\">{renderButtonStatus(item)}</td>;\n            },\n            show_details: item => {\n              return (\n                <td className=\"py-2 d-flex\">\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                </td>\n              );\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin đơn nhập</h5>\n                    <CDataTable\n                      items={item.storeInputDetails.map(item => {\n                        return {\n                          productName: item.product?.name || '',\n                          unit: item.product?.unit || '',\n                          volume: item.product?.volume || '',\n                          quantity: item.quantity || ''\n                        };\n                      })}\n                      fields={fieldsDetail}\n                      bordered\n                      itemsPerPage={5}\n                      pagination\n                      scopedSlots={{\n                        order: (item, index) => <td>{index + 1}</td>\n                      }}\n                    />\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default WarehouseImport;\n"]}]}