{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserRole/edit-user-role.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserRole/edit-user-role.js","mtime":1619210640208},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90ZW1wbGF0ZU9iamVjdDsKCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKHN0cmluZ3MsIHJhdykgeyBpZiAoIXJhdykgeyByYXcgPSBzdHJpbmdzLnNsaWNlKDApOyB9IHJldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0cmluZ3MsIHsgcmF3OiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdykgfSB9KSk7IH0KCmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENCdXR0b24sIENDYXJkLCBDQ2FyZEhlYWRlciwgQ0NhcmRCb2R5LCBDRm9ybSwgQ0ludmFsaWRGZWVkYmFjaywgQ0Zvcm1Hcm91cCwgQ0xhYmVsLCBDSW5wdXQsIENDYXJkVGl0bGUgfSBmcm9tICdAY29yZXVpL3JlYWN0JzsKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QnOwppbXBvcnQgeyBGb3JtaWsgfSBmcm9tICdmb3JtaWsnOwppbXBvcnQgKiBhcyBZdXAgZnJvbSAneXVwJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXREZXRhaWxVc2VyUm9sZSwgdXBkYXRlVXNlclJvbGUgfSBmcm9tICcuL3VzZXItcm9sZXMuYXBpJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBmZXRjaGluZywgZ2xvYmFsaXplZFVzZXJSb2xlU2VsZWN0b3JzLCByZXNldCB9IGZyb20gJy4vdXNlci1yb2xlcy5yZWR1Y2VyJzsKaW1wb3J0IHsgVGFibGUgfSBmcm9tICdyZWFjdHN0cmFwJzsKaW1wb3J0IFNlbGVjdCBmcm9tICdyZWFjdC1zZWxlY3QnOwppbXBvcnQgeyBnbG9iYWxpemVkUGVybWlzc2lvbkdyb3Vwc1NlbGVjdG9ycyB9IGZyb20gJy4uL1VzZXJQZXJtaXNzaW9uL3Blcm1pc3Npb24ucmVkdWNlcic7CmltcG9ydCB7IGdldFBlcm1pc3Npb25Hcm91cHMgfSBmcm9tICcuLi9Vc2VyUGVybWlzc2lvbi9wZXJtaXNzaW9uLmFwaSc7Cgp2YXIgdmFsaWRhdGlvblNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRpb25TY2hlbWEoKSB7CiAgcmV0dXJuIFl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICBuYW1lOiBZdXAuc3RyaW5nKCkubWluKDUoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiVFx4RUFuIGNoXHUxRUU5YyB2XHUxRUU1IHBoXHUxRUEzaSBsXHUxRURCbiBoXHUwMUExbiA1IGtceEVEIHRcdTFFRjEiXSkpKSkucmVxdWlyZWQoJ1TDqm4gY2jhu6ljIHbhu6Uga2jDtG5nIMSR4buDIHRy4buRbmcnKQogIH0pOwp9OwoKaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvbm9ybWFsaXplJzsKZXhwb3J0IHZhciBtYXBwaW5nU3RhdHVzID0gewogIEFDVElWRTogJ8SQQU5HIEhP4bqgVCDEkOG7mE5HJywKICBJTkFDVElWRTogJ0tIw5RORyBIT+G6oFQgxJDhu5hORycsCiAgREVMRVRFRDogJ8SQw4MgWMOTQScKfTsKCnZhciBFZGl0VXNlclJvbGUgPSBmdW5jdGlvbiBFZGl0VXNlclJvbGUocHJvcHMpIHsKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlclJvbGU7CiAgfSksCiAgICAgIGluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3Rvci5pbml0aWFsU3RhdGU7CgogIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7CiAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7CiAgdmFyIGluaXRpYWxWYWx1ZXMgPSB1c2VSZWYoewogICAgbmFtZTogJycKICB9KTsKICB2YXIgc2VsZWN0QnlJZCA9IGdsb2JhbGl6ZWRVc2VyUm9sZVNlbGVjdG9ycy5zZWxlY3RCeUlkOwogIHZhciB1c2VyUm9sZXMgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzZWxlY3RCeUlkKHN0YXRlLCBwcm9wcy5tYXRjaC5wYXJhbXMuaWQpOwogIH0pOwogIHZhciBzZWxlY3RBbGxQZXJtaXNzaW9uR3JvdXBzID0gZ2xvYmFsaXplZFBlcm1pc3Npb25Hcm91cHNTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBncm91cFBlcm1pc3Npb25zID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsUGVybWlzc2lvbkdyb3Vwcyk7CgogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBzZWxlY3RlZEdyb3VwUGVybWlzc2lvbiA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldFNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShudWxsKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBpbml0VmFsdWVzID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0SW5pdFZhbHVlcyA9IF91c2VTdGF0ZTRbMV07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBzZXRJbml0VmFsdWVzKHVzZXJSb2xlcyk7CgogICAgaWYgKHVzZXJSb2xlcykgewogICAgICBzZXRTZWxlY3RlZEdyb3VwUGVybWlzc2lvbih1c2VyUm9sZXMucGVybWlzc2lvbkdyb3Vwcyk7CiAgICB9CiAgfSwgW3VzZXJSb2xlc10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXREZXRhaWxVc2VyUm9sZShwcm9wcy5tYXRjaC5wYXJhbXMuaWQpKTsKICAgIGRpc3BhdGNoKGdldFBlcm1pc3Npb25Hcm91cHMoKSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBkaXNwYXRjaChyZXNldCgpKTsKICAgIH07CiAgfSwgW10pOwoKICB2YXIgb25TdWJtaXQgPSBmdW5jdGlvbiBvblN1Ym1pdCh2YWx1ZXMsIF9yZWYpIHsKICAgIHZhciByZXNldEZvcm0gPSBfcmVmLnJlc2V0Rm9ybTsKICAgIHZhbHVlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWVzKSk7CiAgICB2YWx1ZXMucGVybWlzc2lvbkdyb3VwcyA9IHNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uOwogICAgZGlzcGF0Y2goZmV0Y2hpbmcoKSk7CiAgICBkaXNwYXRjaCh1cGRhdGVVc2VyUm9sZSh2YWx1ZXMpKTsKICAgIHJlc2V0Rm9ybSgpOwogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2VzcykgewogICAgICBkaXNwYXRjaChyZXNldCgpKTsKICAgICAgaGlzdG9yeS5nb0JhY2soKTsKICAgIH0KICB9LCBbaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2Vzc10pOwoKICB2YXIgb25TZWxlY3RHcm91cFBlcm1pc3Npb24gPSBmdW5jdGlvbiBvblNlbGVjdEdyb3VwUGVybWlzc2lvbihfcmVmMikgewogICAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWU7CiAgICB2YXIgY2hlY2tFeGlzdCA9IHNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uLmZpbHRlcihmdW5jdGlvbiAoc2VsZWN0ZWQpIHsKICAgICAgcmV0dXJuIHNlbGVjdGVkLmlkID09PSB2YWx1ZS5pZDsKICAgIH0pOwoKICAgIGlmIChjaGVja0V4aXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICB2YXIgbmV3QXJyID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzZWxlY3RlZEdyb3VwUGVybWlzc2lvbiksIFt2YWx1ZV0pOwogICAgICBzZXRTZWxlY3RlZEdyb3VwUGVybWlzc2lvbihuZXdBcnIpOwogICAgfQogIH07CgogIHZhciByZW1vdmVHUGVybWlzc2lvbiA9IGZ1bmN0aW9uIHJlbW92ZUdQZXJtaXNzaW9uKGluZGV4KSB7CiAgICB2YXIgYXJyID0gX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uKTsKCiAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgIHNldFNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uKGFycik7CiAgfTsKCiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIkNoXHUxRUM5bmggc1x1MUVFRGEgY2hcdTFFRTljIHZcdTFFRTUiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWlrLCB7CiAgICBpbml0aWFsVmFsdWVzOiBpbml0VmFsdWVzIHx8IGluaXRpYWxWYWx1ZXMuY3VycmVudCwKICAgIGVuYWJsZVJlaW5pdGlhbGl6ZTogdHJ1ZSwKICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSh2YWxpZGF0aW9uU2NoZW1hKSwKICAgIG9uU3VibWl0OiBvblN1Ym1pdAogIH0sIGZ1bmN0aW9uIChfcmVmMykgewogICAgdmFyIHZhbHVlcyA9IF9yZWYzLnZhbHVlcywKICAgICAgICBlcnJvcnMgPSBfcmVmMy5lcnJvcnMsCiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX3JlZjMuaGFuZGxlQ2hhbmdlLAogICAgICAgIGhhbmRsZUJsdXIgPSBfcmVmMy5oYW5kbGVCbHVyLAogICAgICAgIGhhbmRsZVN1Ym1pdCA9IF9yZWYzLmhhbmRsZVN1Ym1pdCwKICAgICAgICBoYW5kbGVSZXNldCA9IF9yZWYzLmhhbmRsZVJlc2V0OwogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtLCB7CiAgICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQsCiAgICAgIG5vVmFsaWRhdGU6IHRydWUsCiAgICAgIG5hbWU6ICJzaW1wbGVGb3JtIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsb2dpbiIKICAgIH0sICJUXHhFQW4gY2hcdTFFRTljIHZcdTFFRTUiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogIm5hbWUiLAogICAgICBpZDogIm5hbWUiLAogICAgICBwbGFjZWhvbGRlcjogIlRceEVBbiBjaFx1MUVFOWMgdlx1MUVFNSIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5uYW1lCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJOaFx4RjNtIHF1eVx1MUVDMW4iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgIG5hbWU6ICJ1c2VyUm9sZSIsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgICAgb25TZWxlY3RHcm91cFBlcm1pc3Npb24oZSk7CiAgICAgIH0sCiAgICAgIHBsYWNlaG9sZGVyOiAiQ2hcdTFFQ0RuIG5oXHhGM20gY2hcdTFFRTljIG5cdTAxMDNuZyIsCiAgICAgIG9wdGlvbnM6IGdyb3VwUGVybWlzc2lvbnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLAogICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZQogICAgICAgIH07CiAgICAgIH0pCiAgICB9KSksIHNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uLmxlbmd0aCA+IDAgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICBzdHlsZTogewogICAgICAgIG1hcmdpblRvcDogMTUKICAgICAgfQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoZWFkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICBjbGFzc05hbWU6ICJoYW5kICB0ZXh0LWxlZnQgaW5kZXgtY29sdW1uIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiU1RUIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgIGNsYXNzTmFtZTogInRleHQtbGVmdCIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIk5oXHhGM20gcXV5XHUxRUMxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICBjbGFzc05hbWU6ICJ0ZXh0LWxlZnQiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsICJDaFx1MUVFOWMgblx1MDEwM25nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgIGNsYXNzTmFtZTogInRleHQtY2VudGVyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiVGhhbyB0XHhFMWMiKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRib2R5IiwgbnVsbCwgc2VsZWN0ZWRHcm91cFBlcm1pc3Npb24ubWFwKGZ1bmN0aW9uIChnUGVybWlzc2lvbiwgaSkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgewogICAgICAgIGtleTogZ1Blcm1pc3Npb24uaWQKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgIGNsYXNzTmFtZTogInRleHQtbGVmdCIKICAgICAgfSwgaSArIDEpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBnUGVybWlzc2lvbi5uYW1lKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgZ1Blcm1pc3Npb24ucGVybWlzc2lvbkdyb3VwQXNzb2NpYXRlcyA/IE9iamVjdC5rZXlzKGdQZXJtaXNzaW9uLnBlcm1pc3Npb25Hcm91cEFzc29jaWF0ZXMucmVkdWNlKGZ1bmN0aW9uIChyLCBhKSB7CiAgICAgICAgclthLnR5cGVOYW1lXSA9IFtbXV07CiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH0sIHt9KSkuam9pbignLCAnKSA6ICcnKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgIGNsYXNzTmFtZTogInRleHQtY2VudGVyIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgdHlwZTogInJlc2V0IiwKICAgICAgICBzaXplOiAibGciLAogICAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgcmV0dXJuIHJlbW92ZUdQZXJtaXNzaW9uKGkpOwogICAgICAgIH0sCiAgICAgICAgY2xhc3NOYW1lOiAibWwtNSIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICBuYW1lOiAiY2lsLWJhbiIKICAgICAgfSkpKSk7CiAgICB9KSkpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgY2xhc3NOYW1lOiAiYWxlcnQgYWxlcnQtd2FybmluZyIsCiAgICAgIHN0eWxlOiB7CiAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJwogICAgICB9CiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsICJOZ1x1MDFCMFx1MUVERGkgZFx4RjluZyBuXHhFMHkgY2hcdTAxQjBhIGNceEYzIG5oXHhGM20gcXV5XHUxRUMxbiAhIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgIGNsYXNzTmFtZTogImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICB0eXBlOiAic3VibWl0IiwKICAgICAgc2l6ZTogImxnIiwKICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgZGlzYWJsZWQ6IGluaXRpYWxTdGF0ZS5sb2FkaW5nCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAiY2lsLXNhdmUiCiAgICB9KSwgIiAiLCBpbml0aWFsU3RhdGUubG9hZGluZyA/ICfEkGFuZyB44butIGzDvScgOiAnTMawdSBs4bqhaScpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIHR5cGU6ICJyZXNldCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgb25DbGljazogaGFuZGxlUmVzZXQsCiAgICAgIGNsYXNzTmFtZTogIm1sLTUiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICBuYW1lOiAiY2lsLWJhbiIKICAgIH0pLCAiIFhceEYzYSBuaFx1MUVBRHAgbGlcdTFFQzd1IikpKTsKICB9KSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgRWRpdFVzZXJSb2xlOw=="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserRole/edit-user-role.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CForm","CInvalidFeedback","CFormGroup","CLabel","CInput","CCardTitle","CIcon","Formik","Yup","useDispatch","useSelector","getDetailUserRole","updateUserRole","useHistory","fetching","globalizedUserRoleSelectors","reset","Table","Select","globalizedPermissionGroupsSelectors","getPermissionGroups","validationSchema","object","shape","name","string","min","required","validate","mappingStatus","ACTIVE","INACTIVE","DELETED","EditUserRole","props","state","userRole","initialState","dispatch","history","initialValues","selectById","userRoles","match","params","id","selectAllPermissionGroups","selectAll","groupPermissions","selectedGroupPermission","setSelectedGroupPermission","initValues","setInitValues","permissionGroups","onSubmit","values","resetForm","JSON","parse","stringify","updatingSuccess","goBack","onSelectGroupPermission","value","checkExist","filter","selected","length","newArr","removeGPermission","index","arr","splice","current","errors","handleChange","handleBlur","handleSubmit","handleReset","e","map","item","label","marginTop","gPermission","i","permissionGroupAssociates","Object","keys","reduce","r","a","typeName","join","textAlign","loading"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n\n  CForm,\n  CInvalidFeedback,\n  CFormGroup,\n  CLabel,\n  CInput,\n\n\n  CCardTitle,\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport {Formik} from 'formik';\nimport * as Yup from 'yup';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {getDetailUserRole, updateUserRole} from './user-roles.api';\n\n\nimport {useHistory} from 'react-router-dom';\nimport {fetching, globalizedUserRoleSelectors, reset} from './user-roles.reducer';\nimport {Table} from 'reactstrap';\nimport Select from 'react-select';\nimport {globalizedPermissionGroupsSelectors} from '../UserPermission/permission.reducer';\nimport {getPermissionGroups} from '../UserPermission/permission.api';\n\nconst validationSchema = function() {\n  return Yup.object().shape({\n    name: Yup.string()\n        .min(5 `Tên chức vụ phải lớn hơn 5 kí tự`)\n        .required('Tên chức vụ không để trống'),\n  });\n};\n\nimport {validate} from '../../../../shared/utils/normalize';\n\n\nexport const mappingStatus = {\n  ACTIVE: 'ĐANG HOẠT ĐỘNG',\n  INACTIVE: 'KHÔNG HOẠT ĐỘNG',\n  DELETED: 'ĐÃ XÓA',\n};\n\n\nconst EditUserRole = (props) => {\n  const {initialState} = useSelector((state) => state.userRole);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const initialValues = useRef({\n    name: '',\n  });\n\n  const {selectById} = globalizedUserRoleSelectors;\n  const userRoles = useSelector((state) => selectById(state, props.match.params.id));\n  const {selectAll: selectAllPermissionGroups} = globalizedPermissionGroupsSelectors;\n  const groupPermissions = useSelector(selectAllPermissionGroups);\n  const [selectedGroupPermission, setSelectedGroupPermission] = useState([]);\n  const [initValues, setInitValues] = useState(null);\n\n  useEffect(() => {\n    setInitValues(userRoles);\n    if (userRoles) {\n      setSelectedGroupPermission(userRoles.permissionGroups);\n    }\n  }, [userRoles]);\n\n  useEffect(() => {\n    dispatch(getDetailUserRole(props.match.params.id));\n    dispatch(getPermissionGroups());\n    return () => {\n      dispatch(reset());\n    };\n  }, []);\n\n  const onSubmit = (values, {resetForm}) => {\n    values = JSON.parse(JSON.stringify(values));\n    values.permissionGroups = selectedGroupPermission;\n    dispatch(fetching());\n    dispatch(updateUserRole(values));\n    resetForm();\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(reset());\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  const onSelectGroupPermission = ({value}) => {\n    const checkExist = selectedGroupPermission.filter((selected) => selected.id === value.id);\n    if (checkExist.length === 0) {\n      const newArr = [...selectedGroupPermission, value];\n      setSelectedGroupPermission(newArr);\n    }\n  };\n\n  const removeGPermission = (index) => {\n    const arr = [...selectedGroupPermission];\n    arr.splice(index, 1);\n    setSelectedGroupPermission(arr);\n  };\n  return (\n    <CCard>\n      <CCardHeader>\n        <CCardTitle>Chỉnh sửa chức vụ</CCardTitle>\n      </CCardHeader>\n      <CCardBody>\n        <Formik\n          initialValues={initValues || initialValues.current}\n          enableReinitialize\n          validate={validate(validationSchema)}\n          onSubmit={onSubmit}\n        >\n          {({\n            values,\n            errors,\n\n\n            handleChange,\n            handleBlur,\n            handleSubmit,\n\n\n            handleReset\n            ,\n          }) => (\n            <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n              <CFormGroup>\n                <CLabel htmlFor=\"login\">Tên chức vụ</CLabel>\n                <CInput\n                  type=\"text\"\n                  name=\"name\"\n                  id=\"name\"\n                  placeholder=\"Tên chức vụ\"\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.name}\n                />\n                <CInvalidFeedback>{errors.name}</CInvalidFeedback>\n              </CFormGroup>\n              <CFormGroup>\n                <CLabel htmlFor=\"userName\">Nhóm quyền</CLabel>\n                <Select\n                  name=\"userRole\"\n                  onChange={(e) => {\n                    onSelectGroupPermission(e);\n                  }}\n                  placeholder=\"Chọn nhóm chức năng\"\n                  options={groupPermissions.map((item) => ({\n                    value: item,\n                    label: item.name,\n                  }))}\n                />\n              </CFormGroup>\n\n              {selectedGroupPermission.length > 0 ? (\n                <Table style={{marginTop: 15}}>\n                  <thead>\n                    <tr>\n                      <th className=\"hand  text-left index-column\">\n                        <span>STT</span>\n                      </th>\n                      <th className=\"text-left\">\n                        <span>Nhóm quyền</span>\n                      </th>\n                      <th className=\"text-left\">\n                        <span>Chức năng</span>\n                      </th>\n                      <th className=\"text-center\">\n                        <span>Thao tác</span>\n                      </th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    {selectedGroupPermission.map((gPermission, i) => {\n                      return (\n                        <tr key={gPermission.id}>\n                          <td className=\"text-left\">{i + 1}</td>\n                          <td>{gPermission.name}</td>\n                          <td>\n                            {gPermission.permissionGroupAssociates ?\n                              Object.keys(\n                                  gPermission.permissionGroupAssociates.reduce((r, a) => {\n                                    r[a.typeName] = [[]];\n                                    return r;\n                                  }, {}),\n                              ).join(', ') :\n                              ''}\n                          </td>\n                          <td className=\"text-center\">\n                            <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={() => removeGPermission(i)} className=\"ml-5\">\n                              <CIcon name=\"cil-ban\" />\n                            </CButton>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </Table>\n              ) : (\n                <div className=\"alert alert-warning\" style={{textAlign: 'center'}}>\n                  <span>Người dùng này chưa có nhóm quyền !</span>\n                </div>\n              )}\n              <CFormGroup className=\"d-flex justify-content-center\">\n                <CButton type=\"submit\" size=\"lg\" color=\"primary\" disabled={initialState.loading}>\n                  <CIcon name=\"cil-save\" /> {initialState.loading ? 'Đang xử lý' : 'Lưu lại'}\n                </CButton>\n                <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={handleReset} className=\"ml-5\">\n                  <CIcon name=\"cil-ban\" /> Xóa nhập liệu\n                </CButton>\n              </CFormGroup>\n            </CForm>\n          )}\n        </Formik>\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default EditUserRole;\n"]}]}