{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/edit-user.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/edit-user.js","mtime":1621950736477},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkob2JqKSB7IGlmIChvYmogPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGRlc3RydWN0dXJlIHVuZGVmaW5lZCIpOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDQnV0dG9uLCBDQ2FyZCwgQ0NhcmRIZWFkZXIsIENDYXJkQm9keSwgQ0NvbCwgQ0Zvcm0sIENJbnZhbGlkRmVlZGJhY2ssIENGb3JtR3JvdXAsIENMYWJlbCwgQ0lucHV0LCBDUm93LCBDQ2FyZFRpdGxlIH0gZnJvbSAnQGNvcmV1aS9yZWFjdC9saWInOwppbXBvcnQgQ0ljb24gZnJvbSAnQGNvcmV1aS9pY29ucy1yZWFjdC9saWIvQ0ljb24nOwo7CmltcG9ydCB7IEZvcm1payB9IGZyb20gJ2Zvcm1payc7CmltcG9ydCAqIGFzIFl1cCBmcm9tICd5dXAnOwppbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCB7IGdldERldGFpbFVzZXIsIHVwZGF0ZVVzZXIgfSBmcm9tICcuL3VzZXIuYXBpJzsKaW1wb3J0IHsgVGFibGUgfSBmcm9tICdyZWFjdHN0cmFwJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgeyBmZXRjaGluZywgZ2xvYmFsaXplZFVzZXJTZWxlY3RvcnMsIHJlc2V0IH0gZnJvbSAnLi91c2VyLnJlZHVjZXInOwppbXBvcnQgeyBnbG9iYWxpemVkRGVwYXJ0bWVudFNlbGVjdG9ycyB9IGZyb20gJy4uL1VzZXJEZXBhcnRtZW50L2RlcGFydG1lbnQucmVkdWNlcic7CmltcG9ydCB7IGdsb2JhbGl6ZWRQZXJtaXNzaW9uR3JvdXBzU2VsZWN0b3JzIH0gZnJvbSAnLi4vVXNlclBlcm1pc3Npb24vcGVybWlzc2lvbi5yZWR1Y2VyJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFVzZXJSb2xlU2VsZWN0b3JzIH0gZnJvbSAnLi4vVXNlclJvbGUvdXNlci1yb2xlcy5yZWR1Y2VyJzsKaW1wb3J0IHsgZ2V0RGVwYXJ0bWVudCB9IGZyb20gJy4uL1VzZXJEZXBhcnRtZW50L2RlcGFydG1lbnQuYXBpJzsKaW1wb3J0IHsgZ2V0UGVybWlzc2lvbkdyb3VwcyB9IGZyb20gJy4uL1VzZXJQZXJtaXNzaW9uL3Blcm1pc3Npb24uYXBpJzsKaW1wb3J0IHsgZ2V0VXNlclJvbGUgfSBmcm9tICcuLi9Vc2VyUm9sZS91c2VyLXJvbGVzLmFwaSc7CmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JzsKCnZhciB2YWxpZGF0aW9uU2NoZW1hID0gZnVuY3Rpb24gdmFsaWRhdGlvblNjaGVtYSgpIHsKICByZXR1cm4gWXVwLm9iamVjdCgpLnNoYXBlKHsKICAgIGZpcnN0TmFtZTogWXVwLnN0cmluZygpLm1pbigxLCAiSFx1MUVDRCBwaFx1MUVBM2kgbFx1MUVEQm4gaFx1MDFBMW4gNSBrXHhFRCB0XHUxRUYxIikucmVxdWlyZWQoJ0jhu40ga2jDtG5nIMSR4buDIHRy4buRbmcnKSwKICAgIGxhc3ROYW1lOiBZdXAuc3RyaW5nKCkubWluKDEsICJUXHhFQW4gcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIDUga1x4RUQgdFx1MUVGMSIpLnJlcXVpcmVkKCdUw6puIGtow7RuZyDEkeG7gyB0cuG7kW5nJykKICB9KTsKfTsKCmltcG9ydCB7IHZhbGlkYXRlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2hhcmVkL3V0aWxzL25vcm1hbGl6ZSc7CmltcG9ydCB7IFByb2R1Y3RTdGF0dXMgfSBmcm9tICcuLi8uLi9wcm9kdWN0L1Byb2R1Y3RMaXN0L2NvbnRhbnRzJzsKaW1wb3J0IHsgZ2xvYmFsaXplZEJyYW5jaFNlbGVjdG9ycyB9IGZyb20gJy4uL1VzZXJCcmFuY2gvYnJhbmNoLnJlZHVjZXInOwppbXBvcnQgeyBnZXRCcmFuY2ggfSBmcm9tICcuLi9Vc2VyQnJhbmNoL2JyYW5jaC5hcGknOwppbXBvcnQgeyBnZXRTZXNzaW9uIH0gZnJvbSAnLi4vLi4vbG9naW4vYXV0aGVudGljYXRlLnJlZHVjZXInOwpleHBvcnQgdmFyIG1hcHBpbmdTdGF0dXMgPSB7CiAgQUNUSVZFOiAnxJBBTkcgSE/huqBUIMSQ4buYTkcnLAogIERJU0FCTEVEOiAnS0jDlE5HIEhP4bqgVCDEkOG7mE5HJywKICBERUxFVEVEOiAnxJDDgyBYw5NBJwp9Owp2YXIgc2VsZWN0QnlJZCA9IGdsb2JhbGl6ZWRVc2VyU2VsZWN0b3JzLnNlbGVjdEJ5SWQ7CnZhciBzZWxlY3RBbGxEZXBhcnRtZW50ID0gZ2xvYmFsaXplZERlcGFydG1lbnRTZWxlY3RvcnMuc2VsZWN0QWxsOwp2YXIgc2VsZWN0QWxsUGVybWlzc2lvbkdyb3VwcyA9IGdsb2JhbGl6ZWRQZXJtaXNzaW9uR3JvdXBzU2VsZWN0b3JzLnNlbGVjdEFsbDsKdmFyIHNlbGVjdEFsbFJvbGUgPSBnbG9iYWxpemVkVXNlclJvbGVTZWxlY3RvcnMuc2VsZWN0QWxsOwp2YXIgc2VsZWN0QWxsQnJhbmNoID0gZ2xvYmFsaXplZEJyYW5jaFNlbGVjdG9ycy5zZWxlY3RBbGw7Cgp2YXIgRWRpdFVzZXIgPSBmdW5jdGlvbiBFZGl0VXNlcihwcm9wcykgewogIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyOwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmN1c3RvbWVyOwogIH0pOwoKICBfb2JqZWN0RGVzdHJ1Y3R1cmluZ0VtcHR5KF91c2VTZWxlY3RvcjIpOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHZhciBpbml0aWFsVmFsdWVzID0gdXNlUmVmKHsKICAgIGNvZGU6ICcnLAogICAgbmFtZTogJycsCiAgICBhZGRyZXNzOiAnJywKICAgIHRlbDogJycKICB9KTsKICB2YXIgdXNlciA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHNlbGVjdEJ5SWQoc3RhdGUsIHByb3BzLm1hdGNoLnBhcmFtcy5pZCk7CiAgfSk7CgogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShudWxsKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGluaXRWYWx1ZXMgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXRJbml0VmFsdWVzID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgc2VsZWN0ZWRHcm91cFBlcm1pc3Npb24gPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRTZWxlY3RlZEdyb3VwUGVybWlzc2lvbiA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIHNlbGVjdGVkRGVwYXJ0bWVudCA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldFNlbGVjdGVkRGVwYXJ0bWVudCA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBfdXNlU3RhdGU3ID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksCiAgICAgIHNlbGVjdGVkUm9sZXMgPSBfdXNlU3RhdGU4WzBdLAogICAgICBzZXRTZWxlY3RlZFJvbGVzID0gX3VzZVN0YXRlOFsxXTsKCiAgdmFyIF91c2VTdGF0ZTkgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlOSwgMiksCiAgICAgIHNlbGVjdGVkQnJhbmNoID0gX3VzZVN0YXRlMTBbMF0sCiAgICAgIHNldFNlbGVjdGVkQnJhbmNoID0gX3VzZVN0YXRlMTBbMV07CgogIHZhciBkZXBhcnRtZW50cyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbERlcGFydG1lbnQpOwogIHZhciByb2xlcyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbFJvbGUpOwogIHZhciBncm91cFBlcm1pc3Npb25zID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsUGVybWlzc2lvbkdyb3Vwcyk7CiAgdmFyIGJyYW5jaGVzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsQnJhbmNoKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgc2V0SW5pdFZhbHVlcyh1c2VyKTsKCiAgICBpZiAodXNlcikgewogICAgICBzZXRTZWxlY3RlZERlcGFydG1lbnQodXNlci5kZXBhcnRtZW50cyk7CiAgICAgIHNldFNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uKHVzZXIucGVybWlzc2lvbkdyb3VwcyB8fCBbXSk7CiAgICAgIHNldFNlbGVjdGVkUm9sZXModXNlci5yb2xlcyB8fCBbXSk7CiAgICAgIHNldFNlbGVjdGVkQnJhbmNoKHVzZXIuYnJhbmNoKTsKICAgIH0KICB9LCBbdXNlcl0pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXREZXRhaWxVc2VyKHsKICAgICAgaWQ6IHByb3BzLm1hdGNoLnBhcmFtcy5pZCwKICAgICAgZGVwZW5kZW5jeTogdHJ1ZQogICAgfSkpOwogICAgZGlzcGF0Y2goZ2V0RGVwYXJ0bWVudCh7CiAgICAgIHBhZ2U6IDAsCiAgICAgIHNpemU6IDIwLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycsCiAgICAgIGRlcGVuZGVuY3k6IHRydWUKICAgIH0pKTsKICAgIGRpc3BhdGNoKGdldFBlcm1pc3Npb25Hcm91cHMoewogICAgICBwYWdlOiAwLAogICAgICBzaXplOiAyMCwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnLAogICAgICBkZXBlbmRlbmN5OiB0cnVlCiAgICB9KSk7CiAgICBkaXNwYXRjaChnZXRVc2VyUm9sZSh7CiAgICAgIHBhZ2U6IDAsCiAgICAgIHNpemU6IDIwLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycsCiAgICAgIGRlcGVuZGVuY3k6IHRydWUKICAgIH0pKTsKICAgIGRpc3BhdGNoKGdldEJyYW5jaCh7CiAgICAgIHBhZ2U6IDAsCiAgICAgIHNpemU6IDIwLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycsCiAgICAgIGRlcGVuZGVuY3k6IHRydWUKICAgIH0pKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogICAgfTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzKSB7CiAgICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogICAgICBkaXNwYXRjaChnZXRTZXNzaW9uKCkpOwogICAgICBoaXN0b3J5LmdvQmFjaygpOwogICAgfQogIH0sIFtpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzXSk7CgogIHZhciBvblN1Ym1pdCA9IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcywgX3JlZikgewogICAgdmFyIHJlc2V0Rm9ybSA9IF9yZWYucmVzZXRGb3JtOwogICAgdmFsdWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZXMpKTsKICAgIHZhbHVlcy5yb2xlcyA9IHNlbGVjdGVkUm9sZXM7CiAgICB2YWx1ZXMuZGVwYXJ0bWVudHMgPSBzZWxlY3RlZERlcGFydG1lbnQ7CiAgICB2YWx1ZXMucGVybWlzc2lvbkdyb3VwcyA9IHNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uOwogICAgZGlzcGF0Y2goZmV0Y2hpbmcoKSk7CiAgICBkaXNwYXRjaCh1cGRhdGVVc2VyKHZhbHVlcykpOwogIH07CgogIHZhciByZW1vdmVHUGVybWlzc2lvbiA9IGZ1bmN0aW9uIHJlbW92ZUdQZXJtaXNzaW9uKGluZGV4KSB7CiAgICB2YXIgYXJyID0gX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uKTsKCiAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgIHNldFNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uKGFycik7CiAgfTsKCiAgdmFyIHJlbW92ZURlcGFydG1lbnQgPSBmdW5jdGlvbiByZW1vdmVEZXBhcnRtZW50KGluZGV4KSB7CiAgICB2YXIgYXJyID0gX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGVkRGVwYXJ0bWVudCk7CgogICAgYXJyLnNwbGljZShpbmRleCwgMSk7CiAgICBzZXRTZWxlY3RlZERlcGFydG1lbnQoYXJyKTsKICB9OwoKICB2YXIgcmVtb3ZlUm9sZXMgPSBmdW5jdGlvbiByZW1vdmVSb2xlcyhpbmRleCkgewogICAgdmFyIGFyciA9IF90b0NvbnN1bWFibGVBcnJheShzZWxlY3RlZFJvbGVzKTsKCiAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgIHNldFNlbGVjdGVkUm9sZXMoYXJyKTsKICB9OwoKICB2YXIgb25TZWxlY3RHcm91cFBlcm1pc3Npb24gPSBmdW5jdGlvbiBvblNlbGVjdEdyb3VwUGVybWlzc2lvbihfcmVmMikgewogICAgdmFyIHZhbHVlID0gX3JlZjIudmFsdWU7CiAgICB2YXIgY2hlY2tFeGlzdCA9IHNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uLmZpbHRlcihmdW5jdGlvbiAoc2VsZWN0ZWQpIHsKICAgICAgcmV0dXJuIHNlbGVjdGVkLmlkID09PSB2YWx1ZS5pZDsKICAgIH0pOwoKICAgIGlmIChjaGVja0V4aXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICB2YXIgbmV3QXJyID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzZWxlY3RlZEdyb3VwUGVybWlzc2lvbiksIFt2YWx1ZV0pOwogICAgICBzZXRTZWxlY3RlZEdyb3VwUGVybWlzc2lvbihuZXdBcnIpOwogICAgfQogIH07CgogIHZhciBvblNlbGVjdFJvbGVzID0gZnVuY3Rpb24gb25TZWxlY3RSb2xlcyhfcmVmMykgewogICAgdmFyIHZhbHVlID0gX3JlZjMudmFsdWU7CiAgICB2YXIgY2hlY2tFeGlzdCA9IHNlbGVjdGVkUm9sZXMuZmlsdGVyKGZ1bmN0aW9uIChzZWxlY3RlZCkgewogICAgICByZXR1cm4gc2VsZWN0ZWQuaWQgPT09IHZhbHVlLmlkOwogICAgfSk7CgogICAgaWYgKGNoZWNrRXhpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgIHZhciBuZXdBcnIgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGVkUm9sZXMpLCBbdmFsdWVdKTsKICAgICAgc2V0U2VsZWN0ZWRSb2xlcyhuZXdBcnIpOwogICAgfQogIH07CgogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkVGl0bGUsIG51bGwsICJDaFx1MUVDOW5oIHNcdTFFRURhIG5nXHUwMUIwXHUxRUREaSBkXHhGOW5nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1paywgewogICAgaW5pdGlhbFZhbHVlczogaW5pdFZhbHVlcyB8fCBpbml0aWFsVmFsdWVzLmN1cnJlbnQsCiAgICBlbmFibGVSZWluaXRpYWxpemU6IHRydWUsCiAgICB2YWxpZGF0ZTogdmFsaWRhdGUodmFsaWRhdGlvblNjaGVtYSksCiAgICBvblN1Ym1pdDogb25TdWJtaXQKICB9LCBmdW5jdGlvbiAoX3JlZjQpIHsKICAgIHZhciBfUHJvZHVjdFN0YXR1cyRmaWx0ZXIsIF92YWx1ZXMkZGVwYXJ0bWVudCwgX3ZhbHVlcyRicmFuY2g7CgogICAgdmFyIHZhbHVlcyA9IF9yZWY0LnZhbHVlcywKICAgICAgICBlcnJvcnMgPSBfcmVmNC5lcnJvcnMsCiAgICAgICAgdG91Y2hlZCA9IF9yZWY0LnRvdWNoZWQsCiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX3JlZjQuaGFuZGxlQ2hhbmdlLAogICAgICAgIGhhbmRsZUJsdXIgPSBfcmVmNC5oYW5kbGVCbHVyLAogICAgICAgIGhhbmRsZVN1Ym1pdCA9IF9yZWY0LmhhbmRsZVN1Ym1pdCwKICAgICAgICBzZXRGaWVsZFZhbHVlID0gX3JlZjQuc2V0RmllbGRWYWx1ZSwKICAgICAgICBoYW5kbGVSZXNldCA9IF9yZWY0LmhhbmRsZVJlc2V0OwogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtLCB7CiAgICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQsCiAgICAgIG5vVmFsaWRhdGU6IHRydWUsCiAgICAgIG5hbWU6ICJzaW1wbGVGb3JtIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogImxvZ2luIgogICAgfSwgIlRceEVBbiBcdTAxMTFcdTAxMDNuZyBuaFx1MUVBRHAiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogImxvZ2luIiwKICAgICAgaWQ6ICJsb2dpbiIsCiAgICAgIHBsYWNlaG9sZGVyOiAiVFx4RUFuIFx1MDExMVx1MDEwM25nIG5oXHUxRUFEcCIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgIHZhbHVlOiB2YWx1ZXMubG9naW4KICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBtZDogNgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsYXN0TmFtZSIKICAgIH0sICJIXHUxRUNEIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAidGV4dCIsCiAgICAgIG5hbWU6ICJmaXJzdE5hbWUiLAogICAgICBpZDogIm5hbWUiLAogICAgICBwbGFjZWhvbGRlcjogIkhcdTFFQ0QiLAogICAgICBhdXRvQ29tcGxldGU6ICJmYW1pbHktbmFtZSIsCiAgICAgIGludmFsaWQ6IGVycm9ycy5maXJzdE5hbWUsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuZmlyc3ROYW1lCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLmZpcnN0TmFtZSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBtZDogNgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJUXHhFQW4iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogImxhc3ROYW1lIiwKICAgICAgaWQ6ICJsYXN0TmFtZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiVFx4RUFuIiwKICAgICAgYXV0b0NvbXBsZXRlOiAiYWRkcmVzcyIsCiAgICAgIGludmFsaWQ6IGVycm9ycy5sYXN0TmFtZSwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLmxhc3ROYW1lCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLmxhc3ROYW1lKSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJTXHUxRUQxIFx1MDExMWlcdTFFQzduIHRob1x1MUVBMWkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogInBob25lIiwKICAgICAgaWQ6ICJwaG9uZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiU1x1MUVEMSBcdTAxMTFpXHUxRUM3biB0aG9cdTFFQTFpIiwKICAgICAgYXV0b0NvbXBsZXRlOiAicGhvbmUiLAogICAgICBpbnZhbGlkOiBlcnJvcnMucGhvbmUsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5waG9uZQogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5waG9uZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIlRyXHUxRUExbmcgdGhceEUxaSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgbmFtZTogInN0YXR1cyIsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgICAgc2V0RmllbGRWYWx1ZSgnc3RhdHVzJywgZS52YWx1ZSk7CiAgICAgIH0sCiAgICAgIHBsYWNlaG9sZGVyOiAiQ2hcdTFFQ0RuIGNoaSBuaFx4RTFuaCIsCiAgICAgIHZhbHVlOiB7CiAgICAgICAgdmFsdWU6IHZhbHVlcy5zdGF0dXMsCiAgICAgICAgbGFiZWw6IChfUHJvZHVjdFN0YXR1cyRmaWx0ZXIgPSBQcm9kdWN0U3RhdHVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IHZhbHVlcy5zdGF0dXM7CiAgICAgICAgfSlbMF0pID09PSBudWxsIHx8IF9Qcm9kdWN0U3RhdHVzJGZpbHRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX1Byb2R1Y3RTdGF0dXMkZmlsdGVyLnRpdGxlCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IFByb2R1Y3RTdGF0dXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLAogICAgICAgICAgbGFiZWw6IGl0ZW0udGl0bGUKICAgICAgICB9OwogICAgICB9KQogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5zdGF0dXMpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIkNoaSBuaFx4RTFuaCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgbmFtZTogImRlcGFydG1lbnQiLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ2RlcGFydG1lbnQnLCBlLnZhbHVlKTsKICAgICAgfSwKICAgICAgcGxhY2Vob2xkZXI6ICJDaFx1MUVDRG4gY2hpIG5oXHhFMW5oIiwKICAgICAgdmFsdWU6IHsKICAgICAgICB2YWx1ZTogdmFsdWVzLmRlcGFydG1lbnQsCiAgICAgICAgbGFiZWw6IChfdmFsdWVzJGRlcGFydG1lbnQgPSB2YWx1ZXMuZGVwYXJ0bWVudCkgPT09IG51bGwgfHwgX3ZhbHVlcyRkZXBhcnRtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJGRlcGFydG1lbnQubmFtZQogICAgICB9LAogICAgICBvcHRpb25zOiBkZXBhcnRtZW50cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IGl0ZW0sCiAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lCiAgICAgICAgfTsKICAgICAgfSkKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuZGVwYXJ0bWVudCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIlBoXHhGMm5nIGJhbiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgbmFtZTogImJyYW5jaCIsCiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7CiAgICAgICAgc2V0RmllbGRWYWx1ZSgnYnJhbmNoJywgZS52YWx1ZSk7CiAgICAgIH0sCiAgICAgIHZhbHVlOiB7CiAgICAgICAgdmFsdWU6IHZhbHVlcy5icmFuY2gsCiAgICAgICAgbGFiZWw6IChfdmFsdWVzJGJyYW5jaCA9IHZhbHVlcy5icmFuY2gpID09PSBudWxsIHx8IF92YWx1ZXMkYnJhbmNoID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJGJyYW5jaC5uYW1lCiAgICAgIH0sCiAgICAgIHBsYWNlaG9sZGVyOiAiQ2hcdTFFQ0RuIFBoXHhGMm5nIGJhbiIsCiAgICAgIG9wdGlvbnM6IGJyYW5jaGVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogaXRlbSwKICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUKICAgICAgICB9OwogICAgICB9KQogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5icmFuY2gpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJDaFx1MUVFOWMgdlx1MUVFNSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgbmFtZTogInJvbGUiLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIG9uU2VsZWN0Um9sZXMoZSk7CiAgICAgIH0sCiAgICAgIHBsYWNlaG9sZGVyOiAiQ2hcdTFFQ0RuIGNoXHUxRUU5YyB2XHUxRUU1IiwKICAgICAgb3B0aW9uczogcm9sZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLAogICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZQogICAgICAgIH07CiAgICAgIH0pCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgfSwgZXJyb3JzLnVzZXJSb2xlKSksIHNlbGVjdGVkUm9sZXMubGVuZ3RoID4gMCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYmxlLCB7CiAgICAgIHN0eWxlOiB7CiAgICAgICAgbWFyZ2luVG9wOiAxNQogICAgICB9CiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGhlYWQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgIGNsYXNzTmFtZTogImhhbmQgIHRleHQtbGVmdCBpbmRleC1jb2x1bW4iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsICJTVFQiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgY2xhc3NOYW1lOiAidGV4dC1sZWZ0IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiQ2hcdTFFRTljIHZcdTFFRTUiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgY2xhc3NOYW1lOiAidGV4dC1jZW50ZXIiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsICJUaGFvIHRceEUxYyIpKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGJvZHkiLCBudWxsLCBzZWxlY3RlZFJvbGVzLm1hcChmdW5jdGlvbiAoZ1Blcm1pc3Npb24sIGkpIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIHsKICAgICAgICBrZXk6IGdQZXJtaXNzaW9uLmlkCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0ZXh0LWxlZnQiCiAgICAgIH0sIGkgKyAxKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgZ1Blcm1pc3Npb24ubmFtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0ZXh0LWNlbnRlciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgIHR5cGU6ICJyZXNldCIsCiAgICAgICAgc2l6ZTogImxnIiwKICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiByZW1vdmVSb2xlcyhpKTsKICAgICAgICB9LAogICAgICAgIGNsYXNzTmFtZTogIm1sLTUiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgbmFtZTogImNpbC1iYW4iCiAgICAgIH0pKSkpOwogICAgfSkpKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGNsYXNzTmFtZTogImFsZXJ0IGFsZXJ0LXdhcm5pbmciLAogICAgICBzdHlsZTogewogICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicKICAgICAgfQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiTmdcdTAxQjBcdTFFRERpIGRceEY5bmcgblx4RTB5IGNoXHUwMUIwYSBjXHhGMyBjaFx1MUVFOWMgdlx1MUVFNSAhIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIk5oXHhGM20gcXV5XHUxRUMxbiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgbmFtZTogImRlcGFydG1lbnQiLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIG9uU2VsZWN0R3JvdXBQZXJtaXNzaW9uKGUpOwogICAgICB9LAogICAgICBwbGFjZWhvbGRlcjogIkNoXHUxRUNEbiBuaFx4RjNtIGNoXHUxRUU5YyBuXHUwMTAzbmciLAogICAgICBvcHRpb25zOiBncm91cFBlcm1pc3Npb25zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogaXRlbSwKICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUKICAgICAgICB9OwogICAgICB9KQogICAgfSkpLCBzZWxlY3RlZEdyb3VwUGVybWlzc2lvbi5sZW5ndGggPiAwID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGUsIHsKICAgICAgc3R5bGU6IHsKICAgICAgICBtYXJnaW5Ub3A6IDE1CiAgICAgIH0KICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgY2xhc3NOYW1lOiAiaGFuZCAgdGV4dC1sZWZ0IGluZGV4LWNvbHVtbiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIlNUVCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICBjbGFzc05hbWU6ICJ0ZXh0LWxlZnQiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIG51bGwsICJOaFx4RjNtIHF1eVx1MUVDMW4iKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgY2xhc3NOYW1lOiAidGV4dC1sZWZ0IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiQ2hcdTFFRTljIG5cdTAxMDNuZyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICBjbGFzc05hbWU6ICJ0ZXh0LWNlbnRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgbnVsbCwgIlRoYW8gdFx4RTFjIikpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIsIG51bGwsIHNlbGVjdGVkR3JvdXBQZXJtaXNzaW9uLm1hcChmdW5jdGlvbiAoZ1Blcm1pc3Npb24sIGkpIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIHsKICAgICAgICBrZXk6IGdQZXJtaXNzaW9uLmlkCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0ZXh0LWxlZnQiCiAgICAgIH0sIGkgKyAxKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgZ1Blcm1pc3Npb24ubmFtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGdQZXJtaXNzaW9uLnBlcm1pc3Npb25Hcm91cEFzc29jaWF0ZXMgPyBPYmplY3Qua2V5cyhnUGVybWlzc2lvbi5wZXJtaXNzaW9uR3JvdXBBc3NvY2lhdGVzLnJlZHVjZShmdW5jdGlvbiAociwgYSkgewogICAgICAgIHJbYS50eXBlTmFtZV0gPSBbW11dOwogICAgICAgIHJldHVybiByOwogICAgICB9LCB7fSkpLmpvaW4oJywgJykgOiAnJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICBjbGFzc05hbWU6ICJ0ZXh0LWNlbnRlciIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgIHR5cGU6ICJyZXNldCIsCiAgICAgICAgc2l6ZTogImxnIiwKICAgICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiByZW1vdmVHUGVybWlzc2lvbihpKTsKICAgICAgICB9LAogICAgICAgIGNsYXNzTmFtZTogIm1sLTUiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgbmFtZTogImNpbC1iYW4iCiAgICAgIH0pKSkpOwogICAgfSkpKSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgIGNsYXNzTmFtZTogImFsZXJ0IGFsZXJ0LXdhcm5pbmciLAogICAgICBzdHlsZTogewogICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicKICAgICAgfQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCBudWxsLCAiTmdcdTAxQjBcdTFFRERpIGRceEY5bmcgblx4RTB5IGNoXHUwMUIwYSBjXHhGMyBuaFx4RjNtIHF1eVx1MUVDMW4gISIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICBjbGFzc05hbWU6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgIGRpc2FibGVkOiBpbml0aWFsU3RhdGUubG9hZGluZwogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogImNpbC1zYXZlIgogICAgfSksICIgIiwgaW5pdGlhbFN0YXRlLmxvYWRpbmcgPyAnxJBhbmcgeOG7rSBsw70nIDogJ0zGsHUgbOG6oWknKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICB0eXBlOiAicmVzZXQiLAogICAgICBzaXplOiAibGciLAogICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgIG9uQ2xpY2s6IGhhbmRsZVJlc2V0LAogICAgICBjbGFzc05hbWU6ICJtbC01IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogImNpbC1iYW4iCiAgICB9KSwgIiBYXHhGM2EgbmhcdTFFQURwIGxpXHUxRUM3dSIpKSk7CiAgfSkpKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEVkaXRVc2VyOw=="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/edit-user.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CInvalidFeedback","CFormGroup","CLabel","CInput","CRow","CCardTitle","CIcon","Formik","Yup","useDispatch","useSelector","getDetailUser","updateUser","Table","useHistory","fetching","globalizedUserSelectors","reset","globalizedDepartmentSelectors","globalizedPermissionGroupsSelectors","globalizedUserRoleSelectors","getDepartment","getPermissionGroups","getUserRole","Select","validationSchema","object","shape","firstName","string","min","required","lastName","validate","ProductStatus","globalizedBranchSelectors","getBranch","getSession","mappingStatus","ACTIVE","DISABLED","DELETED","selectById","selectAllDepartment","selectAll","selectAllPermissionGroups","selectAllRole","selectAllBranch","EditUser","props","state","user","initialState","customer","dispatch","history","initialValues","code","name","address","tel","match","params","id","initValues","setInitValues","selectedGroupPermission","setSelectedGroupPermission","selectedDepartment","setSelectedDepartment","selectedRoles","setSelectedRoles","selectedBranch","setSelectedBranch","departments","roles","groupPermissions","branches","permissionGroups","branch","dependency","page","size","sort","updatingSuccess","goBack","onSubmit","values","resetForm","JSON","parse","stringify","removeGPermission","index","arr","splice","removeDepartment","removeRoles","onSelectGroupPermission","value","checkExist","filter","selected","length","newArr","onSelectRoles","current","errors","touched","handleChange","handleBlur","handleSubmit","setFieldValue","handleReset","login","phone","e","status","label","item","title","map","department","userRole","marginTop","gPermission","i","textAlign","permissionGroupAssociates","Object","keys","reduce","r","a","typeName","join","loading"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CInvalidFeedback,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CRow,\n  CCardTitle\n} from '@coreui/react/lib';\nimport CIcon from '@coreui/icons-react/lib/CIcon';;\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getDetailUser, updateUser } from './user.api';\nimport { Table } from 'reactstrap';\n\nimport { useHistory } from 'react-router-dom';\nimport { fetching, globalizedUserSelectors, reset } from './user.reducer';\n\nimport { globalizedDepartmentSelectors } from '../UserDepartment/department.reducer';\nimport { globalizedPermissionGroupsSelectors } from '../UserPermission/permission.reducer';\nimport { globalizedUserRoleSelectors } from '../UserRole/user-roles.reducer';\nimport { getDepartment } from '../UserDepartment/department.api';\nimport { getPermissionGroups } from '../UserPermission/permission.api';\nimport { getUserRole } from '../UserRole/user-roles.api';\nimport Select from 'react-select';\n\nconst validationSchema = function() {\n  return Yup.object().shape({\n    firstName: Yup.string()\n      .min(1, `Họ phải lớn hơn 5 kí tự`)\n      .required('Họ không để trống'),\n    lastName: Yup.string()\n      .min(1, `Tên phải lớn hơn 5 kí tự`)\n      .required('Tên không để trống')\n  });\n};\n\nimport { validate } from '../../../../shared/utils/normalize';\nimport { ProductStatus } from '../../product/ProductList/contants';\nimport { globalizedBranchSelectors } from '../UserBranch/branch.reducer';\nimport { getBranch } from '../UserBranch/branch.api';\nimport { getSession } from '../../login/authenticate.reducer';\n\nexport const mappingStatus = {\n  ACTIVE: 'ĐANG HOẠT ĐỘNG',\n  DISABLED: 'KHÔNG HOẠT ĐỘNG',\n  DELETED: 'ĐÃ XÓA'\n};\nconst { selectById } = globalizedUserSelectors;\nconst { selectAll: selectAllDepartment } = globalizedDepartmentSelectors;\nconst { selectAll: selectAllPermissionGroups } = globalizedPermissionGroupsSelectors;\nconst { selectAll: selectAllRole } = globalizedUserRoleSelectors;\nconst { selectAll: selectAllBranch } = globalizedBranchSelectors;\nconst EditUser = props => {\n  const { initialState } = useSelector(state => state.user);\n  const {} = useSelector(state => state.customer);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const initialValues = useRef({\n    code: '',\n    name: '',\n    address: '',\n    tel: ''\n  });\n\n\n\n  const user = useSelector(state => selectById(state, props.match.params.id));\n\n  const [initValues, setInitValues] = useState(null);\n  const [selectedGroupPermission, setSelectedGroupPermission] = useState([]);\n  const [selectedDepartment, setSelectedDepartment] = useState([]);\n  const [selectedRoles, setSelectedRoles] = useState([]);\n  const [selectedBranch, setSelectedBranch] = useState([]);\n\n  const departments = useSelector(selectAllDepartment);\n  const roles = useSelector(selectAllRole);\n  const groupPermissions = useSelector(selectAllPermissionGroups);\n  const branches = useSelector(selectAllBranch);\n\n  useEffect(() => {\n    setInitValues(user);\n    if (user) {\n      setSelectedDepartment(user.departments);\n      setSelectedGroupPermission(user.permissionGroups || []);\n      setSelectedRoles(user.roles || []);\n      setSelectedBranch(user.branch);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    dispatch(getDetailUser({ id: props.match.params.id, dependency: true }));\n    dispatch(getDepartment({ page: 0, size: 20, sort: 'createdDate,DESC', dependency: true }));\n    dispatch(getPermissionGroups({ page: 0, size: 20, sort: 'createdDate,DESC', dependency: true }));\n    dispatch(getUserRole({ page: 0, size: 20, sort: 'createdDate,DESC', dependency: true }));\n    dispatch(getBranch({ page: 0, size: 20, sort: 'createdDate,DESC', dependency: true }));\n    return () => {\n      dispatch(reset());\n    };\n  }, []);\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(reset());\n      dispatch(getSession())\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  const onSubmit = (values, { resetForm }) => {\n    values = JSON.parse(JSON.stringify(values));\n    values.roles = selectedRoles;\n    values.departments = selectedDepartment;\n    values.permissionGroups = selectedGroupPermission;\n    dispatch(fetching());\n    dispatch(updateUser(values));\n  };\n\n  const removeGPermission = index => {\n    const arr = [...selectedGroupPermission];\n    arr.splice(index, 1);\n    setSelectedGroupPermission(arr);\n  };\n  const removeDepartment = index => {\n    const arr = [...selectedDepartment];\n    arr.splice(index, 1);\n    setSelectedDepartment(arr);\n  };\n  const removeRoles = index => {\n    const arr = [...selectedRoles];\n    arr.splice(index, 1);\n    setSelectedRoles(arr);\n  };\n\n  const onSelectGroupPermission = ({ value }) => {\n    const checkExist = selectedGroupPermission.filter(selected => selected.id === value.id);\n    if (checkExist.length === 0) {\n      const newArr = [...selectedGroupPermission, value];\n      setSelectedGroupPermission(newArr);\n    }\n  };\n\n  const onSelectRoles = ({ value }) => {\n    const checkExist = selectedRoles.filter(selected => selected.id === value.id);\n    if (checkExist.length === 0) {\n      const newArr = [...selectedRoles, value];\n      setSelectedRoles(newArr);\n    }\n  };\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CCardTitle>Chỉnh sửa người dùng</CCardTitle>\n      </CCardHeader>\n      <CCardBody>\n        <Formik\n          initialValues={initValues || initialValues.current}\n          enableReinitialize\n          validate={validate(validationSchema)}\n          onSubmit={onSubmit}\n        >\n          {({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue, handleReset }) => (\n            <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n              <CRow>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"login\">Tên đăng nhập</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"login\"\n                      id=\"login\"\n                      placeholder=\"Tên đăng nhập\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      disabled\n                      value={values.login}\n                    />\n                  </CFormGroup>\n                  <CRow>\n                    <CCol md={6}>\n                      <CFormGroup>\n                        <CLabel htmlFor=\"lastName\">Họ</CLabel>\n                        <CInput\n                          type=\"text\"\n                          name=\"firstName\"\n                          id=\"name\"\n                          placeholder=\"Họ\"\n                          autoComplete=\"family-name\"\n                          invalid={errors.firstName}\n                          required\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.firstName}\n                        />\n                        <CInvalidFeedback>{errors.firstName}</CInvalidFeedback>\n                      </CFormGroup>\n                    </CCol>\n                    <CCol md={6}>\n                      <CFormGroup>\n                        <CLabel htmlFor=\"userName\">Tên</CLabel>\n                        <CInput\n                          type=\"text\"\n                          name=\"lastName\"\n                          id=\"lastName\"\n                          placeholder=\"Tên\"\n                          autoComplete=\"address\"\n                          invalid={errors.lastName}\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.lastName}\n                        />\n                        <CInvalidFeedback>{errors.lastName}</CInvalidFeedback>\n                      </CFormGroup>\n                    </CCol>\n                  </CRow>\n                </CCol>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"userName\">Số điện thoại</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"phone\"\n                      id=\"phone\"\n                      placeholder=\"Số điện thoại\"\n                      autoComplete=\"phone\"\n                      invalid={errors.phone}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.phone}\n                    />\n                    <CInvalidFeedback className=\"d-block\">{errors.phone}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"userName\">Trạng thái</CLabel>\n                    <Select\n                      name=\"status\"\n                      onChange={e => {\n                        setFieldValue('status', e.value);\n                      }}\n                      placeholder=\"Chọn chi nhánh\"\n                      value={{\n                        value: values.status,\n                        label: ProductStatus.filter(item => item.value === values.status)[0]?.title\n                      }}\n                      options={ProductStatus.map(item => ({\n                        value: item.value,\n                        label: item.title\n                      }))}\n                    />\n                    <CInvalidFeedback className=\"d-block\">{errors.status}</CInvalidFeedback>\n                  </CFormGroup>\n                </CCol>\n              </CRow>\n              <CFormGroup>\n                <CLabel htmlFor=\"userName\">Chi nhánh</CLabel>\n                <Select\n                  name=\"department\"\n                  onChange={e => {\n                    setFieldValue('department', e.value);\n                  }}\n                  placeholder=\"Chọn chi nhánh\"\n                  value={{\n                    value: values.department,\n                    label: values.department?.name\n                  }}\n                  options={departments.map(item => ({\n                    value: item,\n                    label: item.name\n                  }))}\n                />\n                <CInvalidFeedback className=\"d-block\">{errors.department}</CInvalidFeedback>\n              </CFormGroup>\n              <CFormGroup>\n                <CLabel htmlFor=\"userName\">Phòng ban</CLabel>\n                <Select\n                  name=\"branch\"\n                  onChange={e => {\n                    setFieldValue('branch', e.value);\n                  }}\n                  value={{\n                    value: values.branch,\n                    label: values.branch?.name\n                  }}\n                  placeholder=\"Chọn Phòng ban\"\n                  options={branches.map(item => ({\n                    value: item,\n                    label: item.name\n                  }))}\n                />\n                <CInvalidFeedback className=\"d-block\">{errors.branch}</CInvalidFeedback>\n              </CFormGroup>\n              <CFormGroup>\n                <CLabel htmlFor=\"userName\">Chức vụ</CLabel>\n                <Select\n                  name=\"role\"\n                  onChange={e => {\n                    onSelectRoles(e);\n                  }}\n                  placeholder=\"Chọn chức vụ\"\n                  options={roles.map(item => ({\n                    value: item,\n                    label: item.name\n                  }))}\n                />\n                <CInvalidFeedback className=\"d-block\">{errors.userRole}</CInvalidFeedback>\n              </CFormGroup>\n              {selectedRoles.length > 0 ? (\n                <Table style={{ marginTop: 15 }}>\n                  <thead>\n                    <tr>\n                      <th className=\"hand  text-left index-column\">\n                        <span>STT</span>\n                      </th>\n                      <th className=\"text-left\">\n                        <span>Chức vụ</span>\n                      </th>\n                      <th className=\"text-center\">\n                        <span>Thao tác</span>\n                      </th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    {selectedRoles.map((gPermission, i) => {\n                      return (\n                        <tr key={gPermission.id}>\n                          <td className=\"text-left\">{i + 1}</td>\n                          <td>{gPermission.name}</td>\n                          <td className=\"text-center\">\n                            <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={() => removeRoles(i)} className=\"ml-5\">\n                              <CIcon name=\"cil-ban\" />\n                            </CButton>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </Table>\n              ) : (\n                <div className=\"alert alert-warning\" style={{ textAlign: 'center' }}>\n                  <span>Người dùng này chưa có chức vụ !</span>\n                </div>\n              )}\n              <CFormGroup>\n                <CLabel htmlFor=\"userName\">Nhóm quyền</CLabel>\n                <Select\n                  name=\"department\"\n                  onChange={e => {\n                    onSelectGroupPermission(e);\n                  }}\n                  placeholder=\"Chọn nhóm chức năng\"\n                  options={groupPermissions.map(item => ({\n                    value: item,\n                    label: item.name\n                  }))}\n                />\n              </CFormGroup>\n\n              {selectedGroupPermission.length > 0 ? (\n                <Table style={{ marginTop: 15 }}>\n                  <thead>\n                    <tr>\n                      <th className=\"hand  text-left index-column\">\n                        <span>STT</span>\n                      </th>\n                      <th className=\"text-left\">\n                        <span>Nhóm quyền</span>\n                      </th>\n                      <th className=\"text-left\">\n                        <span>Chức năng</span>\n                      </th>\n                      <th className=\"text-center\">\n                        <span>Thao tác</span>\n                      </th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    {selectedGroupPermission.map((gPermission, i) => {\n                      return (\n                        <tr key={gPermission.id}>\n                          <td className=\"text-left\">{i + 1}</td>\n                          <td>{gPermission.name}</td>\n                          <td>\n                            {gPermission.permissionGroupAssociates\n                              ? Object.keys(\n                                  gPermission.permissionGroupAssociates.reduce((r, a) => {\n                                    r[a.typeName] = [[]];\n                                    return r;\n                                  }, {})\n                                ).join(', ')\n                              : ''}\n                          </td>\n                          <td className=\"text-center\">\n                            <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={() => removeGPermission(i)} className=\"ml-5\">\n                              <CIcon name=\"cil-ban\" />\n                            </CButton>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </Table>\n              ) : (\n                <div className=\"alert alert-warning\" style={{ textAlign: 'center' }}>\n                  <span>Người dùng này chưa có nhóm quyền !</span>\n                </div>\n              )}\n              <CFormGroup className=\"d-flex justify-content-center\">\n                <CButton type=\"submit\" size=\"lg\" color=\"primary\" disabled={initialState.loading}>\n                  <CIcon name=\"cil-save\" /> {initialState.loading ? 'Đang xử lý' : 'Lưu lại'}\n                </CButton>\n                <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={handleReset} className=\"ml-5\">\n                  <CIcon name=\"cil-ban\" /> Xóa nhập liệu\n                </CButton>\n              </CFormGroup>\n            </CForm>\n          )}\n        </Formik>\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default EditUser;\n"]}]}