{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/EditPromotion.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/EditPromotion.js","mtime":1612725534074},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDQnV0dG9uLCBDQ2FyZCwgQ0NhcmRIZWFkZXIsIENDYXJkQm9keSwgQ0NvbCwgQ0Zvcm0sIENJbnZhbGlkRmVlZGJhY2ssIENGb3JtR3JvdXAsIENMYWJlbCwgQ0lucHV0LCBDUm93LCBDU2VsZWN0LCBDQ2FyZFRpdGxlLCBDVGV4dGFyZWEsIENJbnB1dENoZWNrYm94IH0gZnJvbSAnQGNvcmV1aS9yZWFjdCc7CmltcG9ydCBDSWNvbiBmcm9tICdAY29yZXVpL2ljb25zLXJlYWN0JzsKaW1wb3J0IHsgRm9ybWlrIH0gZnJvbSAnZm9ybWlrJzsKaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgY3JlYXRpbmdQcm9tb3Rpb24sIGdldERldGFpbFByb21vdGlvbiwgdXBkYXRlUHJvbW90aW9uIH0gZnJvbSAnLi9wcm9tb3Rpb24uYXBpJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uLy4uLy4uLy4uL2NvbmZpZy9zdG9yZSc7CmltcG9ydCBUb2FzdGVyIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvbm90aWZpY2F0aW9ucy90b2FzdGVyL1RvYXN0ZXInOwppbXBvcnQgeyBjdXJyZW50IH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7CmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgZmV0Y2hpbmcsIGdsb2JhbGl6ZWRQcm9tb3Rpb25TZWxlY3RvcnMgfSBmcm9tICcuL3Byb21vdGlvbi5yZWR1Y2VyJzsKaW1wb3J0IHsgUHJvbW90aW9uU3RhdHVzLCBVbml0VHlwZSB9IGZyb20gJy4vY29udGFudHMnOwppbXBvcnQgeyBjdXJyZW5jeUZvcm1hdCB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC91dGlscy9ub3JtYWxpemUnOwppbXBvcnQgeyBnZXRDdXN0b21lclR5cGUgfSBmcm9tICcuLi8uLi9jdXN0b21lci9DdXN0b21lclR5cGUvY3VzdG9tZXItdHlwZS5hcGknOwppbXBvcnQgeyBnbG9iYWxpemVkY3VzdG9tZXJUeXBlU2VsZWN0b3JzIH0gZnJvbSAnLi4vLi4vY3VzdG9tZXIvQ3VzdG9tZXJUeXBlL2N1c3RvbWVyLXR5cGUucmVkdWNlcic7CmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JzsKaW1wb3J0IHsgZ2V0UHJvZHVjdCB9IGZyb20gJy4uLy4uL3Byb2R1Y3QvUHJvZHVjdExpc3QvcHJvZHVjdC5hcGknOwppbXBvcnQgeyBnbG9iYWxpemVkUHJvZHVjdFNlbGVjdG9ycyB9IGZyb20gJy4uLy4uL3Byb2R1Y3QvUHJvZHVjdExpc3QvcHJvZHVjdC5yZWR1Y2VyJzsKCnZhciB2YWxpZGF0aW9uU2NoZW1hID0gZnVuY3Rpb24gdmFsaWRhdGlvblNjaGVtYSh2YWx1ZXMpIHsKICByZXR1cm4gWXVwLm9iamVjdCgpLnNoYXBlKHsKICAgIG5hbWU6IFl1cC5zdHJpbmcoKS5taW4oNSwgIlRceEVBbiBwaFx1MUVBM2kgbFx1MUVEQm4gaFx1MDFBMW4gNSBrXHhFRCB0XHUxRUYxIikucmVxdWlyZWQoJ1TDqm4ga2jDtG5nIMSR4buDIHRy4buRbmcnKSwKICAgIHN0YXJ0VGltZTogWXVwLnN0cmluZygpLnJlcXVpcmVkKCdOZ8OgeSBi4bqvdCDEkeG6p3Uga2jDtG5nIMSR4buDIHRy4buRbmcnKSwKICAgIGVuZFRpbWU6IFl1cC5zdHJpbmcoKS5yZXF1aXJlZCgnTmfDoHkga+G6v3QgdGjDumMga2jDtG5nIMSR4buDIHRy4buRbmcnKQogIH0pOwp9OwoKdmFyIHZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUoZ2V0VmFsaWRhdGlvblNjaGVtYSkgewogIHJldHVybiBmdW5jdGlvbiAodmFsdWVzKSB7CiAgICB2YXIgdmFsaWRhdGlvblNjaGVtYSA9IGdldFZhbGlkYXRpb25TY2hlbWEodmFsdWVzKTsKCiAgICB0cnkgewogICAgICB2YWxpZGF0aW9uU2NoZW1hLnZhbGlkYXRlU3luYyh2YWx1ZXMsIHsKICAgICAgICBhYm9ydEVhcmx5OiBmYWxzZQogICAgICB9KTsKICAgICAgcmV0dXJuIHt9OwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgcmV0dXJuIGdldEVycm9yc0Zyb21WYWxpZGF0aW9uRXJyb3IoZXJyb3IpOwogICAgfQogIH07Cn07Cgp2YXIgZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uIGdldEVycm9yc0Zyb21WYWxpZGF0aW9uRXJyb3IodmFsaWRhdGlvbkVycm9yKSB7CiAgdmFyIEZJUlNUX0VSUk9SID0gMDsKICByZXR1cm4gdmFsaWRhdGlvbkVycm9yLmlubmVyLnJlZHVjZShmdW5jdGlvbiAoZXJyb3JzLCBlcnJvcikgewogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZXJyb3JzKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgZXJyb3IucGF0aCwgZXJyb3IuZXJyb3JzW0ZJUlNUX0VSUk9SXSkpOwogIH0sIHt9KTsKfTsKCnZhciBmaW5kRmlyc3RFcnJvciA9IGZ1bmN0aW9uIGZpbmRGaXJzdEVycm9yKGZvcm1OYW1lLCBoYXNFcnJvcikgewogIHZhciBmb3JtID0gZG9jdW1lbnQuZm9ybXNbZm9ybU5hbWVdOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm0ubGVuZ3RoOyBpKyspIHsKICAgIGlmIChoYXNFcnJvcihmb3JtW2ldLm5hbWUpKSB7CiAgICAgIGZvcm1baV0uZm9jdXMoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQp9OwoKdmFyIHZhbGlkYXRlRm9ybSA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybShlcnJvcnMpIHsKICBmaW5kRmlyc3RFcnJvcignc2ltcGxlRm9ybScsIGZ1bmN0aW9uIChmaWVsZE5hbWUpIHsKICAgIHJldHVybiBCb29sZWFuKGVycm9yc1tmaWVsZE5hbWVdKTsKICB9KTsKfTsKCnZhciBFZGl0UHJvbW90aW9uID0gZnVuY3Rpb24gRWRpdFByb21vdGlvbihwcm9wcykgewogIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5wcm9tb3Rpb247CiAgfSksCiAgICAgIGluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3Rvci5pbml0aWFsU3RhdGUsCiAgICAgIGVudGl0aWVzID0gX3VzZVNlbGVjdG9yLmVudGl0aWVzOwoKICB2YXIgdG9hc3RSZWYgPSB1c2VSZWYoKTsKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHZhciBwcm9tb3Rpb25Hcm91cCA9IFtdOwogIHZhciBpbml0aWFsVmFsdWVzID0gdXNlUmVmKHsKICAgIG5hbWU6ICcnLAogICAgZGVzY3JpcHRpb246ICcnLAogICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICBlbmRUaW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICBpc0xvY2s6IGZhbHNlLAogICAgY3VzdG9tZXJUeXBlOiBudWxsCiAgfSk7CiAgdmFyIHNlbGVjdEFsbCA9IGdsb2JhbGl6ZWRjdXN0b21lclR5cGVTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBjdXN0b21lclR5cGUgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGwpOwogIHZhciBzZWxlY3RBbGxQcm9kdWN0ID0gZ2xvYmFsaXplZFByb2R1Y3RTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBwcm9kdWN0cyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbFByb2R1Y3QpOwogIHZhciBzZWxlY3RCeUlkID0gZ2xvYmFsaXplZFByb21vdGlvblNlbGVjdG9ycy5zZWxlY3RCeUlkOwogIHZhciBwcm9tb3Rpb24gPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzZWxlY3RCeUlkKHN0YXRlLCBwcm9wcy5tYXRjaC5wYXJhbXMuaWQpOwogIH0pOwoKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobnVsbCksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBpbml0VmFsdWVzID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0SW5pdFZhbHVlcyA9IF91c2VTdGF0ZTJbMV07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXRDdXN0b21lclR5cGUoKSk7CiAgICBkaXNwYXRjaChnZXRQcm9kdWN0KCkpOwogICAgZGlzcGF0Y2goZ2V0RGV0YWlsUHJvbW90aW9uKHByb3BzLm1hdGNoLnBhcmFtcy5pZCkpOwogIH0sIFtdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgY29uc29sZS5sb2cocHJvbW90aW9uKTsKCiAgICBpZiAocHJvbW90aW9uKSB7CiAgICAgIHNldEluaXRWYWx1ZXMocHJvbW90aW9uKTsKICAgICAgY29uc29sZS5sb2coSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9tb3Rpb24ucHJvbW90aW9uUHJvZHVjdCkpKTsKICAgICAgc2V0UHJvZHVjdExpc3QoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9tb3Rpb24ucHJvbW90aW9uUHJvZHVjdCkpKTsKICAgIH0KICB9LCBbZW50aXRpZXNdKTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgcHJvZHVjdExpc3QgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRQcm9kdWN0TGlzdCA9IF91c2VTdGF0ZTRbMV07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoY3VzdG9tZXJUeXBlLmxlbmd0aCA+IDApIHsKICAgICAgaW5pdGlhbFZhbHVlcy5jdXJyZW50LmN1c3RvbWVyVHlwZSA9IGN1c3RvbWVyVHlwZVswXS5pZDsKICAgIH0KICB9LCBbY3VzdG9tZXJUeXBlXSk7CgogIHZhciBvbkFkZFByb2R1Y3QgPSBmdW5jdGlvbiBvbkFkZFByb2R1Y3QoKSB7CiAgICB2YXIgZGF0YSA9IHsKICAgICAgcHJvZHVjdDogewogICAgICAgIGlkOiAnJwogICAgICB9LAogICAgICBidXk6IDAsCiAgICAgIGdpZnQ6IDAKICAgIH07CiAgICBzZXRQcm9kdWN0TGlzdChbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHByb2R1Y3RMaXN0KSwgW2RhdGFdKSk7CiAgfTsKCiAgdmFyIG9uU2VsZWN0ZWRQcm9kdWN0ID0gZnVuY3Rpb24gb25TZWxlY3RlZFByb2R1Y3QoaXRlbSwgaW5kZXgpIHsKICAgIHZhciBjb3B5QXJyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwcm9kdWN0TGlzdCkpOwogICAgdmFyIGZvdW5kZWRJbmRleCA9IGNvcHlBcnIuZmluZEluZGV4KGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgIHJldHVybiBwcm9kdWN0LnByb2R1Y3QuaWQgPT09IGl0ZW0udmFsdWU7CiAgICB9KTsKCiAgICBpZiAoZm91bmRlZEluZGV4ID49IDApIHsKICAgICAgY29weUFyci5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSBlbHNlIHsKICAgICAgY29weUFycltpbmRleF0ucHJvZHVjdCA9IHsKICAgICAgICBpZDogaXRlbS52YWx1ZQogICAgICB9OwogICAgfQoKICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24gPSBmdW5jdGlvbiBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24odmFsdWUsIGluZGV4LCB0eXBlKSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCk7CgogICAgY29weUFycltpbmRleF1bdHlwZV0gPSB2YWx1ZTsKICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvblN1Ym1pdCA9IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcywgX3JlZikgewogICAgdmFyIHNldFN1Ym1pdHRpbmcgPSBfcmVmLnNldFN1Ym1pdHRpbmcsCiAgICAgICAgc2V0RXJyb3JzID0gX3JlZi5zZXRFcnJvcnMsCiAgICAgICAgc2V0U3RhdHVzID0gX3JlZi5zZXRTdGF0dXMsCiAgICAgICAgcmVzZXRGb3JtID0gX3JlZi5yZXNldEZvcm07CiAgICBkaXNwYXRjaChmZXRjaGluZygpKTsKICAgIHZhbHVlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWVzKSk7CiAgICBpZiAoIXZhbHVlcy5jdXN0b21lclR5cGUpIHZhbHVlcy5jdXN0b21lclR5cGUgPSBpbml0aWFsVmFsdWVzLmN1cnJlbnQuY3VzdG9tZXJUeXBlOwogICAgdmFsdWVzLnByb21vdGlvblByb2R1Y3QgPSBwcm9kdWN0TGlzdDsKICAgIGRpc3BhdGNoKHVwZGF0ZVByb21vdGlvbih2YWx1ZXMpKTsKICAgIHJlc2V0Rm9ybSgpOwogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2VzcykgewogICAgICB0b2FzdFJlZi5jdXJyZW50LmFkZFRvYXN0KCk7CiAgICAgIGhpc3RvcnkuZ29CYWNrKCk7CiAgICB9CiAgfSwgW2luaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3NdKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRvYXN0ZXIsIHsKICAgIHJlZjogdG9hc3RSZWYsCiAgICBtZXNzYWdlOiAiVFx1MUVBMW8gbVx1MUVEQmkgY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBiXHhFMW4gaFx4RTBuZyB0aFx4RTBuaCBjXHhGNG5nIgogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgewogICAgY2xhc3M6ICJjYXJkLWhlYWRlciIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZFRpdGxlLCBudWxsLCAiQ2hcdTFFQzluaCBzXHUxRUVEYSBjaFx1MDFCMFx1MDFBMW5nIHRyXHhFQ25oIGJceEUxbiBoXHhFMG5nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1paywgewogICAgaW5pdGlhbFZhbHVlczogaW5pdFZhbHVlcyB8fCBpbml0aWFsVmFsdWVzLmN1cnJlbnQsCiAgICBlbmFibGVSZWluaXRpYWxpemU6IHRydWUsCiAgICB2YWxpZGF0ZTogdmFsaWRhdGUodmFsaWRhdGlvblNjaGVtYSksCiAgICBvblN1Ym1pdDogb25TdWJtaXQKICB9LCBmdW5jdGlvbiAoX3JlZjIpIHsKICAgIHZhciBfZXJyb3JzJG5hbWUsIF92YWx1ZXMkY3VzdG9tZXJUeXBlOwoKICAgIHZhciB2YWx1ZXMgPSBfcmVmMi52YWx1ZXMsCiAgICAgICAgZXJyb3JzID0gX3JlZjIuZXJyb3JzLAogICAgICAgIHRvdWNoZWQgPSBfcmVmMi50b3VjaGVkLAogICAgICAgIHN0YXR1cyA9IF9yZWYyLnN0YXR1cywKICAgICAgICBkaXJ0eSA9IF9yZWYyLmRpcnR5LAogICAgICAgIGhhbmRsZUNoYW5nZSA9IF9yZWYyLmhhbmRsZUNoYW5nZSwKICAgICAgICBoYW5kbGVCbHVyID0gX3JlZjIuaGFuZGxlQmx1ciwKICAgICAgICBoYW5kbGVTdWJtaXQgPSBfcmVmMi5oYW5kbGVTdWJtaXQsCiAgICAgICAgc2V0RmllbGRWYWx1ZSA9IF9yZWYyLnNldEZpZWxkVmFsdWUsCiAgICAgICAgaXNTdWJtaXR0aW5nID0gX3JlZjIuaXNTdWJtaXR0aW5nLAogICAgICAgIGlzVmFsaWQgPSBfcmVmMi5pc1ZhbGlkLAogICAgICAgIGhhbmRsZVJlc2V0ID0gX3JlZjIuaGFuZGxlUmVzZXQsCiAgICAgICAgc2V0VG91Y2hlZCA9IF9yZWYyLnNldFRvdWNoZWQ7CiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm0sIHsKICAgICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdCwKICAgICAgbm9WYWxpZGF0ZTogdHJ1ZSwKICAgICAgbmFtZTogInNpbXBsZUZvcm0iCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiNiIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAibGFzdE5hbWUiCiAgICB9LCAiVFx4RUFuIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmggYlx4RTFuIGhceEUwbmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogIm5hbWUiLAogICAgICBpZDogIm5hbWUiLAogICAgICBwbGFjZWhvbGRlcjogIlRceEVBbiBjaFx1MDFCMFx1MDFBMW5nIHRyXHhFQ25oIGJceEUxbiBoXHhFMG5nIiwKICAgICAgYXV0b0NvbXBsZXRlOiAibmFtZSIsCiAgICAgIHZhbGlkOiAoZXJyb3JzID09PSBudWxsIHx8IGVycm9ycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnJvcnMkbmFtZSA9IGVycm9ycy5uYW1lKSA9PT0gbnVsbCB8fCBfZXJyb3JzJG5hbWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvcnMkbmFtZS5sZW5ndGgpID4gNSB8fCBudWxsLAogICAgICBpbnZhbGlkOiBlcnJvcnMubmFtZSwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5uYW1lCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJNXHhGNCB0XHUxRUEzIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENUZXh0YXJlYSwgewogICAgICB0eXBlOiAidGV4dCIsCiAgICAgIG5hbWU6ICJkZXNjcmlwdGlvbiIsCiAgICAgIGlkOiAiZGVzY3JpcHRpb24iLAogICAgICBwbGFjZWhvbGRlcjogIk1ceEY0IHRcdTFFQTMiLAogICAgICBhdXRvQ29tcGxldGU6ICJkZXNjcmlwdGlvbiIsCiAgICAgIHZhbGlkOiBlcnJvcnMuZGVzY3JpcHRpb24gfHwgbnVsbCwKICAgICAgaW52YWxpZDogdG91Y2hlZC5kZXNjcmlwdGlvbiAmJiAhIWVycm9ycy5kZXNjcmlwdGlvbiwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLmRlc2NyaXB0aW9uCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLmRlc2NyaXB0aW9uKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAiY3VzdG9tZXJUeXBlIgogICAgfSwgIlx1MDExMFx1MUVEMWkgdFx1MDFCMFx1MUVFM25nIGtoXHhFMWNoIGhceEUwbmcgXHhFMXAgZFx1MUVFNW5nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTZWxlY3QsIHsKICAgICAgY3VzdG9tOiB0cnVlLAogICAgICBuYW1lOiAiY3VzdG9tZXJUeXBlIiwKICAgICAgaWQ6ICJjdXN0b21lclR5cGUiLAogICAgICB2YWx1ZTogKF92YWx1ZXMkY3VzdG9tZXJUeXBlID0gdmFsdWVzLmN1c3RvbWVyVHlwZSkgPT09IG51bGwgfHwgX3ZhbHVlcyRjdXN0b21lclR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWx1ZXMkY3VzdG9tZXJUeXBlLmlkLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ2N1c3RvbWVyVHlwZScsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgfQogICAgfSwgY3VzdG9tZXJUeXBlICYmIGN1c3RvbWVyVHlwZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgICAga2V5OiBpdGVtLmlkLAogICAgICAgIHZhbHVlOiBpdGVtLmlkCiAgICAgIH0sIGl0ZW0ubmFtZSk7CiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIG51bGwsIGVycm9ycy5jdXN0b21lclR5cGUpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUaFx1MUVERGkgZ2lhbiBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAiZGF0ZSIsCiAgICAgIGlkOiAic3RhcnRUaW1lIiwKICAgICAgbmFtZTogInN0YXJ0VGltZSIsCiAgICAgIGRlZmF1bHRWYWx1ZTogdmFsdWVzLnN0YXJ0VGltZS5zcGxpdCgnVCcpWzBdLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBwbGFjZWhvbGRlcjogIlRoXHUxRUREaSBnaWFuIGJcdTFFQUZ0IFx1MDExMVx1MUVBN3UiCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgfSwgZXJyb3JzLnN0YXJ0VGltZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInBhc3N3b3JkIgogICAgfSwgIlRoXHUxRUREaSBnaWFuIGtcdTFFQkZ0IHRoXHhGQWMiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJkYXRlIiwKICAgICAgaWQ6ICJlbmRUaW1lIiwKICAgICAgbmFtZTogImVuZFRpbWUiLAogICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlcy5lbmRUaW1lLnNwbGl0KCdUJylbMF0sCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHBsYWNlaG9sZGVyOiAiVGhcdTFFRERpIGdpYW4ga1x1MUVCRnQgdGhceEZBYyIKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuZW5kVGltZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgIHZhcmlhbnQ6ICJjdXN0b20tY2hlY2tib3giLAogICAgICBjbGFzc05hbWU6ICJwYi0zIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0Q2hlY2tib3gsIHsKICAgICAgY3VzdG9tOiB0cnVlLAogICAgICBpZDogImlzTG9jayIsCiAgICAgIG5hbWU6ICJpc0xvY2siLAogICAgICB2YWxpZDogIWVycm9ycy5pc0xvY2ssCiAgICAgIGludmFsaWQ6IHRvdWNoZWQuaXNMb2NrICYmICEhZXJyb3JzLmlzTG9jaywKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIHZhcmlhbnQ6ICJjdXN0b20tY2hlY2tib3giLAogICAgICBodG1sRm9yOiAiaXNMb2NrIgogICAgfSwgIktoXHhGM2EgY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCIpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgIHNpemU6ICJzbSIsCiAgICAgIGNsYXNzTmFtZTogIm1sLTMiLAogICAgICBvbkNsaWNrOiBvbkFkZFByb2R1Y3QKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICdjaWxBcnJvd0NpcmNsZVJpZ2h0JywKICAgICAgY2xhc3NOYW1lOiAibXItMiIKICAgIH0pLCAiVGhceEVBbSBzXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjEyIgogICAgfSwgcHJvZHVjdExpc3QgJiYgcHJvZHVjdExpc3QubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICB2YXIgX2l0ZW0kcHJvZHVjdCwgX2l0ZW0kcHJvZHVjdDIsIF9pdGVtJHByb2R1Y3QzOwoKICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgICAga2V5OiBpbmRleCwKICAgICAgICBjbGFzc05hbWU6ICJtdC0zIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgbGc6ICI0IgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgICBodG1sRm9yOiAicGFzc3dvcmQiCiAgICAgIH0sICJTXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgICAgdmFsdWU6IHsKICAgICAgICAgIHZhbHVlOiAoX2l0ZW0kcHJvZHVjdCA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdC5pZCwKICAgICAgICAgIGxhYmVsOiAiIi5jb25jYXQoKF9pdGVtJHByb2R1Y3QyID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDIuY29kZSwgIi0iKS5jb25jYXQoKF9pdGVtJHByb2R1Y3QzID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDMubmFtZSkKICAgICAgICB9LAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgcmV0dXJuIG9uU2VsZWN0ZWRQcm9kdWN0KGV2ZW50LCBpbmRleCk7CiAgICAgICAgfSwKICAgICAgICBvcHRpb25zOiBwcm9kdWN0cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KGl0ZW0uY29kZSwgIi0iKS5jb25jYXQoaXRlbS5uYW1lKQogICAgICAgICAgfTsKICAgICAgICB9KQogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICBsZzogIjQiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgICAgfSwgIk11YSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBuYW1lOiAiYnV5IiwKICAgICAgICBpZDogImJ1eSIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJEdW5nIHRceEVEY2giLAogICAgICAgIGF1dG9Db21wbGV0ZTogImJ1eSIsCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25DaGFuZ2VQcm9kdWN0UHJvbW90aW9uKGV2ZW50LnRhcmdldC52YWx1ZSwgaW5kZXgsICdidXknKTsKICAgICAgICB9LAogICAgICAgIGludmFsaWQ6ICFwcm9kdWN0TGlzdFtpbmRleF0uYnV5LAogICAgICAgIHZhbGlkOiBwcm9kdWN0TGlzdFtpbmRleF0uYnV5LAogICAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgICB2YWx1ZTogcHJvZHVjdExpc3RbaW5kZXhdLmJ1eQogICAgICB9KSwgIXByb2R1Y3RMaXN0W2luZGV4XS5idXkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICAgIH0sICJHaVx4RTEgdHJcdTFFQ0IgcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIDAiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICBsZzogIjQiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgICAgfSwgIlRcdTFFQjduZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBuYW1lOiAiZ2lmdCIsCiAgICAgICAgaWQ6ICJnaWZ0IiwKICAgICAgICBwbGFjZWhvbGRlcjogIkR1bmcgdFx4RURjaCIsCiAgICAgICAgYXV0b0NvbXBsZXRlOiAiZ2lmdCIsCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25DaGFuZ2VQcm9kdWN0UHJvbW90aW9uKGV2ZW50LnRhcmdldC52YWx1ZSwgaW5kZXgsICdnaWZ0Jyk7CiAgICAgICAgfSwKICAgICAgICBpbnZhbGlkOiAhcHJvZHVjdExpc3RbaW5kZXhdLmdpZnQsCiAgICAgICAgdmFsaWQ6IHByb2R1Y3RMaXN0W2luZGV4XS5naWZ0LAogICAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgICB2YWx1ZTogcHJvZHVjdExpc3RbaW5kZXhdLmdpZnQKICAgICAgfSksICFwcm9kdWN0TGlzdFtpbmRleF0uZ2lmdCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgICAgfSwgIkdpXHhFMSB0clx1MUVDQiBwaFx1MUVBM2kgbFx1MUVEQm4gaFx1MDFBMW4gMCIpKSkpOwogICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICBjbGFzc05hbWU6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgIGRpc2FibGVkOiBpbml0aWFsU3RhdGUubG9hZGluZwogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogImNpbC1zYXZlIgogICAgfSksICIgIiwgaW5pdGlhbFN0YXRlLmxvYWRpbmcgPyAnxJBhbmcgeOG7rSBsw70nIDogJ0zGsHUgbOG6oWknKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICB0eXBlOiAicmVzZXQiLAogICAgICBzaXplOiAibGciLAogICAgICBjb2xvcjogImRhbmdlciIsCiAgICAgIG9uQ2xpY2s6IGhhbmRsZVJlc2V0LAogICAgICBjbGFzc05hbWU6ICJtbC01IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogImNpbC1iYW4iCiAgICB9KSwgIiBYXHhGM2EgbmhcdTFFQURwIGxpXHUxRUM3dSIpKSk7CiAgfSkpKTsKfTsKCmV4cG9ydCBkZWZhdWx0IEVkaXRQcm9tb3Rpb247"},null]}