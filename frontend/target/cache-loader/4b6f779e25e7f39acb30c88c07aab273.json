{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreateLongTermPromotion.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreateLongTermPromotion.js","mtime":1619211275512},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90ZW1wbGF0ZU9iamVjdDsKCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKHN0cmluZ3MsIHJhdykgeyBpZiAoIXJhdykgeyByYXcgPSBzdHJpbmdzLnNsaWNlKDApOyB9IHJldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0cmluZ3MsIHsgcmF3OiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdykgfSB9KSk7IH0KCmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENCdXR0b24sIENDYXJkLCBDQ2FyZEhlYWRlciwgQ0NhcmRCb2R5LCBDQ29sLCBDRm9ybSwgQ0ludmFsaWRGZWVkYmFjaywgQ0Zvcm1Hcm91cCwgQ0xhYmVsLCBDSW5wdXQsIENSb3csIENTZWxlY3QsIENDYXJkVGl0bGUsIENUZXh0YXJlYSwgQ0lucHV0Q2hlY2tib3ggfSBmcm9tICdAY29yZXVpL3JlYWN0JzsKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QnOwppbXBvcnQgeyBGb3JtaWsgfSBmcm9tICdmb3JtaWsnOwppbXBvcnQgKiBhcyBZdXAgZnJvbSAneXVwJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBjcmVhdGluZ1Byb21vdGlvbiB9IGZyb20gJy4vcHJvbW90aW9uLmFwaSc7CmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgZmV0Y2hpbmcgfSBmcm9tICcuL3Byb21vdGlvbi5yZWR1Y2VyJzsKaW1wb3J0IHsgUHJvbW90aW9uU3RhdHVzIH0gZnJvbSAnLi9jb250YW50cyc7CmltcG9ydCB7IGdldEN1c3RvbWVyVHlwZSB9IGZyb20gJy4uLy4uL2N1c3RvbWVyL0N1c3RvbWVyVHlwZS9jdXN0b21lci10eXBlLmFwaSc7CmltcG9ydCB7IGdsb2JhbGl6ZWRjdXN0b21lclR5cGVTZWxlY3RvcnMgfSBmcm9tICcuLi8uLi9jdXN0b21lci9DdXN0b21lclR5cGUvY3VzdG9tZXItdHlwZS5yZWR1Y2VyJzsKaW1wb3J0IFNlbGVjdCBmcm9tICdyZWFjdC1zZWxlY3QnOwppbXBvcnQgeyBnbG9iYWxpemVkcHJvZHVjdEdyb3Vwc1NlbGVjdG9ycyB9IGZyb20gJy4uLy4uL3Byb2R1Y3QvUHJvZHVjdEdyb3VwL3Byb2R1Y3QtZ3JvdXAucmVkdWNlcic7CmltcG9ydCB7IGdldFByb2R1Y3RHcm91cCB9IGZyb20gJy4uLy4uL3Byb2R1Y3QvUHJvZHVjdEdyb3VwL3Byb2R1Y3QtZ3JvdXAuYXBpJzsKCnZhciB2YWxpZGF0aW9uU2NoZW1hID0gZnVuY3Rpb24gdmFsaWRhdGlvblNjaGVtYSgpIHsKICByZXR1cm4gWXVwLm9iamVjdCgpLnNoYXBlKHsKICAgIG5hbWU6IFl1cC5zdHJpbmcoKS5taW4oNShfdGVtcGxhdGVPYmplY3QgfHwgKF90ZW1wbGF0ZU9iamVjdCA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoWyJUXHhFQW4gcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIDUga1x4RUQgdFx1MUVGMSJdKSkpKS5yZXF1aXJlZCgnVMOqbiBraMO0bmcgxJHhu4MgdHLhu5FuZycpLAogICAgc3RhcnRUaW1lOiBZdXAuc3RyaW5nKCkucmVxdWlyZWQoJ05nw6B5IGLhuq90IMSR4bqndSBraMO0bmcgxJHhu4MgdHLhu5FuZycpLAogICAgZW5kVGltZTogWXVwLnN0cmluZygpLnJlcXVpcmVkKCdOZ8OgeSBr4bq/dCB0aMO6YyBraMO0bmcgxJHhu4MgdHLhu5FuZycpCiAgfSk7Cn07CgppbXBvcnQgeyB2YWxpZGF0ZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC91dGlscy9ub3JtYWxpemUnOwoKdmFyIENyZWF0ZVByb21vdGlvbiA9IGZ1bmN0aW9uIENyZWF0ZVByb21vdGlvbigpIHsKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvbW90aW9uOwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHZhciBpbml0aWFsVmFsdWVzID0gdXNlUmVmKHsKICAgIG5hbWU6ICcnLAogICAgZGVzY3JpcHRpb246ICcnLAogICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgpLAogICAgZW5kVGltZTogbmV3IERhdGUoKSwKICAgIGlzTG9jazogZmFsc2UsCiAgICBzdGF0dXM6IFByb21vdGlvblN0YXR1c1swXS52YWx1ZQogIH0pOwogIHZhciBzZWxlY3RBbGwgPSBnbG9iYWxpemVkY3VzdG9tZXJUeXBlU2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgY3VzdG9tZXJUeXBlID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsKTsKICB2YXIgc2VsZWN0QWxsUHJvZHVjdEdyb3VwID0gZ2xvYmFsaXplZHByb2R1Y3RHcm91cHNTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBwcm9kdWN0R3JvdXBzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsUHJvZHVjdEdyb3VwKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2goZ2V0Q3VzdG9tZXJUeXBlKCkpOwogICAgZGlzcGF0Y2goZ2V0UHJvZHVjdEdyb3VwKCkpOwogIH0sIFtdKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIHByb21vdGlvbkl0ZW1MaXN0ID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0UHJvbW90aW9uSXRlbUxpc3QgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDEpOwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGN1c3RvbWVyVHlwZS5sZW5ndGggPiAwKSB7CiAgICAgIGluaXRpYWxWYWx1ZXMuY3VycmVudC5jdXN0b21lclR5cGUgPSBjdXN0b21lclR5cGVbMF0uaWQ7CiAgICB9CiAgfSwgW2N1c3RvbWVyVHlwZV0pOwoKICB2YXIgb25BZGRQcm9kdWN0ID0gZnVuY3Rpb24gb25BZGRQcm9kdWN0KCkgewogICAgdmFyIGRhdGEgPSB7CiAgICAgIG5hbWU6ICcnLAogICAgICB0b3RhbE1vbmV5OiAwLAogICAgICByZWR1Y2VQZXJjZW50OiAwLAogICAgICBwcm9kdWN0R3JvdXA6IHt9CiAgICB9OwogICAgc2V0UHJvbW90aW9uSXRlbUxpc3QoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9tb3Rpb25JdGVtTGlzdCksIFtkYXRhXSkpOwogIH07CgogIHZhciBvblNlbGVjdGVkUHJvZHVjdCA9IGZ1bmN0aW9uIG9uU2VsZWN0ZWRQcm9kdWN0KGl0ZW0sIGluZGV4KSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9tb3Rpb25JdGVtTGlzdCk7CgogICAgY29weUFycltpbmRleF0ucHJvZHVjdEdyb3VwID0gewogICAgICBpZDogaXRlbS52YWx1ZQogICAgfTsKICAgIHNldFByb21vdGlvbkl0ZW1MaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24gPSBmdW5jdGlvbiBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24odmFsdWUsIGluZGV4LCB0eXBlKSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9tb3Rpb25JdGVtTGlzdCk7CgogICAgY29weUFycltpbmRleF1bdHlwZV0gPSB2YWx1ZTsKICAgIHNldFByb21vdGlvbkl0ZW1MaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvblN1Ym1pdCA9IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcywgX3JlZikgewogICAgdmFyIF9pbml0aWFsVmFsdWVzJGN1cnJlbjsKCiAgICB2YXIgcmVzZXRGb3JtID0gX3JlZi5yZXNldEZvcm07CiAgICBkaXNwYXRjaChmZXRjaGluZygpKTsKICAgIHZhbHVlcy5jdXN0b21lclR5cGUgPSAoX2luaXRpYWxWYWx1ZXMkY3VycmVuID0gaW5pdGlhbFZhbHVlcy5jdXJyZW50KSA9PT0gbnVsbCB8fCBfaW5pdGlhbFZhbHVlcyRjdXJyZW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pbml0aWFsVmFsdWVzJGN1cnJlbi5jdXN0b21lclR5cGU7CiAgICB2YWx1ZXMucHJvbW90aW9uSXRlbXMgPSBwcm9tb3Rpb25JdGVtTGlzdDsKICAgIHZhbHVlcy50eXBlID0gJ0xPTkdURVJNJzsKICAgIGRpc3BhdGNoKGNyZWF0aW5nUHJvbW90aW9uKHZhbHVlcykpOwogICAgcmVzZXRGb3JtKCk7CiAgfTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzKSB7CiAgICAgIGhpc3RvcnkuZ29CYWNrKCk7CiAgICB9CiAgfSwgW2luaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3NdKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCB7CiAgICBjbGFzczogImNhcmQtaGVhZGVyIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkVGl0bGUsIG51bGwsICJUaFx4RUFtIG1cdTFFREJpIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmggYlx4RTFuIGhceEUwbmcgZFx4RTBpIGhcdTFFQTFuIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEZvcm1paywgewogICAgaW5pdGlhbFZhbHVlczogaW5pdGlhbFZhbHVlcy5jdXJyZW50LAogICAgdmFsaWRhdGU6IHZhbGlkYXRlKHZhbGlkYXRpb25TY2hlbWEpLAogICAgb25TdWJtaXQ6IG9uU3VibWl0CiAgfSwgZnVuY3Rpb24gKF9yZWYyKSB7CiAgICB2YXIgX2Vycm9ycyRuYW1lOwoKICAgIHZhciB2YWx1ZXMgPSBfcmVmMi52YWx1ZXMsCiAgICAgICAgZXJyb3JzID0gX3JlZjIuZXJyb3JzLAogICAgICAgIHRvdWNoZWQgPSBfcmVmMi50b3VjaGVkLAogICAgICAgIGhhbmRsZUNoYW5nZSA9IF9yZWYyLmhhbmRsZUNoYW5nZSwKICAgICAgICBoYW5kbGVCbHVyID0gX3JlZjIuaGFuZGxlQmx1ciwKICAgICAgICBoYW5kbGVTdWJtaXQgPSBfcmVmMi5oYW5kbGVTdWJtaXQsCiAgICAgICAgc2V0RmllbGRWYWx1ZSA9IF9yZWYyLnNldEZpZWxkVmFsdWUsCiAgICAgICAgaGFuZGxlUmVzZXQgPSBfcmVmMi5oYW5kbGVSZXNldDsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybSwgewogICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBub1ZhbGlkYXRlOiB0cnVlLAogICAgICBuYW1lOiAic2ltcGxlRm9ybSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsYXN0TmFtZSIKICAgIH0sICJUXHhFQW4gY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBiXHhFMW4gaFx4RTBuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAibmFtZSIsCiAgICAgIGlkOiAibmFtZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiVFx4RUFuIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmggYlx4RTFuIGhceEUwbmciLAogICAgICBhdXRvQ29tcGxldGU6ICJuYW1lIiwKICAgICAgdmFsaWQ6IChlcnJvcnMgPT09IG51bGwgfHwgZXJyb3JzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9ycyRuYW1lID0gZXJyb3JzLm5hbWUpID09PSBudWxsIHx8IF9lcnJvcnMkbmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9ycyRuYW1lLmxlbmd0aCkgPiA1IHx8IG51bGwsCiAgICAgIGludmFsaWQ6IGVycm9ycy5uYW1lLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLm5hbWUKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCBudWxsLCBlcnJvcnMubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIk1ceEY0IHRcdTFFQTMiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1RleHRhcmVhLCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgaWQ6ICJkZXNjcmlwdGlvbiIsCiAgICAgIHBsYWNlaG9sZGVyOiAiTVx4RjQgdFx1MUVBMyIsCiAgICAgIGF1dG9Db21wbGV0ZTogImRlc2NyaXB0aW9uIiwKICAgICAgdmFsaWQ6IGVycm9ycy5kZXNjcmlwdGlvbiB8fCBudWxsLAogICAgICBpbnZhbGlkOiB0b3VjaGVkLmRlc2NyaXB0aW9uICYmICEhZXJyb3JzLmRlc2NyaXB0aW9uLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuZGVzY3JpcHRpb24KICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCBudWxsLCBlcnJvcnMuZGVzY3JpcHRpb24pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJjdXN0b21lclR5cGUiCiAgICB9LCAiXHUwMTEwXHUxRUQxaSB0XHUwMUIwXHUxRUUzbmcga2hceEUxY2ggaFx4RTBuZyBceEUxcCBkXHUxRUU1bmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NlbGVjdCwgewogICAgICBjdXN0b206IHRydWUsCiAgICAgIG5hbWU6ICJjdXN0b21lclR5cGUiLAogICAgICBpZDogImN1c3RvbWVyVHlwZSIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuY3VzdG9tZXJUeXBlLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ2N1c3RvbWVyVHlwZScsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgfQogICAgfSwgY3VzdG9tZXJUeXBlICYmIGN1c3RvbWVyVHlwZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgICAga2V5OiBpdGVtLmlkLAogICAgICAgIHZhbHVlOiBpdGVtLmlkCiAgICAgIH0sIGl0ZW0ubmFtZSk7CiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIG51bGwsIGVycm9ycy5jdXN0b21lclR5cGUpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUaFx1MUVERGkgZ2lhbiBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAiZGF0ZSIsCiAgICAgIGlkOiAic3RhcnRUaW1lIiwKICAgICAgbmFtZTogInN0YXJ0VGltZSIsCiAgICAgIGludmFsaWQ6IGVycm9ycy5zdGFydFRpbWUsCiAgICAgIHZhbHVlOiB2YWx1ZXMuc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgcGxhY2Vob2xkZXI6ICJUaFx1MUVERGkgZ2lhbiBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1IgogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5zdGFydFRpbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUaFx1MUVERGkgZ2lhbiBrXHUxRUJGdCB0aFx4RkFjIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAiZGF0ZSIsCiAgICAgIGlkOiAiZW5kVGltZSIsCiAgICAgIG5hbWU6ICJlbmRUaW1lIiwKICAgICAgaW52YWxpZDogZXJyb3JzLmVuZFRpbWUsCiAgICAgIHZhbHVlOiB2YWx1ZXMuZW5kVGltZS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHBsYWNlaG9sZGVyOiAiVGhcdTFFRERpIGdpYW4ga1x1MUVCRnQgdGhceEZBYyIKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuZW5kVGltZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgIHZhcmlhbnQ6ICJjdXN0b20tY2hlY2tib3giLAogICAgICBjbGFzc05hbWU6ICJwYi0zIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0Q2hlY2tib3gsIHsKICAgICAgY3VzdG9tOiB0cnVlLAogICAgICBpZDogImlzTG9jayIsCiAgICAgIG5hbWU6ICJpc0xvY2siLAogICAgICB2YWxpZDogIWVycm9ycy5pc0xvY2ssCiAgICAgIGludmFsaWQ6IHRvdWNoZWQuaXNMb2NrICYmICEhZXJyb3JzLmlzTG9jaywKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIHZhcmlhbnQ6ICJjdXN0b20tY2hlY2tib3giLAogICAgICBodG1sRm9yOiAiaXNMb2NrIgogICAgfSwgIktoXHhGM2EgY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUclx1MUVBMW5nIHRoXHhFMWkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NlbGVjdCwgewogICAgICBjdXN0b206IHRydWUsCiAgICAgIG5hbWU6ICJzdGF0dXMiLAogICAgICBpZDogInN0YXR1cyIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuc3RhdHVzLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ3N0YXR1cycsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgfQogICAgfSwgUHJvbW90aW9uU3RhdHVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIsIHsKICAgICAgICBrZXk6IGl0ZW0udmFsdWUsCiAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUKICAgICAgfSwgaXRlbS50aXRsZSk7CiAgICB9KSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgc2l6ZTogInNtIiwKICAgICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICAgIG9uQ2xpY2s6IG9uQWRkUHJvZHVjdAogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogJ2NpbEFycm93Q2lyY2xlUmlnaHQnLAogICAgICBjbGFzc05hbWU6ICJtci0yIgogICAgfSksICJUaFx4RUFtIGRvYW5oIHNcdTFFRDEiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjEyIgogICAgfSwgcHJvbW90aW9uSXRlbUxpc3QubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICAgIGtleTogaW5kZXgsCiAgICAgICAgY2xhc3NOYW1lOiAibXQtMyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgIGxnOiAiMyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgICAgaHRtbEZvcjogInBhc3N3b3JkIgogICAgICB9LCAiVFx4RUFuIGRvYW5oIHNcdTFFRDEiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgIG5hbWU6ICJuYW1lIiwKICAgICAgICBpZDogIm5hbWUiLAogICAgICAgIHBsYWNlaG9sZGVyOiAiVFx4RUFuIGRvYW5oIHNcdTFFRDEiLAogICAgICAgIGF1dG9Db21wbGV0ZTogImduYW1laWZ0IiwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24oZXZlbnQudGFyZ2V0LnZhbHVlLCBpbmRleCwgJ25hbWUnKTsKICAgICAgICB9LAogICAgICAgIGludmFsaWQ6ICFwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0ubmFtZSwKICAgICAgICB2YWxpZDogcHJvbW90aW9uSXRlbUxpc3RbaW5kZXhdLm5hbWUsCiAgICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICAgIHZhbHVlOiBwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0ubmFtZQogICAgICB9KSwgIXByb21vdGlvbkl0ZW1MaXN0W2luZGV4XS5uYW1lICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgICB9LCAiVFx4RUFuIGtoXHhGNG5nIFx1MDExMVx1MUVDMyB0clx1MUVEMW5nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgbGc6ICIzIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgICBodG1sRm9yOiAicGFzc3dvcmQiCiAgICAgIH0sICJNXHUxRUU5YyBkb2FuaCB0aHUoXHUwMTExXHUwMUExbiB2XHUxRUNCOiB0cmlcdTFFQzd1IFx1MDExMVx1MUVEM25nKSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBuYW1lOiAidG90YWxNb25leSIsCiAgICAgICAgaWQ6ICJ0b3RhbE1vbmV5IiwKICAgICAgICBtaW46IDAsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJNXHUxRUU5YyBkb2FuaCB0aHUiLAogICAgICAgIGF1dG9Db21wbGV0ZTogInRvdGFsTW9uZXkiLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlUHJvZHVjdFByb21vdGlvbihldmVudC50YXJnZXQudmFsdWUsIGluZGV4LCAndG90YWxNb25leScpOwogICAgICAgIH0sCiAgICAgICAgaW52YWxpZDogIXByb21vdGlvbkl0ZW1MaXN0W2luZGV4XS50b3RhbE1vbmV5LAogICAgICAgIHZhbGlkOiBwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0udG90YWxNb25leSwKICAgICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgICAgdmFsdWU6IHByb21vdGlvbkl0ZW1MaXN0W2luZGV4XS50b3RhbE1vbmV5CiAgICAgIH0pLCAhcHJvbW90aW9uSXRlbUxpc3RbaW5kZXhdLnRvdGFsTW9uZXkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICAgIH0sICJHaVx4RTEgdHJcdTFFQ0IgcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIDAiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICBsZzogIjMiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgICAgfSwgIkNoaVx1MUVCRnQga2hcdTFFQTV1KFx1MDExMVx1MDFBMW4gdlx1MUVDQjogJSkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgbmFtZTogInJlZHVjZVBlcmNlbnQiLAogICAgICAgIGlkOiAicmVkdWNlUGVyY2VudCIsCiAgICAgICAgbWluOiAwLAogICAgICAgIHBsYWNlaG9sZGVyOiAiQ2hpXHUxRUJGdCBraFx1MUVBNXUiLAogICAgICAgIGF1dG9Db21wbGV0ZTogInJlZHVjZVBlcmNlbnQiLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlUHJvZHVjdFByb21vdGlvbihldmVudC50YXJnZXQudmFsdWUsIGluZGV4LCAncmVkdWNlUGVyY2VudCcpOwogICAgICAgIH0sCiAgICAgICAgaW52YWxpZDogcHJvbW90aW9uSXRlbUxpc3RbaW5kZXhdLnJlZHVjZVBlcmNlbnQgPCAwLAogICAgICAgIHZhbGlkOiBwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0ucmVkdWNlUGVyY2VudCwKICAgICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgICAgdmFsdWU6IHByb21vdGlvbkl0ZW1MaXN0W2luZGV4XS5yZWR1Y2VQZXJjZW50CiAgICAgIH0pLCBwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0ucmVkdWNlUGVyY2VudCA8IDAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICAgIH0sICJHaVx4RTEgdHJcdTFFQ0IgcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIGhvXHUxRUI3YyBiXHUxRUIxbmcgMCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgIGxnOiAiMyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgICAgaHRtbEZvcjogInBhc3N3b3JkIgogICAgICB9LCAiTmhceEYzbSBzXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25TZWxlY3RlZFByb2R1Y3QoZXZlbnQsIGluZGV4KTsKICAgICAgICB9LAogICAgICAgIG9wdGlvbnM6IHByb2R1Y3RHcm91cHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgX2l0ZW0kcHJvZHVjdEJyYW5kOwoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pdGVtJHByb2R1Y3RCcmFuZCA9IGl0ZW0ucHJvZHVjdEJyYW5kKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0QnJhbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3RCcmFuZC5uYW1lLCAiLSIpLmNvbmNhdChpdGVtLm5hbWUpCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH0pKSkpOwogICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICBjbGFzc05hbWU6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgIGRpc2FibGVkOiBpbml0aWFsU3RhdGUubG9hZGluZwogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogImNpbC1zYXZlIgogICAgfSksICIgIiwgaW5pdGlhbFN0YXRlLmxvYWRpbmcgPyAnxJBhbmcgeOG7rSBsw70nIDogJ1ThuqFvIG3hu5tpJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInJlc2V0IiwKICAgICAgc2l6ZTogImxnIiwKICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICBvbkNsaWNrOiBoYW5kbGVSZXNldCwKICAgICAgY2xhc3NOYW1lOiAibWwtNSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWwtYmFuIgogICAgfSksICIgWFx4RjNhIG5oXHUxRUFEcCBsaVx1MUVDN3UiKSkpOwogIH0pKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBDcmVhdGVQcm9tb3Rpb247"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreateLongTermPromotion.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CInvalidFeedback","CFormGroup","CLabel","CInput","CRow","CSelect","CCardTitle","CTextarea","CInputCheckbox","CIcon","Formik","Yup","useDispatch","useSelector","creatingPromotion","useHistory","fetching","PromotionStatus","getCustomerType","globalizedcustomerTypeSelectors","Select","globalizedproductGroupsSelectors","getProductGroup","validationSchema","object","shape","name","string","min","required","startTime","endTime","validate","CreatePromotion","state","promotion","initialState","dispatch","history","initialValues","description","Date","isLock","status","value","selectAll","customerType","selectAllProductGroup","productGroups","promotionItemList","setPromotionItemList","length","current","id","onAddProduct","data","totalMoney","reducePercent","productGroup","onSelectedProduct","item","index","copyArr","onChangeProductPromotion","type","onSubmit","values","resetForm","promotionItems","updatingSuccess","goBack","errors","touched","handleChange","handleBlur","handleSubmit","setFieldValue","handleReset","e","target","map","toISOString","substr","title","event","label","productBrand","loading"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CInvalidFeedback,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CRow,\n  CSelect,\n  CCardTitle,\n  CTextarea,\n  CInputCheckbox,\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport {Formik} from 'formik';\nimport * as Yup from 'yup';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {creatingPromotion} from './promotion.api';\n\n\nimport {useHistory} from 'react-router-dom';\nimport {fetching} from './promotion.reducer';\nimport {PromotionStatus} from './contants';\n\nimport {getCustomerType} from '../../customer/CustomerType/customer-type.api';\nimport {globalizedcustomerTypeSelectors} from '../../customer/CustomerType/customer-type.reducer';\nimport Select from 'react-select';\n\n\nimport {globalizedproductGroupsSelectors} from '../../product/ProductGroup/product-group.reducer';\nimport {getProductGroup} from '../../product/ProductGroup/product-group.api';\n\nconst validationSchema = function() {\n  return Yup.object().shape({\n    name: Yup.string()\n        .min(5 `Tên phải lớn hơn 5 kí tự`)\n        .required('Tên không để trống'),\n    startTime: Yup.string().required('Ngày bắt đầu không để trống'),\n    endTime: Yup.string().required('Ngày kết thúc không để trống'),\n  });\n};\n\nimport {validate} from '../../../../shared/utils/normalize';\n\n\nconst CreatePromotion = () => {\n  const {initialState} = useSelector((state) => state.promotion);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const initialValues = useRef({\n    name: '',\n    description: '',\n    startTime: new Date(),\n    endTime: new Date(),\n    isLock: false,\n    status: PromotionStatus[0].value,\n  });\n  const {selectAll} = globalizedcustomerTypeSelectors;\n  const customerType = useSelector(selectAll);\n  const {selectAll: selectAllProductGroup} = globalizedproductGroupsSelectors;\n  const productGroups = useSelector(selectAllProductGroup);\n  useEffect(() => {\n    dispatch(getCustomerType());\n    dispatch(getProductGroup());\n  }, []);\n\n  const [promotionItemList, setPromotionItemList] = useState([]);\n  const [,] = useState(false);\n\n  useEffect(() => {\n    if (customerType.length > 0) {\n      initialValues.current.customerType = customerType[0].id;\n    }\n  }, [customerType]);\n\n  const onAddProduct = () => {\n    const data = {name: '', totalMoney: 0, reducePercent: 0, productGroup: {}};\n    setPromotionItemList([...promotionItemList, data]);\n  };\n\n  const onSelectedProduct = (item, index) => {\n    const copyArr = [...promotionItemList];\n    copyArr[index].productGroup = {id: item.value};\n    setPromotionItemList(copyArr);\n  };\n\n  const onChangeProductPromotion = (value, index, type) => {\n    const copyArr = [...promotionItemList];\n    copyArr[index][type] = value;\n    setPromotionItemList(copyArr);\n  };\n\n  const onSubmit = (values, {resetForm}) => {\n    dispatch(fetching());\n    values.customerType = initialValues.current?.customerType;\n    values.promotionItems = promotionItemList;\n    values.type = 'LONGTERM';\n    dispatch(creatingPromotion(values));\n    resetForm();\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  return (\n    <CCard>\n      <CCardHeader class=\"card-header\">\n        <CCardTitle>Thêm mới chương trình bán hàng dài hạn</CCardTitle>\n      </CCardHeader>\n      <CCardBody>\n        <Formik initialValues={initialValues.current} validate={validate(validationSchema)} onSubmit={onSubmit}>\n          {({\n            values,\n            errors,\n            touched,\n\n\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            setFieldValue,\n\n\n            handleReset\n            ,\n          }) => (\n            <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n              <CRow>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"lastName\">Tên chương trình bán hàng</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"name\"\n                      id=\"name\"\n                      placeholder=\"Tên chương trình bán hàng\"\n                      autoComplete=\"name\"\n                      valid={errors?.name?.length > 5 || null}\n                      invalid={errors.name}\n                      required\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.name}\n                    />\n                    <CInvalidFeedback>{errors.name}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"userName\">Mô tả</CLabel>\n                    <CTextarea\n                      type=\"text\"\n                      name=\"description\"\n                      id=\"description\"\n                      placeholder=\"Mô tả\"\n                      autoComplete=\"description\"\n                      valid={errors.description || null}\n                      invalid={touched.description && !!errors.description}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.description}\n                    />\n                    <CInvalidFeedback>{errors.description}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"customerType\">Đối tượng khách hàng áp dụng</CLabel>\n                    <CSelect\n                      custom\n                      name=\"customerType\"\n                      id=\"customerType\"\n                      value={values.customerType}\n                      onChange={(e) => {\n                        setFieldValue('customerType', e.target.value);\n                      }}\n                    >\n                      {customerType &&\n                        customerType.map((item) => (\n                          <option key={item.id} value={item.id}>\n                            {item.name}\n                          </option>\n                        ))}\n                    </CSelect>\n                    <CInvalidFeedback>{errors.customerType}</CInvalidFeedback>\n                  </CFormGroup>\n                </CCol>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Thời gian bắt đầu</CLabel>\n                    <CInput\n                      type=\"date\"\n                      id=\"startTime\"\n                      name=\"startTime\"\n                      invalid={errors.startTime}\n                      value={values.startTime.toISOString().substr(0, 10)}\n                      onChange={handleChange}\n                      placeholder=\"Thời gian bắt đầu\"\n                    />\n                    <CInvalidFeedback className=\"d-block\">{errors.startTime}</CInvalidFeedback>\n                  </CFormGroup>\n\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Thời gian kết thúc</CLabel>\n                    <CInput\n                      type=\"date\"\n                      id=\"endTime\"\n                      name=\"endTime\"\n                      invalid={errors.endTime}\n                      value={values.endTime.toISOString().substr(0, 10)}\n                      onChange={handleChange}\n                      placeholder=\"Thời gian kết thúc\"\n                    />\n                    <CInvalidFeedback className=\"d-block\">{errors.endTime}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup variant=\"custom-checkbox\" className=\"pb-3\">\n                    <CInputCheckbox\n                      custom\n                      id=\"isLock\"\n                      name=\"isLock\"\n                      valid={!errors.isLock}\n                      invalid={touched.isLock && !!errors.isLock}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                    />\n                    <CLabel variant=\"custom-checkbox\" htmlFor=\"isLock\">\n                      Khóa chương trình\n                    </CLabel>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Trạng thái</CLabel>\n                    <CSelect\n                      custom\n                      name=\"status\"\n                      id=\"status\"\n                      value={values.status}\n                      onChange={(e) => {\n                        setFieldValue('status', e.target.value);\n                      }}\n                    >\n                      {PromotionStatus.map((item) => (\n                        <option key={item.value} value={item.value}>\n                          {item.title}\n                        </option>\n                      ))}\n                    </CSelect>\n                  </CFormGroup>\n                </CCol>\n                <CButton color=\"primary\" variant=\"outline\" shape=\"square\" size=\"sm\" className=\"ml-3\" onClick={onAddProduct}>\n                  <CIcon name={'cilArrowCircleRight'} className=\"mr-2\" />\n                  Thêm doanh số\n                </CButton>\n                <CCol lg=\"12\">\n                  {promotionItemList.map((item, index) => (\n                    <CFormGroup key={index} className=\"mt-3\">\n                      <CRow>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Tên doanh số</CLabel>\n                          <CInput\n                            type=\"text\"\n                            name=\"name\"\n                            id=\"name\"\n                            placeholder=\"Tên doanh số\"\n                            autoComplete=\"gnameift\"\n                            onChange={(event) => onChangeProductPromotion(event.target.value, index, 'name')}\n                            invalid={!promotionItemList[index].name}\n                            valid={promotionItemList[index].name}\n                            onBlur={handleBlur}\n                            value={promotionItemList[index].name}\n                          />\n                          {!promotionItemList[index].name && <CInvalidFeedback className=\"d-block\">Tên không để trống</CInvalidFeedback>}\n                        </CCol>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Mức doanh thu(đơn vị: triệu đồng)</CLabel>\n                          <CInput\n                            type=\"number\"\n                            name=\"totalMoney\"\n                            id=\"totalMoney\"\n                            min={0}\n                            placeholder=\"Mức doanh thu\"\n                            autoComplete=\"totalMoney\"\n                            onChange={(event) => onChangeProductPromotion(event.target.value, index, 'totalMoney')}\n                            invalid={!promotionItemList[index].totalMoney}\n                            valid={promotionItemList[index].totalMoney}\n                            onBlur={handleBlur}\n                            value={promotionItemList[index].totalMoney}\n                          />\n                          {!promotionItemList[index].totalMoney && (\n                            <CInvalidFeedback className=\"d-block\">Giá trị phải lớn hơn 0</CInvalidFeedback>\n                          )}\n                        </CCol>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Chiết khấu(đơn vị: %)</CLabel>\n                          <CInput\n                            type=\"number\"\n                            name=\"reducePercent\"\n                            id=\"reducePercent\"\n                            min={0}\n                            placeholder=\"Chiết khấu\"\n                            autoComplete=\"reducePercent\"\n                            onChange={(event) => onChangeProductPromotion(event.target.value, index, 'reducePercent')}\n                            invalid={promotionItemList[index].reducePercent < 0}\n                            valid={promotionItemList[index].reducePercent}\n                            onBlur={handleBlur}\n                            value={promotionItemList[index].reducePercent}\n                          />\n                          {promotionItemList[index].reducePercent < 0 && (\n                            <CInvalidFeedback className=\"d-block\">Giá trị phải lớn hơn hoặc bằng 0</CInvalidFeedback>\n                          )}\n                        </CCol>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Nhóm sản phẩm</CLabel>\n                          <Select\n                            onChange={(event) => onSelectedProduct(event, index)}\n                            options={productGroups.map((item) => ({\n                              value: item.id,\n                              label: `${item?.productBrand?.name}-${item.name}`,\n                            }))}\n                          />\n                        </CCol>\n                      </CRow>\n                    </CFormGroup>\n                  ))}\n                </CCol>\n              </CRow>\n              <CFormGroup className=\"d-flex justify-content-center\">\n                <CButton type=\"submit\" size=\"lg\" color=\"primary\" disabled={initialState.loading}>\n                  <CIcon name=\"cil-save\" /> {initialState.loading ? 'Đang xử lý' : 'Tạo mới'}\n                </CButton>\n                <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={handleReset} className=\"ml-5\">\n                  <CIcon name=\"cil-ban\" /> Xóa nhập liệu\n                </CButton>\n              </CFormGroup>\n            </CForm>\n          )}\n        </Formik>\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default CreatePromotion;\n"]}]}