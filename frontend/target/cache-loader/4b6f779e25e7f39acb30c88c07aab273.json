{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreateLongTermPromotion.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreateLongTermPromotion.js","mtime":1611935594589},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDQnV0dG9uLCBDQ2FyZCwgQ0NhcmRIZWFkZXIsIENDYXJkQm9keSwgQ0NvbCwgQ0Zvcm0sIENJbnZhbGlkRmVlZGJhY2ssIENGb3JtR3JvdXAsIENMYWJlbCwgQ0lucHV0LCBDUm93LCBDU2VsZWN0LCBDQ2FyZFRpdGxlLCBDVGV4dGFyZWEsIENJbnB1dENoZWNrYm94IH0gZnJvbSAnQGNvcmV1aS9yZWFjdCc7CmltcG9ydCBDSWNvbiBmcm9tICdAY29yZXVpL2ljb25zLXJlYWN0JzsKaW1wb3J0IHsgRm9ybWlrIH0gZnJvbSAnZm9ybWlrJzsKaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgY3JlYXRpbmdQcm9tb3Rpb24gfSBmcm9tICcuL3Byb21vdGlvbi5hcGknOwppbXBvcnQgVG9hc3RlciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL25vdGlmaWNhdGlvbnMvdG9hc3Rlci9Ub2FzdGVyJzsKaW1wb3J0IHsgY3VycmVudCB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnOwppbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7CmltcG9ydCB7IGZldGNoaW5nLCBnbG9iYWxpemVkUHJvbW90aW9uU2VsZWN0b3JzIH0gZnJvbSAnLi9wcm9tb3Rpb24ucmVkdWNlcic7CmltcG9ydCB7IFByb21vdGlvblN0YXR1cywgVW5pdFR5cGUgfSBmcm9tICcuL2NvbnRhbnRzJzsKaW1wb3J0IHsgY3VycmVuY3lGb3JtYXQgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvbm9ybWFsaXplJzsKaW1wb3J0IHsgZ2V0Q3VzdG9tZXJUeXBlIH0gZnJvbSAnLi4vLi4vY3VzdG9tZXIvQ3VzdG9tZXJUeXBlL2N1c3RvbWVyLXR5cGUuYXBpJzsKaW1wb3J0IHsgZ2xvYmFsaXplZGN1c3RvbWVyVHlwZVNlbGVjdG9ycyB9IGZyb20gJy4uLy4uL2N1c3RvbWVyL0N1c3RvbWVyVHlwZS9jdXN0b21lci10eXBlLnJlZHVjZXInOwppbXBvcnQgU2VsZWN0IGZyb20gJ3JlYWN0LXNlbGVjdCc7CmltcG9ydCB7IGdldFByb2R1Y3QgfSBmcm9tICcuLi8uLi9wcm9kdWN0L1Byb2R1Y3RMaXN0L3Byb2R1Y3QuYXBpJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFByb2R1Y3RTZWxlY3RvcnMgfSBmcm9tICcuLi8uLi9wcm9kdWN0L1Byb2R1Y3RMaXN0L3Byb2R1Y3QucmVkdWNlcic7CmltcG9ydCB7IGdsb2JhbGl6ZWRwcm9kdWN0R3JvdXBzU2VsZWN0b3JzIH0gZnJvbSAnLi4vLi4vcHJvZHVjdC9Qcm9kdWN0R3JvdXAvcHJvZHVjdC1ncm91cC5yZWR1Y2VyJzsKaW1wb3J0IHsgZ2V0UHJvZHVjdEdyb3VwIH0gZnJvbSAnLi4vLi4vcHJvZHVjdC9Qcm9kdWN0R3JvdXAvcHJvZHVjdC1ncm91cC5hcGknOwoKdmFyIHZhbGlkYXRpb25TY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0aW9uU2NoZW1hKHZhbHVlcykgewogIHJldHVybiBZdXAub2JqZWN0KCkuc2hhcGUoewogICAgbmFtZTogWXVwLnN0cmluZygpLm1pbig1LCAiVFx4RUFuIHBoXHUxRUEzaSBsXHUxRURCbiBoXHUwMUExbiA1IGtceEVEIHRcdTFFRjEiKS5yZXF1aXJlZCgnVMOqbiBraMO0bmcgxJHhu4MgdHLhu5FuZycpLAogICAgc3RhcnRUaW1lOiBZdXAuc3RyaW5nKCkucmVxdWlyZWQoJ05nw6B5IGLhuq90IMSR4bqndSBraMO0bmcgxJHhu4MgdHLhu5FuZycpLAogICAgZW5kVGltZTogWXVwLnN0cmluZygpLnJlcXVpcmVkKCdOZ8OgeSBr4bq/dCB0aMO6YyBraMO0bmcgxJHhu4MgdHLhu5FuZycpCiAgfSk7Cn07Cgp2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShnZXRWYWxpZGF0aW9uU2NoZW1hKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZXMpIHsKICAgIHZhciB2YWxpZGF0aW9uU2NoZW1hID0gZ2V0VmFsaWRhdGlvblNjaGVtYSh2YWx1ZXMpOwoKICAgIHRyeSB7CiAgICAgIHZhbGlkYXRpb25TY2hlbWEudmFsaWRhdGVTeW5jKHZhbHVlcywgewogICAgICAgIGFib3J0RWFybHk6IGZhbHNlCiAgICAgIH0pOwogICAgICByZXR1cm4ge307CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICByZXR1cm4gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcihlcnJvcik7CiAgICB9CiAgfTsKfTsKCnZhciBnZXRFcnJvcnNGcm9tVmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcih2YWxpZGF0aW9uRXJyb3IpIHsKICB2YXIgRklSU1RfRVJST1IgPSAwOwogIHJldHVybiB2YWxpZGF0aW9uRXJyb3IuaW5uZXIucmVkdWNlKGZ1bmN0aW9uIChlcnJvcnMsIGVycm9yKSB7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBlcnJvcnMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBlcnJvci5wYXRoLCBlcnJvci5lcnJvcnNbRklSU1RfRVJST1JdKSk7CiAgfSwge30pOwp9OwoKdmFyIGZpbmRGaXJzdEVycm9yID0gZnVuY3Rpb24gZmluZEZpcnN0RXJyb3IoZm9ybU5hbWUsIGhhc0Vycm9yKSB7CiAgdmFyIGZvcm0gPSBkb2N1bWVudC5mb3Jtc1tmb3JtTmFtZV07CgogIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybS5sZW5ndGg7IGkrKykgewogICAgaWYgKGhhc0Vycm9yKGZvcm1baV0ubmFtZSkpIHsKICAgICAgZm9ybVtpXS5mb2N1cygpOwogICAgICBicmVhazsKICAgIH0KICB9Cn07Cgp2YXIgdmFsaWRhdGVGb3JtID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGVycm9ycykgewogIGZpbmRGaXJzdEVycm9yKCdzaW1wbGVGb3JtJywgZnVuY3Rpb24gKGZpZWxkTmFtZSkgewogICAgcmV0dXJuIEJvb2xlYW4oZXJyb3JzW2ZpZWxkTmFtZV0pOwogIH0pOwp9OwoKdmFyIENyZWF0ZVByb21vdGlvbiA9IGZ1bmN0aW9uIENyZWF0ZVByb21vdGlvbigpIHsKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvbW90aW9uOwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgdG9hc3RSZWYgPSB1c2VSZWYoKTsKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHZhciBpbml0aWFsVmFsdWVzID0gdXNlUmVmKHsKICAgIG5hbWU6ICcnLAogICAgZGVzY3JpcHRpb246ICcnLAogICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgpLAogICAgZW5kVGltZTogbmV3IERhdGUoKSwKICAgIGlzTG9jazogZmFsc2UsCiAgICBzdGF0dXM6IFByb21vdGlvblN0YXR1c1swXS52YWx1ZQogIH0pOwogIHZhciBzZWxlY3RBbGwgPSBnbG9iYWxpemVkY3VzdG9tZXJUeXBlU2VsZWN0b3JzLnNlbGVjdEFsbDsKICB2YXIgY3VzdG9tZXJUeXBlID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsKTsKICB2YXIgc2VsZWN0QWxsUHJvZHVjdEdyb3VwID0gZ2xvYmFsaXplZHByb2R1Y3RHcm91cHNTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBwcm9kdWN0R3JvdXBzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsUHJvZHVjdEdyb3VwKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2goZ2V0Q3VzdG9tZXJUeXBlKCkpOwogICAgZGlzcGF0Y2goZ2V0UHJvZHVjdEdyb3VwKCkpOwogIH0sIFtdKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIHByb21vdGlvbkl0ZW1MaXN0ID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0UHJvbW90aW9uSXRlbUxpc3QgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBpc0xvY2sgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRJc0xvY2sgPSBfdXNlU3RhdGU0WzFdOwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGN1c3RvbWVyVHlwZS5sZW5ndGggPiAwKSB7CiAgICAgIGluaXRpYWxWYWx1ZXMuY3VycmVudC5jdXN0b21lclR5cGUgPSBjdXN0b21lclR5cGVbMF0uaWQ7CiAgICB9CiAgfSwgW2N1c3RvbWVyVHlwZV0pOwoKICB2YXIgb25BZGRQcm9kdWN0ID0gZnVuY3Rpb24gb25BZGRQcm9kdWN0KCkgewogICAgdmFyIGRhdGEgPSB7CiAgICAgIG5hbWU6ICIiLAogICAgICB0b3RhbE1vbmV5OiAwLAogICAgICByZWR1Y2VQZXJjZW50OiAwLAogICAgICBwcm9kdWN0R3JvdXA6IHt9CiAgICB9OwogICAgc2V0UHJvbW90aW9uSXRlbUxpc3QoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9tb3Rpb25JdGVtTGlzdCksIFtkYXRhXSkpOwogIH07CgogIHZhciBvblNlbGVjdGVkUHJvZHVjdCA9IGZ1bmN0aW9uIG9uU2VsZWN0ZWRQcm9kdWN0KGl0ZW0sIGluZGV4KSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9tb3Rpb25JdGVtTGlzdCk7CgogICAgY29weUFycltpbmRleF0ucHJvZHVjdEdyb3VwID0gewogICAgICBpZDogaXRlbS52YWx1ZQogICAgfTsKICAgIHNldFByb21vdGlvbkl0ZW1MaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24gPSBmdW5jdGlvbiBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24odmFsdWUsIGluZGV4LCB0eXBlKSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9tb3Rpb25JdGVtTGlzdCk7CgogICAgY29weUFycltpbmRleF1bdHlwZV0gPSB2YWx1ZTsKICAgIHNldFByb21vdGlvbkl0ZW1MaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvblN1Ym1pdCA9IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcywgX3JlZikgewogICAgdmFyIF9pbml0aWFsVmFsdWVzJGN1cnJlbjsKCiAgICB2YXIgc2V0U3VibWl0dGluZyA9IF9yZWYuc2V0U3VibWl0dGluZywKICAgICAgICBzZXRFcnJvcnMgPSBfcmVmLnNldEVycm9ycywKICAgICAgICBzZXRTdGF0dXMgPSBfcmVmLnNldFN0YXR1cywKICAgICAgICByZXNldEZvcm0gPSBfcmVmLnJlc2V0Rm9ybTsKICAgIGRpc3BhdGNoKGZldGNoaW5nKCkpOwogICAgdmFsdWVzLmN1c3RvbWVyVHlwZSA9IChfaW5pdGlhbFZhbHVlcyRjdXJyZW4gPSBpbml0aWFsVmFsdWVzLmN1cnJlbnQpID09PSBudWxsIHx8IF9pbml0aWFsVmFsdWVzJGN1cnJlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2luaXRpYWxWYWx1ZXMkY3VycmVuLmN1c3RvbWVyVHlwZTsKICAgIHZhbHVlcy5wcm9tb3Rpb25JdGVtcyA9IHByb21vdGlvbkl0ZW1MaXN0OwogICAgdmFsdWVzLnR5cGUgPSAnTE9OR1RFUk0nOwogICAgZGlzcGF0Y2goY3JlYXRpbmdQcm9tb3Rpb24odmFsdWVzKSk7CiAgICByZXNldEZvcm0oKTsKICB9OwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGluaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3MpIHsKICAgICAgdG9hc3RSZWYuY3VycmVudC5hZGRUb2FzdCgpOwogICAgICBoaXN0b3J5LmdvQmFjaygpOwogICAgfQogIH0sIFtpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzXSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb2FzdGVyLCB7CiAgICByZWY6IHRvYXN0UmVmLAogICAgbWVzc2FnZTogIlRcdTFFQTFvIG1cdTFFREJpIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmggYlx4RTFuIGhceEUwbmcgdGhceEUwbmggY1x4RjRuZyIKICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIHsKICAgIGNsYXNzOiAiY2FyZC1oZWFkZXIiCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRUaXRsZSwgbnVsbCwgIlRoXHhFQW0gbVx1MUVEQmkgY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBiXHhFMW4gaFx4RTBuZyBkXHhFMGkgaFx1MUVBMW4iKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWlrLCB7CiAgICBpbml0aWFsVmFsdWVzOiBpbml0aWFsVmFsdWVzLmN1cnJlbnQsCiAgICB2YWxpZGF0ZTogdmFsaWRhdGUodmFsaWRhdGlvblNjaGVtYSksCiAgICBvblN1Ym1pdDogb25TdWJtaXQKICB9LCBmdW5jdGlvbiAoX3JlZjIpIHsKICAgIHZhciBfZXJyb3JzJG5hbWU7CgogICAgdmFyIHZhbHVlcyA9IF9yZWYyLnZhbHVlcywKICAgICAgICBlcnJvcnMgPSBfcmVmMi5lcnJvcnMsCiAgICAgICAgdG91Y2hlZCA9IF9yZWYyLnRvdWNoZWQsCiAgICAgICAgc3RhdHVzID0gX3JlZjIuc3RhdHVzLAogICAgICAgIGRpcnR5ID0gX3JlZjIuZGlydHksCiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX3JlZjIuaGFuZGxlQ2hhbmdlLAogICAgICAgIGhhbmRsZUJsdXIgPSBfcmVmMi5oYW5kbGVCbHVyLAogICAgICAgIGhhbmRsZVN1Ym1pdCA9IF9yZWYyLmhhbmRsZVN1Ym1pdCwKICAgICAgICBzZXRGaWVsZFZhbHVlID0gX3JlZjIuc2V0RmllbGRWYWx1ZSwKICAgICAgICBpc1N1Ym1pdHRpbmcgPSBfcmVmMi5pc1N1Ym1pdHRpbmcsCiAgICAgICAgaXNWYWxpZCA9IF9yZWYyLmlzVmFsaWQsCiAgICAgICAgaGFuZGxlUmVzZXQgPSBfcmVmMi5oYW5kbGVSZXNldCwKICAgICAgICBzZXRUb3VjaGVkID0gX3JlZjIuc2V0VG91Y2hlZDsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybSwgewogICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBub1ZhbGlkYXRlOiB0cnVlLAogICAgICBuYW1lOiAic2ltcGxlRm9ybSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsYXN0TmFtZSIKICAgIH0sICJUXHhFQW4gY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBiXHhFMW4gaFx4RTBuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAibmFtZSIsCiAgICAgIGlkOiAibmFtZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiVFx4RUFuIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmggYlx4RTFuIGhceEUwbmciLAogICAgICBhdXRvQ29tcGxldGU6ICJuYW1lIiwKICAgICAgdmFsaWQ6IChlcnJvcnMgPT09IG51bGwgfHwgZXJyb3JzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9ycyRuYW1lID0gZXJyb3JzLm5hbWUpID09PSBudWxsIHx8IF9lcnJvcnMkbmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9ycyRuYW1lLmxlbmd0aCkgPiA1IHx8IG51bGwsCiAgICAgIGludmFsaWQ6IGVycm9ycy5uYW1lLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLm5hbWUKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCBudWxsLCBlcnJvcnMubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIk1ceEY0IHRcdTFFQTMiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1RleHRhcmVhLCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgaWQ6ICJkZXNjcmlwdGlvbiIsCiAgICAgIHBsYWNlaG9sZGVyOiAiTVx4RjQgdFx1MUVBMyIsCiAgICAgIGF1dG9Db21wbGV0ZTogImRlc2NyaXB0aW9uIiwKICAgICAgdmFsaWQ6IGVycm9ycy5kZXNjcmlwdGlvbiB8fCBudWxsLAogICAgICBpbnZhbGlkOiB0b3VjaGVkLmRlc2NyaXB0aW9uICYmICEhZXJyb3JzLmRlc2NyaXB0aW9uLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuZGVzY3JpcHRpb24KICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCBudWxsLCBlcnJvcnMuZGVzY3JpcHRpb24pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJjdXN0b21lclR5cGUiCiAgICB9LCAiXHUwMTEwXHUxRUQxaSB0XHUwMUIwXHUxRUUzbmcga2hceEUxY2ggaFx4RTBuZyBceEUxcCBkXHUxRUU1bmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NlbGVjdCwgewogICAgICBjdXN0b206IHRydWUsCiAgICAgIG5hbWU6ICJjdXN0b21lclR5cGUiLAogICAgICBpZDogImN1c3RvbWVyVHlwZSIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuY3VzdG9tZXJUeXBlLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ2N1c3RvbWVyVHlwZScsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgfQogICAgfSwgY3VzdG9tZXJUeXBlICYmIGN1c3RvbWVyVHlwZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgICAga2V5OiBpdGVtLmlkLAogICAgICAgIHZhbHVlOiBpdGVtLmlkCiAgICAgIH0sIGl0ZW0ubmFtZSk7CiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIG51bGwsIGVycm9ycy5jdXN0b21lclR5cGUpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUaFx1MUVERGkgZ2lhbiBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAiZGF0ZSIsCiAgICAgIGlkOiAic3RhcnRUaW1lIiwKICAgICAgbmFtZTogInN0YXJ0VGltZSIsCiAgICAgIGludmFsaWQ6IGVycm9ycy5zdGFydFRpbWUsCiAgICAgIHZhbHVlOiB2YWx1ZXMuc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKSwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgcGxhY2Vob2xkZXI6ICJUaFx1MUVERGkgZ2lhbiBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1IgogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5zdGFydFRpbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUaFx1MUVERGkgZ2lhbiBrXHUxRUJGdCB0aFx4RkFjIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAiZGF0ZSIsCiAgICAgIGlkOiAiZW5kVGltZSIsCiAgICAgIG5hbWU6ICJlbmRUaW1lIiwKICAgICAgaW52YWxpZDogZXJyb3JzLmVuZFRpbWUsCiAgICAgIHZhbHVlOiB2YWx1ZXMuZW5kVGltZS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHBsYWNlaG9sZGVyOiAiVGhcdTFFRERpIGdpYW4ga1x1MUVCRnQgdGhceEZBYyIKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuZW5kVGltZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgIHZhcmlhbnQ6ICJjdXN0b20tY2hlY2tib3giLAogICAgICBjbGFzc05hbWU6ICJwYi0zIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0Q2hlY2tib3gsIHsKICAgICAgY3VzdG9tOiB0cnVlLAogICAgICBpZDogImlzTG9jayIsCiAgICAgIG5hbWU6ICJpc0xvY2siLAogICAgICB2YWxpZDogIWVycm9ycy5pc0xvY2ssCiAgICAgIGludmFsaWQ6IHRvdWNoZWQuaXNMb2NrICYmICEhZXJyb3JzLmlzTG9jaywKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIHZhcmlhbnQ6ICJjdXN0b20tY2hlY2tib3giLAogICAgICBodG1sRm9yOiAiaXNMb2NrIgogICAgfSwgIktoXHhGM2EgY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUclx1MUVBMW5nIHRoXHhFMWkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NlbGVjdCwgewogICAgICBjdXN0b206IHRydWUsCiAgICAgIG5hbWU6ICJzdGF0dXMiLAogICAgICBpZDogInN0YXR1cyIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuc3RhdHVzLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ3N0YXR1cycsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgfQogICAgfSwgUHJvbW90aW9uU3RhdHVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIsIHsKICAgICAgICBrZXk6IGl0ZW0udmFsdWUsCiAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUKICAgICAgfSwgaXRlbS50aXRsZSk7CiAgICB9KSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgc2l6ZTogInNtIiwKICAgICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICAgIG9uQ2xpY2s6IG9uQWRkUHJvZHVjdAogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogJ2NpbEFycm93Q2lyY2xlUmlnaHQnLAogICAgICBjbGFzc05hbWU6ICJtci0yIgogICAgfSksICJUaFx4RUFtIGRvYW5oIHNcdTFFRDEiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjEyIgogICAgfSwgcHJvbW90aW9uSXRlbUxpc3QubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICAgIGtleTogaW5kZXgsCiAgICAgICAgY2xhc3NOYW1lOiAibXQtMyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgIGxnOiAiMyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgICAgaHRtbEZvcjogInBhc3N3b3JkIgogICAgICB9LCAiVFx4RUFuIGRvYW5oIHNcdTFFRDEiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgIG5hbWU6ICJuYW1lIiwKICAgICAgICBpZDogIm5hbWUiLAogICAgICAgIHBsYWNlaG9sZGVyOiAiVFx4RUFuIGRvYW5oIHNcdTFFRDEiLAogICAgICAgIGF1dG9Db21wbGV0ZTogImduYW1laWZ0IiwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24oZXZlbnQudGFyZ2V0LnZhbHVlLCBpbmRleCwgJ25hbWUnKTsKICAgICAgICB9LAogICAgICAgIGludmFsaWQ6ICFwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0ubmFtZSwKICAgICAgICB2YWxpZDogcHJvbW90aW9uSXRlbUxpc3RbaW5kZXhdLm5hbWUsCiAgICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICAgIHZhbHVlOiBwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0ubmFtZQogICAgICB9KSwgIXByb21vdGlvbkl0ZW1MaXN0W2luZGV4XS5uYW1lICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgICBjbGFzc05hbWU6ICJkLWJsb2NrIgogICAgICB9LCAiVFx4RUFuIGtoXHhGNG5nIFx1MDExMVx1MUVDMyB0clx1MUVEMW5nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgbGc6ICIzIgogICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgICBodG1sRm9yOiAicGFzc3dvcmQiCiAgICAgIH0sICJNXHUxRUU5YyBkb2FuaCB0aHUoXHUwMTExXHUwMUExbiB2XHUxRUNCOiB0cmlcdTFFQzd1IFx1MDExMVx1MUVEM25nKSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBuYW1lOiAidG90YWxNb25leSIsCiAgICAgICAgaWQ6ICJ0b3RhbE1vbmV5IiwKICAgICAgICBtaW46IDAsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJNXHUxRUU5YyBkb2FuaCB0aHUiLAogICAgICAgIGF1dG9Db21wbGV0ZTogInRvdGFsTW9uZXkiLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlUHJvZHVjdFByb21vdGlvbihldmVudC50YXJnZXQudmFsdWUsIGluZGV4LCAndG90YWxNb25leScpOwogICAgICAgIH0sCiAgICAgICAgaW52YWxpZDogIXByb21vdGlvbkl0ZW1MaXN0W2luZGV4XS50b3RhbE1vbmV5LAogICAgICAgIHZhbGlkOiBwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0udG90YWxNb25leSwKICAgICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgICAgdmFsdWU6IHByb21vdGlvbkl0ZW1MaXN0W2luZGV4XS50b3RhbE1vbmV5CiAgICAgIH0pLCAhcHJvbW90aW9uSXRlbUxpc3RbaW5kZXhdLnRvdGFsTW9uZXkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICAgIH0sICJHaVx4RTEgdHJcdTFFQ0IgcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIDAiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICBsZzogIjMiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgICAgfSwgIkNoaVx1MUVCRnQga2hcdTFFQTV1KFx1MDExMVx1MDFBMW4gdlx1MUVDQjogJSkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgbmFtZTogInJlZHVjZVBlcmNlbnQiLAogICAgICAgIGlkOiAicmVkdWNlUGVyY2VudCIsCiAgICAgICAgbWluOiAwLAogICAgICAgIHBsYWNlaG9sZGVyOiAiQ2hpXHUxRUJGdCBraFx1MUVBNXUiLAogICAgICAgIGF1dG9Db21wbGV0ZTogInJlZHVjZVBlcmNlbnQiLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlUHJvZHVjdFByb21vdGlvbihldmVudC50YXJnZXQudmFsdWUsIGluZGV4LCAncmVkdWNlUGVyY2VudCcpOwogICAgICAgIH0sCiAgICAgICAgaW52YWxpZDogcHJvbW90aW9uSXRlbUxpc3RbaW5kZXhdLnJlZHVjZVBlcmNlbnQgPCAwLAogICAgICAgIHZhbGlkOiBwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0ucmVkdWNlUGVyY2VudCwKICAgICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgICAgdmFsdWU6IHByb21vdGlvbkl0ZW1MaXN0W2luZGV4XS5yZWR1Y2VQZXJjZW50CiAgICAgIH0pLCBwcm9tb3Rpb25JdGVtTGlzdFtpbmRleF0ucmVkdWNlUGVyY2VudCA8IDAgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICAgIH0sICJHaVx4RTEgdHJcdTFFQ0IgcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIGhvXHUxRUI3YyBiXHUxRUIxbmcgMCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgIGxnOiAiMyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgICAgaHRtbEZvcjogInBhc3N3b3JkIgogICAgICB9LCAiTmhceEYzbSBzXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25TZWxlY3RlZFByb2R1Y3QoZXZlbnQsIGluZGV4KTsKICAgICAgICB9LAogICAgICAgIG9wdGlvbnM6IHByb2R1Y3RHcm91cHMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgX2l0ZW0kcHJvZHVjdEJyYW5kOwoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9pdGVtJHByb2R1Y3RCcmFuZCA9IGl0ZW0ucHJvZHVjdEJyYW5kKSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0QnJhbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHByb2R1Y3RCcmFuZC5uYW1lLCAiLSIpLmNvbmNhdChpdGVtLm5hbWUpCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH0pKSkpOwogICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICBjbGFzc05hbWU6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgIGRpc2FibGVkOiBpbml0aWFsU3RhdGUubG9hZGluZwogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogImNpbC1zYXZlIgogICAgfSksICIgIiwgaW5pdGlhbFN0YXRlLmxvYWRpbmcgPyAnxJBhbmcgeOG7rSBsw70nIDogJ1ThuqFvIG3hu5tpJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInJlc2V0IiwKICAgICAgc2l6ZTogImxnIiwKICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICBvbkNsaWNrOiBoYW5kbGVSZXNldCwKICAgICAgY2xhc3NOYW1lOiAibWwtNSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWwtYmFuIgogICAgfSksICIgWFx4RjNhIG5oXHUxRUFEcCBsaVx1MUVDN3UiKSkpOwogIH0pKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBDcmVhdGVQcm9tb3Rpb247"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreateLongTermPromotion.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CInvalidFeedback","CFormGroup","CLabel","CInput","CRow","CSelect","CCardTitle","CTextarea","CInputCheckbox","CIcon","Formik","Yup","useDispatch","useSelector","creatingPromotion","Toaster","current","useHistory","fetching","globalizedPromotionSelectors","PromotionStatus","UnitType","currencyFormat","getCustomerType","globalizedcustomerTypeSelectors","Select","getProduct","globalizedProductSelectors","globalizedproductGroupsSelectors","getProductGroup","validationSchema","values","object","shape","name","string","min","required","startTime","endTime","validate","getValidationSchema","validateSync","abortEarly","error","getErrorsFromValidationError","validationError","FIRST_ERROR","inner","reduce","errors","path","findFirstError","formName","hasError","form","document","forms","i","length","focus","validateForm","fieldName","Boolean","CreatePromotion","state","promotion","initialState","toastRef","dispatch","history","initialValues","description","Date","isLock","status","value","selectAll","customerType","selectAllProductGroup","productGroups","promotionItemList","setPromotionItemList","setIsLock","id","onAddProduct","data","totalMoney","reducePercent","productGroup","onSelectedProduct","item","index","copyArr","onChangeProductPromotion","type","onSubmit","setSubmitting","setErrors","setStatus","resetForm","promotionItems","updatingSuccess","addToast","goBack","touched","dirty","handleChange","handleBlur","handleSubmit","setFieldValue","isSubmitting","isValid","handleReset","setTouched","e","target","map","toISOString","substr","title","event","label","productBrand","loading"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CInvalidFeedback,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CRow,\n  CSelect,\n  CCardTitle,\n  CTextarea,\n  CInputCheckbox,\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { creatingPromotion } from './promotion.api';\n\nimport Toaster from '../../../components/notifications/toaster/Toaster';\nimport { current } from '@reduxjs/toolkit';\nimport { useHistory } from 'react-router-dom';\nimport { fetching, globalizedPromotionSelectors } from './promotion.reducer';\nimport { PromotionStatus, UnitType } from './contants';\nimport { currencyFormat } from '../../../../shared/utils/normalize';\nimport { getCustomerType } from '../../customer/CustomerType/customer-type.api';\nimport { globalizedcustomerTypeSelectors } from '../../customer/CustomerType/customer-type.reducer';\nimport Select from 'react-select';\nimport { getProduct } from '../../product/ProductList/product.api';\nimport { globalizedProductSelectors } from '../../product/ProductList/product.reducer';\nimport { globalizedproductGroupsSelectors } from '../../product/ProductGroup/product-group.reducer';\nimport { getProductGroup } from '../../product/ProductGroup/product-group.api';\n\nconst validationSchema = function (values) {\n  return Yup.object().shape({\n    name: Yup.string().min(5, `Tên phải lớn hơn 5 kí tự`).required('Tên không để trống'),\n    startTime: Yup.string().required('Ngày bắt đầu không để trống'),\n    endTime: Yup.string().required('Ngày kết thúc không để trống'),\n  });\n};\n\nconst validate = getValidationSchema => {\n  return values => {\n    const validationSchema = getValidationSchema(values);\n    try {\n      validationSchema.validateSync(values, { abortEarly: false });\n      return {};\n    } catch (error) {\n      return getErrorsFromValidationError(error);\n    }\n  };\n};\n\nconst getErrorsFromValidationError = validationError => {\n  const FIRST_ERROR = 0;\n  return validationError.inner.reduce((errors, error) => {\n    return {\n      ...errors,\n      [error.path]: error.errors[FIRST_ERROR],\n    };\n  }, {});\n};\n\nconst findFirstError = (formName, hasError) => {\n  const form = document.forms[formName];\n  for (let i = 0; i < form.length; i++) {\n    if (hasError(form[i].name)) {\n      form[i].focus();\n      break;\n    }\n  }\n};\n\nconst validateForm = errors => {\n  findFirstError('simpleForm', fieldName => {\n    return Boolean(errors[fieldName]);\n  });\n};\n\nconst CreatePromotion = () => {\n  const { initialState } = useSelector(state => state.promotion);\n  const toastRef = useRef();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const initialValues = useRef({\n    name: '',\n    description: '',\n    startTime: new Date(),\n    endTime: new Date(),\n    isLock: false,\n    status: PromotionStatus[0].value,\n  });\n  const { selectAll } = globalizedcustomerTypeSelectors;\n  const customerType = useSelector(selectAll);\n  const { selectAll: selectAllProductGroup } = globalizedproductGroupsSelectors;\n  const productGroups = useSelector(selectAllProductGroup);\n  useEffect(() => {\n    dispatch(getCustomerType());\n    dispatch(getProductGroup());\n  }, []);\n\n  const [promotionItemList, setPromotionItemList] = useState([]);\n  const [isLock, setIsLock] = useState(false);\n\n  useEffect(() => {\n    if (customerType.length > 0) {\n      initialValues.current.customerType = customerType[0].id;\n    }\n  }, [customerType]);\n\n  const onAddProduct = () => {\n    const data = { name: \"\", totalMoney: 0, reducePercent: 0, productGroup : {} };\n    setPromotionItemList([...promotionItemList, data]);\n  };\n\n  const onSelectedProduct = (item, index) => {\n    const copyArr = [...promotionItemList];\n    copyArr[index].productGroup = { id: item.value };\n    setPromotionItemList(copyArr);\n  };\n\n  const onChangeProductPromotion = (value, index, type) => {\n    const copyArr = [...promotionItemList];\n    copyArr[index][type] = value;\n    setPromotionItemList(copyArr);\n  };\n\n  const onSubmit = (values, { setSubmitting, setErrors, setStatus, resetForm }) => {\n    dispatch(fetching());\n    values.customerType = initialValues.current?.customerType;\n    values.promotionItems = promotionItemList;\n    values.type = 'LONGTERM';\n    dispatch(creatingPromotion(values));\n    resetForm();\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      toastRef.current.addToast();\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  return (\n    <CCard>\n      <Toaster ref={toastRef} message=\"Tạo mới chương trình bán hàng thành công\" />\n      <CCardHeader class=\"card-header\">\n        <CCardTitle>Thêm mới chương trình bán hàng dài hạn</CCardTitle>\n      </CCardHeader>\n      <CCardBody>\n        <Formik initialValues={initialValues.current} validate={validate(validationSchema)} onSubmit={onSubmit}>\n          {({\n            values,\n            errors,\n            touched,\n            status,\n            dirty,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            setFieldValue,\n            isSubmitting,\n            isValid,\n            handleReset,\n            setTouched,\n          }) => (\n            <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n              <CRow>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"lastName\">Tên chương trình bán hàng</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"name\"\n                      id=\"name\"\n                      placeholder=\"Tên chương trình bán hàng\"\n                      autoComplete=\"name\"\n                      valid={errors?.name?.length > 5 || null}\n                      invalid={errors.name}\n                      required\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.name}\n                    />\n                    <CInvalidFeedback>{errors.name}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"userName\">Mô tả</CLabel>\n                    <CTextarea\n                      type=\"text\"\n                      name=\"description\"\n                      id=\"description\"\n                      placeholder=\"Mô tả\"\n                      autoComplete=\"description\"\n                      valid={errors.description || null}\n                      invalid={touched.description && !!errors.description}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.description}\n                    />\n                    <CInvalidFeedback>{errors.description}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"customerType\">Đối tượng khách hàng áp dụng</CLabel>\n                    <CSelect\n                      custom\n                      name=\"customerType\"\n                      id=\"customerType\"\n                      value={values.customerType}\n                      onChange={e => {\n                        setFieldValue('customerType', e.target.value);\n                      }}\n                    >\n                      {customerType &&\n                        customerType.map(item => (\n                          <option key={item.id} value={item.id}>\n                            {item.name}\n                          </option>\n                        ))}\n                    </CSelect>\n                    <CInvalidFeedback>{errors.customerType}</CInvalidFeedback>\n                  </CFormGroup>\n                </CCol>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Thời gian bắt đầu</CLabel>\n                    <CInput type=\"date\" id=\"startTime\" name=\"startTime\" invalid={errors.startTime} value={values.startTime.toISOString().substr(0,10)} onChange={handleChange} placeholder=\"Thời gian bắt đầu\" />\n                    <CInvalidFeedback className=\"d-block\">{errors.startTime}</CInvalidFeedback>\n                  </CFormGroup>\n\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Thời gian kết thúc</CLabel>\n                    <CInput type=\"date\" id=\"endTime\" name=\"endTime\" invalid={errors.endTime} value={values.endTime.toISOString().substr(0,10)} onChange={handleChange} placeholder=\"Thời gian kết thúc\" />\n                    <CInvalidFeedback className=\"d-block\">{errors.endTime}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup variant=\"custom-checkbox\" className=\"pb-3\">\n                    <CInputCheckbox\n                      custom\n                      id=\"isLock\"\n                      name=\"isLock\"\n                      valid={!errors.isLock}\n                      invalid={touched.isLock && !!errors.isLock}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                    />\n                    <CLabel variant=\"custom-checkbox\" htmlFor=\"isLock\">\n                      Khóa chương trình\n                    </CLabel>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Trạng thái</CLabel>\n                    <CSelect\n                      custom\n                      name=\"status\"\n                      id=\"status\"\n                      value={values.status}\n                      onChange={e => {\n                        setFieldValue('status', e.target.value);\n                      }}\n                    >\n                      {PromotionStatus.map(item => (\n                        <option key={item.value} value={item.value}>\n                          {item.title}\n                        </option>\n                      ))}\n                    </CSelect>\n                  </CFormGroup>\n                </CCol>\n                <CButton color=\"primary\" variant=\"outline\" shape=\"square\" size=\"sm\" className=\"ml-3\" onClick={onAddProduct}>\n                  <CIcon name={'cilArrowCircleRight'} className=\"mr-2\" />\n                  Thêm doanh số\n                </CButton>\n                <CCol lg=\"12\">\n                  {promotionItemList.map((item, index) => (\n                    <CFormGroup key={index} className=\"mt-3\">\n                      <CRow>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Tên doanh số</CLabel>\n                          <CInput\n                            type=\"text\"\n                            name=\"name\"\n                            id=\"name\"\n                            placeholder=\"Tên doanh số\"\n                            autoComplete=\"gnameift\"\n                            onChange={event => onChangeProductPromotion(event.target.value, index, 'name')}\n                            invalid={!promotionItemList[index].name}\n                            valid={promotionItemList[index].name}\n                            onBlur={handleBlur}\n                            value={promotionItemList[index].name}\n                          />\n                          {!promotionItemList[index].name && <CInvalidFeedback className=\"d-block\">Tên không để trống</CInvalidFeedback>}\n                        </CCol>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Mức doanh thu(đơn vị: triệu đồng)</CLabel>\n                          <CInput\n                            type=\"number\"\n                            name=\"totalMoney\"\n                            id=\"totalMoney\"\n                            min={0}\n                            placeholder=\"Mức doanh thu\"\n                            autoComplete=\"totalMoney\"\n                            onChange={event => onChangeProductPromotion(event.target.value, index, 'totalMoney')}\n                            invalid={!promotionItemList[index].totalMoney}\n                            valid={promotionItemList[index].totalMoney}\n                            onBlur={handleBlur}\n                            value={promotionItemList[index].totalMoney}\n                          />\n                          {!promotionItemList[index].totalMoney && <CInvalidFeedback className=\"d-block\">Giá trị phải lớn hơn 0</CInvalidFeedback>}\n                        </CCol>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Chiết khấu(đơn vị: %)</CLabel>\n                          <CInput\n                            type=\"number\"\n                            name=\"reducePercent\"\n                            id=\"reducePercent\"\n                            min={0}\n                            placeholder=\"Chiết khấu\"\n                            autoComplete=\"reducePercent\"\n                            onChange={event => onChangeProductPromotion(event.target.value, index, 'reducePercent')}\n                            invalid={promotionItemList[index].reducePercent < 0}\n                            valid={promotionItemList[index].reducePercent}\n                            onBlur={handleBlur}\n                            value={promotionItemList[index].reducePercent}\n                          />\n                          {promotionItemList[index].reducePercent < 0 && <CInvalidFeedback className=\"d-block\">Giá trị phải lớn hơn hoặc bằng 0</CInvalidFeedback>}\n                        </CCol>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Nhóm sản phẩm</CLabel>\n                          <Select\n                            onChange={event => onSelectedProduct(event, index)}\n                            options={productGroups.map(item => ({\n                              value: item.id,\n                              label: `${item?.productBrand?.name}-${item.name}`,\n                            }))}\n                          />\n                        </CCol>\n                      </CRow>\n                    </CFormGroup>\n                  ))}\n                </CCol>\n              </CRow>\n              <CFormGroup className=\"d-flex justify-content-center\">\n                <CButton type=\"submit\" size=\"lg\" color=\"primary\" disabled={initialState.loading}>\n                  <CIcon name=\"cil-save\" /> {initialState.loading ? 'Đang xử lý' : 'Tạo mới'}\n                </CButton>\n                <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={handleReset} className=\"ml-5\">\n                  <CIcon name=\"cil-ban\" /> Xóa nhập liệu\n                </CButton>\n              </CFormGroup>\n            </CForm>\n          )}\n        </Formik>\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default CreatePromotion;\n"]}]}