{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreatePromotion.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreatePromotion.js","mtime":1619203471103},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH0KCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyBDQnV0dG9uLCBDQ2FyZCwgQ0NhcmRIZWFkZXIsIENDYXJkQm9keSwgQ0NvbCwgQ0Zvcm0sIENJbnZhbGlkRmVlZGJhY2ssIENGb3JtR3JvdXAsIENMYWJlbCwgQ0lucHV0LCBDUm93LCBDU2VsZWN0LCBDQ2FyZFRpdGxlLCBDVGV4dGFyZWEsIENJbnB1dENoZWNrYm94IH0gZnJvbSAnQGNvcmV1aS9yZWFjdCc7CmltcG9ydCBDSWNvbiBmcm9tICdAY29yZXVpL2ljb25zLXJlYWN0JzsKaW1wb3J0IHsgRm9ybWlrIH0gZnJvbSAnZm9ybWlrJzsKaW1wb3J0ICogYXMgWXVwIGZyb20gJ3l1cCc7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgY3JlYXRpbmdQcm9tb3Rpb24gfSBmcm9tICcuL3Byb21vdGlvbi5hcGknOwppbXBvcnQgVG9hc3RlciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL25vdGlmaWNhdGlvbnMvdG9hc3Rlci9Ub2FzdGVyJzsKaW1wb3J0IHsgY3VycmVudCB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnOwppbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7CmltcG9ydCB7IGZldGNoaW5nLCBnbG9iYWxpemVkUHJvbW90aW9uU2VsZWN0b3JzIH0gZnJvbSAnLi9wcm9tb3Rpb24ucmVkdWNlcic7CmltcG9ydCB7IFByb21vdGlvblN0YXR1cywgVW5pdFR5cGUgfSBmcm9tICcuL2NvbnRhbnRzJzsKaW1wb3J0IHsgY3VycmVuY3lGb3JtYXQgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvbm9ybWFsaXplJzsKaW1wb3J0IHsgZ2V0Q3VzdG9tZXJUeXBlIH0gZnJvbSAnLi4vLi4vY3VzdG9tZXIvQ3VzdG9tZXJUeXBlL2N1c3RvbWVyLXR5cGUuYXBpJzsKaW1wb3J0IHsgZ2xvYmFsaXplZGN1c3RvbWVyVHlwZVNlbGVjdG9ycyB9IGZyb20gJy4uLy4uL2N1c3RvbWVyL0N1c3RvbWVyVHlwZS9jdXN0b21lci10eXBlLnJlZHVjZXInOwppbXBvcnQgU2VsZWN0IGZyb20gJ3JlYWN0LXNlbGVjdCc7CmltcG9ydCB7IGdldFByb2R1Y3QgfSBmcm9tICcuLi8uLi9wcm9kdWN0L1Byb2R1Y3RMaXN0L3Byb2R1Y3QuYXBpJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFByb2R1Y3RTZWxlY3RvcnMgfSBmcm9tICcuLi8uLi9wcm9kdWN0L1Byb2R1Y3RMaXN0L3Byb2R1Y3QucmVkdWNlcic7Cgp2YXIgdmFsaWRhdGlvblNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRpb25TY2hlbWEodmFsdWVzKSB7CiAgcmV0dXJuIFl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICBuYW1lOiBZdXAuc3RyaW5nKCkubWluKDUsICJUXHhFQW4gcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIDUga1x4RUQgdFx1MUVGMSIpLnJlcXVpcmVkKCdUw6puIGtow7RuZyDEkeG7gyB0cuG7kW5nJyksCiAgICBzdGFydFRpbWU6IFl1cC5zdHJpbmcoKS5yZXF1aXJlZCgnTmfDoHkgYuG6r3QgxJHhuqd1IGtow7RuZyDEkeG7gyB0cuG7kW5nJyksCiAgICBlbmRUaW1lOiBZdXAuc3RyaW5nKCkucmVxdWlyZWQoJ05nw6B5IGvhur90IHRow7pjIGtow7RuZyDEkeG7gyB0cuG7kW5nJykKICB9KTsKfTsKCnZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKGdldFZhbGlkYXRpb25TY2hlbWEpIHsKICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlcykgewogICAgdmFyIHZhbGlkYXRpb25TY2hlbWEgPSBnZXRWYWxpZGF0aW9uU2NoZW1hKHZhbHVlcyk7CgogICAgdHJ5IHsKICAgICAgdmFsaWRhdGlvblNjaGVtYS52YWxpZGF0ZVN5bmModmFsdWVzLCB7CiAgICAgICAgYWJvcnRFYXJseTogZmFsc2UKICAgICAgfSk7CiAgICAgIHJldHVybiB7fTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIHJldHVybiBnZXRFcnJvcnNGcm9tVmFsaWRhdGlvbkVycm9yKGVycm9yKTsKICAgIH0KICB9Owp9OwoKdmFyIGdldEVycm9yc0Zyb21WYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiBnZXRFcnJvcnNGcm9tVmFsaWRhdGlvbkVycm9yKHZhbGlkYXRpb25FcnJvcikgewogIHZhciBGSVJTVF9FUlJPUiA9IDA7CiAgcmV0dXJuIHZhbGlkYXRpb25FcnJvci5pbm5lci5yZWR1Y2UoZnVuY3Rpb24gKGVycm9ycywgZXJyb3IpIHsKICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGVycm9ycyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGVycm9yLnBhdGgsIGVycm9yLmVycm9yc1tGSVJTVF9FUlJPUl0pKTsKICB9LCB7fSk7Cn07Cgp2YXIgZmluZEZpcnN0RXJyb3IgPSBmdW5jdGlvbiBmaW5kRmlyc3RFcnJvcihmb3JtTmFtZSwgaGFzRXJyb3IpIHsKICB2YXIgZm9ybSA9IGRvY3VtZW50LmZvcm1zW2Zvcm1OYW1lXTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAoaGFzRXJyb3IoZm9ybVtpXS5uYW1lKSkgewogICAgICBmb3JtW2ldLmZvY3VzKCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KfTsKCnZhciB2YWxpZGF0ZUZvcm0gPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oZXJyb3JzKSB7CiAgZmluZEZpcnN0RXJyb3IoJ3NpbXBsZUZvcm0nLCBmdW5jdGlvbiAoZmllbGROYW1lKSB7CiAgICByZXR1cm4gQm9vbGVhbihlcnJvcnNbZmllbGROYW1lXSk7CiAgfSk7Cn07Cgp2YXIgQ3JlYXRlUHJvbW90aW9uID0gZnVuY3Rpb24gQ3JlYXRlUHJvbW90aW9uKCkgewogIHZhciBfdXNlUmVmOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvbW90aW9uOwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHZhciBwcm9tb3Rpb25Hcm91cCA9IFtdOwogIHZhciBpbml0aWFsVmFsdWVzID0gdXNlUmVmKChfdXNlUmVmID0gewogICAgbmFtZTogJycsCiAgICBkZXNjcmlwdGlvbjogJycsCiAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCkKICB9LCBfZGVmaW5lUHJvcGVydHkoX3VzZVJlZiwgInN0YXJ0VGltZSIsIG5ldyBEYXRlKCkpLCBfZGVmaW5lUHJvcGVydHkoX3VzZVJlZiwgImlzTG9jayIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF91c2VSZWYsICJzdGF0dXMiLCBQcm9tb3Rpb25TdGF0dXNbMF0udmFsdWUpLCBfdXNlUmVmKSk7CiAgdmFyIHNlbGVjdEFsbCA9IGdsb2JhbGl6ZWRjdXN0b21lclR5cGVTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBjdXN0b21lclR5cGUgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGwpOwogIHZhciBzZWxlY3RBbGxQcm9kdWN0ID0gZ2xvYmFsaXplZFByb2R1Y3RTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciBwcm9kdWN0cyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbFByb2R1Y3QpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXRDdXN0b21lclR5cGUoKSk7CiAgICBkaXNwYXRjaChnZXRQcm9kdWN0KCkpOwogIH0sIFtdKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIHByb2R1Y3RMaXN0ID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0UHJvZHVjdExpc3QgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZhbHNlKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBpc0xvY2sgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRJc0xvY2sgPSBfdXNlU3RhdGU0WzFdOwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGN1c3RvbWVyVHlwZS5sZW5ndGggPiAwKSB7CiAgICAgIGluaXRpYWxWYWx1ZXMuY3VycmVudC5jdXN0b21lclR5cGUgPSBjdXN0b21lclR5cGVbMF0uaWQ7CiAgICB9CiAgfSwgW2N1c3RvbWVyVHlwZV0pOwoKICB2YXIgb25BZGRQcm9kdWN0ID0gZnVuY3Rpb24gb25BZGRQcm9kdWN0KCkgewogICAgdmFyIGRhdGEgPSB7CiAgICAgIHByb2R1Y3Q6IHsKICAgICAgICBpZDogJycKICAgICAgfSwKICAgICAgYnV5OiAwLAogICAgICBnaWZ0OiAwCiAgICB9OwogICAgc2V0UHJvZHVjdExpc3QoW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCksIFtkYXRhXSkpOwogIH07CgogIHZhciBvblNlbGVjdGVkUHJvZHVjdCA9IGZ1bmN0aW9uIG9uU2VsZWN0ZWRQcm9kdWN0KGl0ZW0sIGluZGV4KSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCk7CgogICAgdmFyIGZvdW5kZWRJbmRleCA9IGNvcHlBcnIuZmluZEluZGV4KGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgIHJldHVybiBwcm9kdWN0LnByb2R1Y3QuaWQgPT09IGl0ZW0udmFsdWU7CiAgICB9KTsKCiAgICBpZiAoZm91bmRlZEluZGV4ID49IDApIHsKICAgICAgY29weUFyci5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSBlbHNlIHsKICAgICAgY29weUFycltpbmRleF0ucHJvZHVjdCA9IHsKICAgICAgICBpZDogaXRlbS52YWx1ZQogICAgICB9OwogICAgfQoKICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24gPSBmdW5jdGlvbiBvbkNoYW5nZVByb2R1Y3RQcm9tb3Rpb24odmFsdWUsIGluZGV4LCB0eXBlKSB7CiAgICB2YXIgY29weUFyciA9IF90b0NvbnN1bWFibGVBcnJheShwcm9kdWN0TGlzdCk7CgogICAgY29weUFycltpbmRleF1bdHlwZV0gPSB2YWx1ZTsKICAgIHNldFByb2R1Y3RMaXN0KGNvcHlBcnIpOwogIH07CgogIHZhciBvblN1Ym1pdCA9IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcywgX3JlZikgewogICAgdmFyIF92YWx1ZXMkY3VycmVudDsKCiAgICB2YXIgc2V0U3VibWl0dGluZyA9IF9yZWYuc2V0U3VibWl0dGluZywKICAgICAgICBzZXRFcnJvcnMgPSBfcmVmLnNldEVycm9ycywKICAgICAgICBzZXRTdGF0dXMgPSBfcmVmLnNldFN0YXR1cywKICAgICAgICByZXNldEZvcm0gPSBfcmVmLnJlc2V0Rm9ybTsKICAgIGRpc3BhdGNoKGZldGNoaW5nKCkpOwogICAgdmFsdWVzLmN1c3RvbWVyVHlwZSA9IChfdmFsdWVzJGN1cnJlbnQgPSB2YWx1ZXMuY3VycmVudCkgPT09IG51bGwgfHwgX3ZhbHVlcyRjdXJyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJGN1cnJlbnQuY3VzdG9tZXJUeXBlOwogICAgdmFsdWVzLnByb21vdGlvblByb2R1Y3QgPSBwcm9kdWN0TGlzdDsKICAgIHZhbHVlcy50eXBlID0gJ1NIT1JUVEVSTSc7CiAgICBkaXNwYXRjaChjcmVhdGluZ1Byb21vdGlvbih2YWx1ZXMpKTsKICAgIHJlc2V0Rm9ybSgpOwogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2VzcykgewogICAgICBoaXN0b3J5LmdvQmFjaygpOwogICAgfQogIH0sIFtpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzXSk7CgogIHZhciBvblJlbW92ZVByb2R1Y3QgPSBmdW5jdGlvbiBvblJlbW92ZVByb2R1Y3QoaW5kZXgpIHsKICAgIHZhciBjb3B5QXJyID0gX3RvQ29uc3VtYWJsZUFycmF5KHByb2R1Y3RMaXN0KTsKCiAgICBjb3B5QXJyLnNwbGljZShpbmRleCwgMSk7CiAgICBzZXRQcm9kdWN0TGlzdChjb3B5QXJyKTsKICB9OwoKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCB7CiAgICBjbGFzczogImNhcmQtaGVhZGVyIgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkVGl0bGUsIG51bGwsICJUaFx4RUFtIG1cdTFFREJpIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmggYlx4RTFuIGhceEUwbmciKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWlrLCB7CiAgICBpbml0aWFsVmFsdWVzOiBpbml0aWFsVmFsdWVzLmN1cnJlbnQsCiAgICB2YWxpZGF0ZTogdmFsaWRhdGUodmFsaWRhdGlvblNjaGVtYSksCiAgICBvblN1Ym1pdDogb25TdWJtaXQKICB9LCBmdW5jdGlvbiAoX3JlZjIpIHsKICAgIHZhciBfZXJyb3JzJG5hbWU7CgogICAgdmFyIHZhbHVlcyA9IF9yZWYyLnZhbHVlcywKICAgICAgICBlcnJvcnMgPSBfcmVmMi5lcnJvcnMsCiAgICAgICAgdG91Y2hlZCA9IF9yZWYyLnRvdWNoZWQsCiAgICAgICAgc3RhdHVzID0gX3JlZjIuc3RhdHVzLAogICAgICAgIGRpcnR5ID0gX3JlZjIuZGlydHksCiAgICAgICAgaGFuZGxlQ2hhbmdlID0gX3JlZjIuaGFuZGxlQ2hhbmdlLAogICAgICAgIGhhbmRsZUJsdXIgPSBfcmVmMi5oYW5kbGVCbHVyLAogICAgICAgIGhhbmRsZVN1Ym1pdCA9IF9yZWYyLmhhbmRsZVN1Ym1pdCwKICAgICAgICBzZXRGaWVsZFZhbHVlID0gX3JlZjIuc2V0RmllbGRWYWx1ZSwKICAgICAgICBpc1N1Ym1pdHRpbmcgPSBfcmVmMi5pc1N1Ym1pdHRpbmcsCiAgICAgICAgaXNWYWxpZCA9IF9yZWYyLmlzVmFsaWQsCiAgICAgICAgaGFuZGxlUmVzZXQgPSBfcmVmMi5oYW5kbGVSZXNldCwKICAgICAgICBzZXRUb3VjaGVkID0gX3JlZjIuc2V0VG91Y2hlZDsKICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybSwgewogICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0LAogICAgICBub1ZhbGlkYXRlOiB0cnVlLAogICAgICBuYW1lOiAic2ltcGxlRm9ybSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJsYXN0TmFtZSIKICAgIH0sICJUXHhFQW4gY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCBiXHhFMW4gaFx4RTBuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAibmFtZSIsCiAgICAgIGlkOiAibmFtZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiVFx4RUFuIGNoXHUwMUIwXHUwMUExbmcgdHJceEVDbmggYlx4RTFuIGhceEUwbmciLAogICAgICBhdXRvQ29tcGxldGU6ICJuYW1lIiwKICAgICAgdmFsaWQ6IChlcnJvcnMgPT09IG51bGwgfHwgZXJyb3JzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9ycyRuYW1lID0gZXJyb3JzLm5hbWUpID09PSBudWxsIHx8IF9lcnJvcnMkbmFtZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9ycyRuYW1lLmxlbmd0aCkgPiA1IHx8IG51bGwsCiAgICAgIGludmFsaWQ6IGVycm9ycy5uYW1lLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLm5hbWUKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCBudWxsLCBlcnJvcnMubmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogInVzZXJOYW1lIgogICAgfSwgIk1ceEY0IHRcdTFFQTMiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1RleHRhcmVhLCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogImRlc2NyaXB0aW9uIiwKICAgICAgaWQ6ICJkZXNjcmlwdGlvbiIsCiAgICAgIHBsYWNlaG9sZGVyOiAiTVx4RjQgdFx1MUVBMyIsCiAgICAgIGF1dG9Db21wbGV0ZTogImRlc2NyaXB0aW9uIiwKICAgICAgdmFsaWQ6IGVycm9ycy5kZXNjcmlwdGlvbiB8fCBudWxsLAogICAgICBpbnZhbGlkOiB0b3VjaGVkLmRlc2NyaXB0aW9uICYmICEhZXJyb3JzLmRlc2NyaXB0aW9uLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuZGVzY3JpcHRpb24KICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCBudWxsLCBlcnJvcnMuZGVzY3JpcHRpb24pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJjdXN0b21lclR5cGUiCiAgICB9LCAiXHUwMTEwXHUxRUQxaSB0XHUwMUIwXHUxRUUzbmcga2hceEUxY2ggaFx4RTBuZyBceEUxcCBkXHUxRUU1bmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NlbGVjdCwgewogICAgICBjdXN0b206IHRydWUsCiAgICAgIG5hbWU6ICJjdXN0b21lclR5cGUiLAogICAgICBpZDogImN1c3RvbWVyVHlwZSIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuY3VzdG9tZXJUeXBlLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ2N1c3RvbWVyVHlwZScsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgfQogICAgfSwgY3VzdG9tZXJUeXBlICYmIGN1c3RvbWVyVHlwZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgICAga2V5OiBpdGVtLmlkLAogICAgICAgIHZhbHVlOiBpdGVtLmlkCiAgICAgIH0sIGl0ZW0ubmFtZSk7CiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIG51bGwsIGVycm9ycy5jdXN0b21lclR5cGUpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUaFx1MUVERGkgZ2lhbiBiXHUxRUFGdCBcdTAxMTFcdTFFQTd1IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAiZGF0ZSIsCiAgICAgIGlkOiAic3RhcnRUaW1lIiwKICAgICAgbmFtZTogInN0YXJ0VGltZSIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHBsYWNlaG9sZGVyOiAiVGhcdTFFRERpIGdpYW4gYlx1MUVBRnQgXHUwMTExXHUxRUE3dSIKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuc3RhcnRUaW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAicGFzc3dvcmQiCiAgICB9LCAiVGhcdTFFRERpIGdpYW4ga1x1MUVCRnQgdGhceEZBYyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogImRhdGUiLAogICAgICBpZDogImVuZFRpbWUiLAogICAgICBuYW1lOiAiZW5kVGltZSIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHBsYWNlaG9sZGVyOiAiVGhcdTFFRERpIGdpYW4ga1x1MUVCRnQgdGhceEZBYyIKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuZW5kVGltZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICAgIHZhcmlhbnQ6ICJjdXN0b20tY2hlY2tib3giLAogICAgICBjbGFzc05hbWU6ICJwYi0zIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0Q2hlY2tib3gsIHsKICAgICAgY3VzdG9tOiB0cnVlLAogICAgICBpZDogImlzTG9jayIsCiAgICAgIG5hbWU6ICJpc0xvY2siLAogICAgICB2YWxpZDogIWVycm9ycy5pc0xvY2ssCiAgICAgIGludmFsaWQ6IHRvdWNoZWQuaXNMb2NrICYmICEhZXJyb3JzLmlzTG9jaywKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIHZhcmlhbnQ6ICJjdXN0b20tY2hlY2tib3giLAogICAgICBodG1sRm9yOiAiaXNMb2NrIgogICAgfSwgIktoXHhGM2EgY2hcdTAxQjBcdTAxQTFuZyB0clx4RUNuaCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUclx1MUVBMW5nIHRoXHhFMWkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1NlbGVjdCwgewogICAgICBjdXN0b206IHRydWUsCiAgICAgIG5hbWU6ICJzdGF0dXMiLAogICAgICBpZDogInN0YXR1cyIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuc3RhdHVzLAogICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgIHNldEZpZWxkVmFsdWUoJ3N0YXR1cycsIGUudGFyZ2V0LnZhbHVlKTsKICAgICAgfQogICAgfSwgUHJvbW90aW9uU3RhdHVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIsIHsKICAgICAgICBrZXk6IGl0ZW0udmFsdWUsCiAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUKICAgICAgfSwgaXRlbS50aXRsZSk7CiAgICB9KSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgc2l6ZTogInNtIiwKICAgICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICAgIG9uQ2xpY2s6IG9uQWRkUHJvZHVjdAogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogJ2NpbEFycm93Q2lyY2xlUmlnaHQnLAogICAgICBjbGFzc05hbWU6ICJtci0yIgogICAgfSksICJUaFx4RUFtIHNcdTFFQTNuIHBoXHUxRUE5bSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgIGxnOiAiMTIiCiAgICB9LCBwcm9kdWN0TGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIHZhciBfcHJvZHVjdExpc3QkaW5kZXg7CgogICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICAgIGtleTogaW5kZXgsCiAgICAgICAgY2xhc3NOYW1lOiAibXQtMyIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgewogICAgICAgIGNsYXNzTmFtZTogImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICBsZzogIjQiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgICAgfSwgIlNcdTFFQTNuIHBoXHUxRUE5bSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgICBkZWZhdWx0VmFsdWU6IChfcHJvZHVjdExpc3QkaW5kZXggPSBwcm9kdWN0TGlzdFtpbmRleF0pID09PSBudWxsIHx8IF9wcm9kdWN0TGlzdCRpbmRleCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Byb2R1Y3RMaXN0JGluZGV4LmlkLAogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShldmVudCkgewogICAgICAgICAgcmV0dXJuIG9uU2VsZWN0ZWRQcm9kdWN0KGV2ZW50LCBpbmRleCk7CiAgICAgICAgfSwKICAgICAgICBvcHRpb25zOiBwcm9kdWN0cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgICBsYWJlbDogIiIuY29uY2F0KGl0ZW0uY29kZSwgIi0iKS5jb25jYXQoaXRlbS5uYW1lKQogICAgICAgICAgfTsKICAgICAgICB9KQogICAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICBsZzogIjQiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgICAgfSwgIk11YSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBuYW1lOiAiYnV5IiwKICAgICAgICBpZDogImJ1eSIsCiAgICAgICAgcGxhY2Vob2xkZXI6ICJEdW5nIHRceEVEY2giLAogICAgICAgIGF1dG9Db21wbGV0ZTogImJ1eSIsCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25DaGFuZ2VQcm9kdWN0UHJvbW90aW9uKGV2ZW50LnRhcmdldC52YWx1ZSwgaW5kZXgsICdidXknKTsKICAgICAgICB9LAogICAgICAgIGludmFsaWQ6ICFwcm9kdWN0TGlzdFtpbmRleF0uYnV5LAogICAgICAgIHZhbGlkOiBwcm9kdWN0TGlzdFtpbmRleF0uYnV5LAogICAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgICB2YWx1ZTogcHJvZHVjdExpc3RbaW5kZXhdLmJ1eQogICAgICB9KSwgIXByb2R1Y3RMaXN0W2luZGV4XS5idXkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgewogICAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICAgIH0sICJHaVx4RTEgdHJcdTFFQ0IgcGhcdTFFQTNpIGxcdTFFREJuIGhcdTAxQTFuIDAiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICBsZzogIjMiCiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgICAgfSwgIlRcdTFFQjduZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgICB0eXBlOiAibnVtYmVyIiwKICAgICAgICBuYW1lOiAiZ2lmdCIsCiAgICAgICAgaWQ6ICJnaWZ0IiwKICAgICAgICBwbGFjZWhvbGRlcjogIkR1bmcgdFx4RURjaCIsCiAgICAgICAgYXV0b0NvbXBsZXRlOiAiZ2lmdCIsCiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gb25DaGFuZ2VQcm9kdWN0UHJvbW90aW9uKGV2ZW50LnRhcmdldC52YWx1ZSwgaW5kZXgsICdnaWZ0Jyk7CiAgICAgICAgfSwKICAgICAgICBpbnZhbGlkOiAhcHJvZHVjdExpc3RbaW5kZXhdLmdpZnQsCiAgICAgICAgdmFsaWQ6IHByb2R1Y3RMaXN0W2luZGV4XS5naWZ0LAogICAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgICB2YWx1ZTogcHJvZHVjdExpc3RbaW5kZXhdLmdpZnQKICAgICAgfSksICFwcm9kdWN0TGlzdFtpbmRleF0uZ2lmdCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgICAgfSwgIkdpXHhFMSB0clx1MUVDQiBwaFx1MUVBM2kgbFx1MUVEQm4gaFx1MDFBMW4gMCIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgIGxnOiAiMSIKICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgIGNvbG9yOiAiZGFuZ2VyIiwKICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgIHJldHVybiBvblJlbW92ZVByb2R1Y3QoaW5kZXgpOwogICAgICAgIH0KICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICBuYW1lOiAiY2lsWENpcmNsZSIKICAgICAgfSkpKSkpOwogICAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgICBjbGFzc05hbWU6ICJkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInN1Ym1pdCIsCiAgICAgIHNpemU6ICJsZyIsCiAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgIGRpc2FibGVkOiBpbml0aWFsU3RhdGUubG9hZGluZwogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgbmFtZTogImNpbC1zYXZlIgogICAgfSksICIgIiwgaW5pdGlhbFN0YXRlLmxvYWRpbmcgPyAnxJBhbmcgeOG7rSBsw70nIDogJ1ThuqFvIG3hu5tpJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgdHlwZTogInJlc2V0IiwKICAgICAgc2l6ZTogImxnIiwKICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICBvbkNsaWNrOiBoYW5kbGVSZXNldCwKICAgICAgY2xhc3NOYW1lOiAibWwtNSIKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWwtYmFuIgogICAgfSksICIgWFx4RjNhIG5oXHUxRUFEcCBsaVx1MUVDN3UiKSkpOwogIH0pKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBDcmVhdGVQcm9tb3Rpb247"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/sales/Promotion/CreatePromotion.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CInvalidFeedback","CFormGroup","CLabel","CInput","CRow","CSelect","CCardTitle","CTextarea","CInputCheckbox","CIcon","Formik","Yup","useDispatch","useSelector","creatingPromotion","Toaster","current","useHistory","fetching","globalizedPromotionSelectors","PromotionStatus","UnitType","currencyFormat","getCustomerType","globalizedcustomerTypeSelectors","Select","getProduct","globalizedProductSelectors","validationSchema","values","object","shape","name","string","min","required","startTime","endTime","validate","getValidationSchema","validateSync","abortEarly","error","getErrorsFromValidationError","validationError","FIRST_ERROR","inner","reduce","errors","path","findFirstError","formName","hasError","form","document","forms","i","length","focus","validateForm","fieldName","Boolean","CreatePromotion","state","promotion","initialState","dispatch","history","promotionGroup","initialValues","description","Date","value","selectAll","customerType","selectAllProduct","products","productList","setProductList","isLock","setIsLock","id","onAddProduct","data","product","buy","gift","onSelectedProduct","item","index","copyArr","foundedIndex","findIndex","splice","onChangeProductPromotion","type","onSubmit","setSubmitting","setErrors","setStatus","resetForm","promotionProduct","updatingSuccess","goBack","onRemoveProduct","touched","status","dirty","handleChange","handleBlur","handleSubmit","setFieldValue","isSubmitting","isValid","handleReset","setTouched","e","target","map","title","event","label","code","loading"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CInvalidFeedback,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CRow,\n  CSelect,\n  CCardTitle,\n  CTextarea,\n  CInputCheckbox\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { creatingPromotion } from './promotion.api';\n\nimport Toaster from '../../../components/notifications/toaster/Toaster';\nimport { current } from '@reduxjs/toolkit';\nimport { useHistory } from 'react-router-dom';\nimport { fetching, globalizedPromotionSelectors } from './promotion.reducer';\nimport { PromotionStatus, UnitType } from './contants';\nimport { currencyFormat } from '../../../../shared/utils/normalize';\nimport { getCustomerType } from '../../customer/CustomerType/customer-type.api';\nimport { globalizedcustomerTypeSelectors } from '../../customer/CustomerType/customer-type.reducer';\nimport Select from 'react-select';\nimport { getProduct } from '../../product/ProductList/product.api';\nimport { globalizedProductSelectors } from '../../product/ProductList/product.reducer';\n\nconst validationSchema = function(values) {\n  return Yup.object().shape({\n    name: Yup.string()\n      .min(5, `Tên phải lớn hơn 5 kí tự`)\n      .required('Tên không để trống'),\n    startTime: Yup.string().required('Ngày bắt đầu không để trống'),\n    endTime: Yup.string().required('Ngày kết thúc không để trống')\n  });\n};\n\nconst validate = getValidationSchema => {\n  return values => {\n    const validationSchema = getValidationSchema(values);\n    try {\n      validationSchema.validateSync(values, { abortEarly: false });\n      return {};\n    } catch (error) {\n      return getErrorsFromValidationError(error);\n    }\n  };\n};\n\nconst getErrorsFromValidationError = validationError => {\n  const FIRST_ERROR = 0;\n  return validationError.inner.reduce((errors, error) => {\n    return {\n      ...errors,\n      [error.path]: error.errors[FIRST_ERROR]\n    };\n  }, {});\n};\n\nconst findFirstError = (formName, hasError) => {\n  const form = document.forms[formName];\n  for (let i = 0; i < form.length; i++) {\n    if (hasError(form[i].name)) {\n      form[i].focus();\n      break;\n    }\n  }\n};\n\nconst validateForm = errors => {\n  findFirstError('simpleForm', fieldName => {\n    return Boolean(errors[fieldName]);\n  });\n};\n\nconst CreatePromotion = () => {\n  const { initialState } = useSelector(state => state.promotion);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const promotionGroup = [];\n  const initialValues = useRef({\n    name: '',\n    description: '',\n    startTime: new Date(),\n    startTime: new Date(),\n    isLock: false,\n    status: PromotionStatus[0].value\n  });\n  const { selectAll } = globalizedcustomerTypeSelectors;\n  const customerType = useSelector(selectAll);\n  const { selectAll: selectAllProduct } = globalizedProductSelectors;\n  const products = useSelector(selectAllProduct);\n  useEffect(() => {\n    dispatch(getCustomerType());\n    dispatch(getProduct());\n  }, []);\n\n  const [productList, setProductList] = useState([]);\n  const [isLock, setIsLock] = useState(false);\n\n  useEffect(() => {\n    if (customerType.length > 0) {\n      initialValues.current.customerType = customerType[0].id;\n    }\n  }, [customerType]);\n\n  const onAddProduct = () => {\n    const data = { product: { id: '' }, buy: 0, gift: 0 };\n    setProductList([...productList, data]);\n  };\n\n  const onSelectedProduct = (item, index) => {\n    const copyArr = [...productList];\n    const foundedIndex = copyArr.findIndex(product => product.product.id === item.value);\n    if (foundedIndex >= 0) {\n      copyArr.splice(index, 1);\n    } else {\n      copyArr[index].product = { id: item.value };\n    }\n    setProductList(copyArr);\n  };\n\n  const onChangeProductPromotion = (value, index, type) => {\n    const copyArr = [...productList];\n    copyArr[index][type] = value;\n    setProductList(copyArr);\n  };\n\n  const onSubmit = (values, { setSubmitting, setErrors, setStatus, resetForm }) => {\n    dispatch(fetching());\n    values.customerType = values.current?.customerType;\n    values.promotionProduct = productList;\n    values.type = 'SHORTTERM';\n    dispatch(creatingPromotion(values));\n    resetForm();\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  const onRemoveProduct = index => {\n    const copyArr = [...productList];\n    copyArr.splice(index, 1);\n    setProductList(copyArr);\n  };\n\n  return (\n    <CCard>\n      <CCardHeader class=\"card-header\">\n        <CCardTitle>Thêm mới chương trình bán hàng</CCardTitle>\n      </CCardHeader>\n      <CCardBody>\n        <Formik initialValues={initialValues.current} validate={validate(validationSchema)} onSubmit={onSubmit}>\n          {({\n            values,\n            errors,\n            touched,\n            status,\n            dirty,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            setFieldValue,\n            isSubmitting,\n            isValid,\n            handleReset,\n            setTouched\n          }) => (\n            <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n              <CRow>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"lastName\">Tên chương trình bán hàng</CLabel>\n                    <CInput\n                      type=\"text\"\n                      name=\"name\"\n                      id=\"name\"\n                      placeholder=\"Tên chương trình bán hàng\"\n                      autoComplete=\"name\"\n                      valid={errors?.name?.length > 5 || null}\n                      invalid={errors.name}\n                      required\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.name}\n                    />\n                    <CInvalidFeedback>{errors.name}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"userName\">Mô tả</CLabel>\n                    <CTextarea\n                      type=\"text\"\n                      name=\"description\"\n                      id=\"description\"\n                      placeholder=\"Mô tả\"\n                      autoComplete=\"description\"\n                      valid={errors.description || null}\n                      invalid={touched.description && !!errors.description}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.description}\n                    />\n                    <CInvalidFeedback>{errors.description}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"customerType\">Đối tượng khách hàng áp dụng</CLabel>\n                    <CSelect\n                      custom\n                      name=\"customerType\"\n                      id=\"customerType\"\n                      value={values.customerType}\n                      onChange={e => {\n                        setFieldValue('customerType', e.target.value);\n                      }}\n                    >\n                      {customerType &&\n                        customerType.map(item => (\n                          <option key={item.id} value={item.id}>\n                            {item.name}\n                          </option>\n                        ))}\n                    </CSelect>\n                    <CInvalidFeedback>{errors.customerType}</CInvalidFeedback>\n                  </CFormGroup>\n                </CCol>\n                <CCol lg=\"6\">\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Thời gian bắt đầu</CLabel>\n                    <CInput type=\"date\" id=\"startTime\" name=\"startTime\" onChange={handleChange} placeholder=\"Thời gian bắt đầu\" />\n                    <CInvalidFeedback className=\"d-block\">{errors.startTime}</CInvalidFeedback>\n                  </CFormGroup>\n\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Thời gian kết thúc</CLabel>\n                    <CInput type=\"date\" id=\"endTime\" name=\"endTime\" onChange={handleChange} placeholder=\"Thời gian kết thúc\" />\n                    <CInvalidFeedback className=\"d-block\">{errors.endTime}</CInvalidFeedback>\n                  </CFormGroup>\n                  <CFormGroup variant=\"custom-checkbox\" className=\"pb-3\">\n                    <CInputCheckbox\n                      custom\n                      id=\"isLock\"\n                      name=\"isLock\"\n                      valid={!errors.isLock}\n                      invalid={touched.isLock && !!errors.isLock}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                    />\n                    <CLabel variant=\"custom-checkbox\" htmlFor=\"isLock\">\n                      Khóa chương trình\n                    </CLabel>\n                  </CFormGroup>\n                  <CFormGroup>\n                    <CLabel htmlFor=\"password\">Trạng thái</CLabel>\n                    <CSelect\n                      custom\n                      name=\"status\"\n                      id=\"status\"\n                      value={values.status}\n                      onChange={e => {\n                        setFieldValue('status', e.target.value);\n                      }}\n                    >\n                      {PromotionStatus.map(item => (\n                        <option key={item.value} value={item.value}>\n                          {item.title}\n                        </option>\n                      ))}\n                    </CSelect>\n                  </CFormGroup>\n                </CCol>\n                <CButton color=\"primary\" variant=\"outline\" shape=\"square\" size=\"sm\" className=\"ml-3\" onClick={onAddProduct}>\n                  <CIcon name={'cilArrowCircleRight'} className=\"mr-2\" />\n                  Thêm sản phẩm\n                </CButton>\n                <CCol lg=\"12\">\n                  {productList.map((item, index) => (\n                    <CFormGroup key={index} className=\"mt-3\">\n                      <CRow className=\"d-flex align-items-center\">\n                        <CCol lg=\"4\">\n                          <CLabel htmlFor=\"password\">Sản phẩm</CLabel>\n                          <Select\n                            defaultValue={productList[index]?.id}\n                            onChange={event => onSelectedProduct(event, index)}\n                            options={products.map(item => ({\n                              value: item.id,\n                              label: `${item.code}-${item.name}`\n                            }))}\n                          />\n                        </CCol>\n                        <CCol lg=\"4\">\n                          <CLabel htmlFor=\"password\">Mua</CLabel>\n                          <CInput\n                            type=\"number\"\n                            name=\"buy\"\n                            id=\"buy\"\n                            placeholder=\"Dung tích\"\n                            autoComplete=\"buy\"\n                            onChange={event => onChangeProductPromotion(event.target.value, index, 'buy')}\n                            invalid={!productList[index].buy}\n                            valid={productList[index].buy}\n                            onBlur={handleBlur}\n                            value={productList[index].buy}\n                          />\n                          {!productList[index].buy && <CInvalidFeedback className=\"d-block\">Giá trị phải lớn hơn 0</CInvalidFeedback>}\n                        </CCol>\n                        <CCol lg=\"3\">\n                          <CLabel htmlFor=\"password\">Tặng</CLabel>\n                          <CInput\n                            type=\"number\"\n                            name=\"gift\"\n                            id=\"gift\"\n                            placeholder=\"Dung tích\"\n                            autoComplete=\"gift\"\n                            onChange={event => onChangeProductPromotion(event.target.value, index, 'gift')}\n                            invalid={!productList[index].gift}\n                            valid={productList[index].gift}\n                            onBlur={handleBlur}\n                            value={productList[index].gift}\n                          />\n                          {!productList[index].gift && <CInvalidFeedback className=\"d-block\">Giá trị phải lớn hơn 0</CInvalidFeedback>}\n                        </CCol>\n                        <CCol lg=\"1\">\n                          <CButton color=\"danger\" variant=\"outline\" shape=\"square\" size=\"sm\" onClick={() => onRemoveProduct(index)}>\n                            <CIcon name=\"cilXCircle\" />\n                          </CButton>\n                        </CCol>\n                      </CRow>\n                    </CFormGroup>\n                  ))}\n                </CCol>\n              </CRow>\n              <CFormGroup className=\"d-flex justify-content-center\">\n                <CButton type=\"submit\" size=\"lg\" color=\"primary\" disabled={initialState.loading}>\n                  <CIcon name=\"cil-save\" /> {initialState.loading ? 'Đang xử lý' : 'Tạo mới'}\n                </CButton>\n                <CButton type=\"reset\" size=\"lg\" color=\"danger\" onClick={handleReset} className=\"ml-5\">\n                  <CIcon name=\"cil-ban\" /> Xóa nhập liệu\n                </CButton>\n              </CFormGroup>\n            </CForm>\n          )}\n        </Formik>\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default CreatePromotion;\n"]}]}