{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/login/authenticate.reducer.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/login/authenticate.reducer.js","mtime":1624288588412},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9leHRyYVJlZHVjZXJzOwoKZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH0KCmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfQoKZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfQoKZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykgeyB0cnkgeyB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7IHZhciB2YWx1ZSA9IGluZm8udmFsdWU7IH0gY2F0Y2ggKGVycm9yKSB7IHJlamVjdChlcnJvcik7IHJldHVybjsgfSBpZiAoaW5mby5kb25lKSB7IHJlc29sdmUodmFsdWUpOyB9IGVsc2UgeyBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7IH0gfQoKZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHNlbGYgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7IGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgIm5leHQiLCB2YWx1ZSk7IH0gZnVuY3Rpb24gX3Rocm93KGVycikgeyBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csICJ0aHJvdyIsIGVycik7IH0gX25leHQodW5kZWZpbmVkKTsgfSk7IH07IH0KCmltcG9ydCB7IGNyZWF0ZUFzeW5jVGh1bmssIGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yLCBjcmVhdGVTbGljZSwgY3VycmVudCB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAncmVhY3QtamhpcHN0ZXInOwp2YXIgQVVUSF9UT0tFTl9LRVkgPSAnYXV0aGVudGljYXRpb25Ub2tlbic7CnZhciBpbml0aWFsU3RhdGUgPSB7CiAgbG9hZGluZzogZmFsc2UsCiAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwKICBsb2dpblN1Y2Nlc3M6IGZhbHNlLAogIGxvZ2luRXJyb3I6IGZhbHNlLAogIC8vIEVycm9ycyByZXR1cm5lZCBmcm9tIHNlcnZlciBzaWRlCiAgYWNjb3VudDoge30sCiAgZXJyb3JNZXNzYWdlOiBudWxsLAogIC8vIEVycm9ycyByZXR1cm5lZCBmcm9tIHNlcnZlciBzaWRlCiAgcmVkaXJlY3RNZXNzYWdlOiBudWxsLAogIHNlc3Npb25IYXNCZWVuRmV0Y2hlZDogZmFsc2UsCiAgaWRUb2tlbjogbnVsbCwKICBsb2dvdXRVcmw6IG51bGwKfTsKZXhwb3J0IHZhciBsb2dpbiA9IGNyZWF0ZUFzeW5jVGh1bmsoJ2FwaS9hdXRoZW50aWNhdGUnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmLCB0aHVua0FQSSkgewogICAgdmFyIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVtZW1iZXJNZSwgcmVzdWx0LCBiZWFyZXJUb2tlbiwgand0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB1c2VybmFtZSA9IF9yZWYudXNlcm5hbWUsIHBhc3N3b3JkID0gX3JlZi5wYXNzd29yZCwgcmVtZW1iZXJNZSA9IF9yZWYucmVtZW1iZXJNZTsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnYXBpL2F1dGhlbnRpY2F0ZScsIHsKICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICAgICAgICAgIHJlbWVtYmVyTWU6IHJlbWVtYmVyTWUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBiZWFyZXJUb2tlbiA9IHJlc3VsdC5kYXRhLmlkX3Rva2VuOwoKICAgICAgICAgICAgaWYgKGJlYXJlclRva2VuKSB7CiAgICAgICAgICAgICAgand0ID0gYmVhcmVyVG9rZW47CgogICAgICAgICAgICAgIGlmIChyZW1lbWJlck1lKSB7CiAgICAgICAgICAgICAgICBTdG9yYWdlLmxvY2FsLnNldChBVVRIX1RPS0VOX0tFWSwgand0KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU3RvcmFnZS5zZXNzaW9uLnNldChBVVRIX1RPS0VOX0tFWSwgand0KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICByZXR1cm4gdGh1bmtBUEkuZGlzcGF0Y2goZ2V0U2Vzc2lvbigpKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0aHVua0FQSS5yZWplY3RXaXRoVmFsdWUoX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YSkpOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMV1dKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MikgewogICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKZXhwb3J0IHZhciBnZXRTZXNzaW9uID0gY3JlYXRlQXN5bmNUaHVuaygnYXBpL2FjY291bnQnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoYXJncywgdGh1bmtBUEkpIHsKICAgIHZhciBhY2NvdW50UmVzcG9uc2U7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKFN0b3JhZ2Uuc2Vzc2lvbi5nZXQoQVVUSF9UT0tFTl9LRVkpKTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCdhcGkvYWNjb3VudCcsIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KFN0b3JhZ2Uuc2Vzc2lvbi5nZXQoQVVUSF9UT0tFTl9LRVkpKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBhY2NvdW50UmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGFjY291bnRSZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgdGh1bmtBUEkucmVqZWN0V2l0aFZhbHVlKF9jb250ZXh0Mi50MC5yZXNwb25zZS5kYXRhKSk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOF1dKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gzLCBfeDQpIHsKICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CnZhciBzbGljZSA9IGNyZWF0ZVNsaWNlKHsKICBuYW1lOiAnYXV0aGVudGljYXRlJywKICBpbml0aWFsU3RhdGU6IGluaXRpYWxTdGF0ZSwKICByZWR1Y2VyczogewogICAgcmVxdWVzdDogZnVuY3Rpb24gcmVxdWVzdChzdGF0ZSkgewogICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgc3RhdGUuZXJyb3JNZXNzYWdlID0gbnVsbDsKICAgIH0sCiAgICBhZGRQZXJtaXNzaW9uOiBmdW5jdGlvbiBhZGRQZXJtaXNzaW9uKHN0YXRlLCBhY3Rpb24pIHsKICAgICAgdmFyIGNvcHllZFJvbGUgPSBfdG9Db25zdW1hYmxlQXJyYXkoY3VycmVudChzdGF0ZS5hY2NvdW50LnJvbGUpKTsKCiAgICAgIGNvcHllZFJvbGUucHVzaChhY3Rpb24ucGF5bG9hZCk7CiAgICAgIHN0YXRlLmFjY291bnQucm9sZSA9IGNvcHllZFJvbGU7CiAgICB9LAogICAgcmVtb3ZlUGVybWlzc2lvbjogZnVuY3Rpb24gcmVtb3ZlUGVybWlzc2lvbihzdGF0ZSkgewogICAgICB2YXIgY29weWVkUm9sZSA9IHN0YXRlLmFjY291bnQucm9sZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIWl0ZW0uaXNTZWxmOwogICAgICB9KTsKICAgICAgc3RhdGUuYWNjb3VudC5yb2xlID0gY29weWVkUm9sZTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5hY2NvdW50ID0ge307CiAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlOwogICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHN0YXRlLnNlc3Npb25IYXNCZWVuRmV0Y2hlZCA9IGZhbHNlOwoKICAgICAgaWYgKFN0b3JhZ2UubG9jYWwuZ2V0KEFVVEhfVE9LRU5fS0VZKSkgewogICAgICAgIFN0b3JhZ2UubG9jYWwucmVtb3ZlKEFVVEhfVE9LRU5fS0VZKTsKICAgICAgfQoKICAgICAgaWYgKFN0b3JhZ2Uuc2Vzc2lvbi5nZXQoQVVUSF9UT0tFTl9LRVkpKSB7CiAgICAgICAgU3RvcmFnZS5zZXNzaW9uLnJlbW92ZShBVVRIX1RPS0VOX0tFWSk7CiAgICAgIH0KICAgIH0KICB9LAogIGV4dHJhUmVkdWNlcnM6IChfZXh0cmFSZWR1Y2VycyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2V4dHJhUmVkdWNlcnMsIGxvZ2luLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBzdGF0ZS5sb2dpblN1Y2Nlc3MgPSB0cnVlOwogICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUubG9naW5FcnJvciA9IGZhbHNlOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX2V4dHJhUmVkdWNlcnMsIGdldFNlc3Npb24uZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikgewogICAgdmFyIGlzQXV0aGVudGljYXRlZCA9IGFjdGlvbi5wYXlsb2FkICYmIGFjdGlvbi5wYXlsb2FkLmFjdGl2YXRlZDsKICAgIHN0YXRlLmFjY291bnQgPSBhY3Rpb24ucGF5bG9hZDsKICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGlzQXV0aGVudGljYXRlZDsKICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnNlc3Npb25IYXNCZWVuRmV0Y2hlZCA9IHRydWU7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfZXh0cmFSZWR1Y2VycywgZ2V0U2Vzc2lvbi5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHsKICAgIHN0YXRlLmFjY291bnQgPSB7fTsKICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlOwogICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUuc2Vzc2lvbkhhc0JlZW5GZXRjaGVkID0gZmFsc2U7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfZXh0cmFSZWR1Y2VycywgbG9naW4ucmVqZWN0ZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7CiAgICBzdGF0ZS5sb2dpbkVycm9yID0gYWN0aW9uLnBheWxvYWQuc3RhdHVzQ29kZTsKICAgIHN0YXRlLmVycm9yTWVzc2FnZSA9IGFjdGlvbi5wYXlsb2FkLm1lc3NhZ2U7CiAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgfSksIF9leHRyYVJlZHVjZXJzKQp9KTsKZXhwb3J0IGRlZmF1bHQgc2xpY2UucmVkdWNlcjsgLy8gQWN0aW9ucwoKdmFyIF9zbGljZSRhY3Rpb25zID0gc2xpY2UuYWN0aW9ucywKICAgIGxvZ291dCA9IF9zbGljZSRhY3Rpb25zLmxvZ291dCwKICAgIHJlcXVlc3QgPSBfc2xpY2UkYWN0aW9ucy5yZXF1ZXN0LAogICAgYWRkUGVybWlzc2lvbiA9IF9zbGljZSRhY3Rpb25zLmFkZFBlcm1pc3Npb24sCiAgICByZW1vdmVQZXJtaXNzaW9uID0gX3NsaWNlJGFjdGlvbnMucmVtb3ZlUGVybWlzc2lvbjsKZXhwb3J0IHsgbG9nb3V0LCByZXF1ZXN0LCBhZGRQZXJtaXNzaW9uLCByZW1vdmVQZXJtaXNzaW9uIH07CmV4cG9ydCB2YXIgdXNlclNhZmVTZWxlY3RvciA9IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogIHJldHVybiBzdGF0ZS5hdXRoZW50aWNhdGlvbjsKfSwgZnVuY3Rpb24gKHVzZXIpIHsKICByZXR1cm4gdXNlcjsKfSk7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/login/authenticate.reducer.js"],"names":["createAsyncThunk","createDraftSafeSelector","createSlice","current","axios","Storage","AUTH_TOKEN_KEY","initialState","loading","isAuthenticated","loginSuccess","loginError","account","errorMessage","redirectMessage","sessionHasBeenFetched","idToken","logoutUrl","login","thunkAPI","username","password","rememberMe","post","result","bearerToken","data","id_token","jwt","local","set","session","dispatch","getSession","rejectWithValue","response","args","console","log","get","headers","Authorization","accountResponse","slice","name","reducers","request","state","addPermission","action","copyedRole","role","push","payload","removePermission","filter","item","isSelf","logout","remove","extraReducers","fulfilled","activated","rejected","statusCode","message","reducer","actions","userSafeSelector","authentication","user"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createDraftSafeSelector, createSlice, current } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { Storage } from 'react-jhipster';\nconst AUTH_TOKEN_KEY = 'authenticationToken';\n\nconst initialState = {\n  loading: false,\n  isAuthenticated: false,\n  loginSuccess: false,\n  loginError: false, // Errors returned from server side\n  account: {},\n  errorMessage: null, // Errors returned from server side\n  redirectMessage: null,\n  sessionHasBeenFetched: false,\n  idToken: null,\n  logoutUrl: null\n};\nexport const login = createAsyncThunk('api/authenticate', async ({ username, password, rememberMe }, thunkAPI) => {\n  try {\n    const result = await axios.post('api/authenticate', {\n      username,\n      password,\n      rememberMe\n    });\n    const bearerToken = result.data.id_token;\n    if (bearerToken) {\n      const jwt = bearerToken;\n      if (rememberMe) {\n        Storage.local.set(AUTH_TOKEN_KEY, jwt);\n      } else {\n        Storage.session.set(AUTH_TOKEN_KEY, jwt);\n      }\n    }\n    await thunkAPI.dispatch(getSession());\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\n\nexport const getSession = createAsyncThunk('api/account', async (args, thunkAPI) => {\n  try {\n    console.log(Storage.session.get(AUTH_TOKEN_KEY))\n    const accountResponse = await axios.get('api/account',{headers: {\n      Authorization: `Bearer ${Storage.session.get(AUTH_TOKEN_KEY)}`\n    }});\n    return accountResponse.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});\nconst slice = createSlice({\n  name: 'authenticate',\n  initialState: initialState,\n  reducers: {\n    request: state => {\n      state.loading = true;\n      state.errorMessage = null;\n    },\n    addPermission: (state, action) => {\n      const copyedRole = [...current(state.account.role)];\n      copyedRole.push(action.payload)\n      state.account.role = copyedRole;\n    },\n    removePermission: (state) => {\n      const copyedRole = state.account.role.filter(item => !item.isSelf);\n      state.account.role = copyedRole;\n    },\n    logout: state => {\n      state.account = {};\n      state.isAuthenticated = false;\n      state.loading = false;\n      state.sessionHasBeenFetched = false;\n      if (Storage.local.get(AUTH_TOKEN_KEY)) {\n        Storage.local.remove(AUTH_TOKEN_KEY);\n      }\n      if (Storage.session.get(AUTH_TOKEN_KEY)) {\n        Storage.session.remove(AUTH_TOKEN_KEY);\n      }\n    }\n  },\n  extraReducers: {\n    // Add reducers for additional action types here, and handle loading state as needed\n    [login.fulfilled]: state => {\n      state.loginSuccess = true;\n      state.loading = false;\n      state.loginError = false;\n    },\n    [getSession.fulfilled]: (state, action) => {\n      const isAuthenticated = action.payload && action.payload.activated;\n      state.account = action.payload;\n      state.isAuthenticated = isAuthenticated;\n      state.loading = false;\n      state.sessionHasBeenFetched = true;\n    },\n    [getSession.rejected]: (state, action) => {\n      state.account = {};\n      state.isAuthenticated = false;\n      state.loading = false;\n      state.sessionHasBeenFetched = false;\n    },\n    [login.rejected]: (state, action) => {\n      state.loginError = action.payload.statusCode;\n      state.errorMessage = action.payload.message;\n      state.loading = false;\n    }\n  }\n});\n\nexport default slice.reducer;\n\n// Actions\n\nexport const { logout, request, addPermission, removePermission } = slice.actions;\n\nexport const userSafeSelector = createDraftSafeSelector(\n  state => state.authentication,\n  user => user\n);\n"]}]}