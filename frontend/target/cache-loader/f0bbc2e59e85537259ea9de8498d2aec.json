{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/Customer.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/Customer.js","mtime":1622398462927},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENDYXJkQm9keSwgQ0JhZGdlLCBDQnV0dG9uLCBDQ29sbGFwc2UsIENEYXRhVGFibGUsIENDYXJkLCBDQ2FyZEhlYWRlciwgQ1JvdywgQ0NvbCwgQ1BhZ2luYXRpb24gfSBmcm9tICdAY29yZXVpL3JlYWN0L2xpYic7IC8vIGltcG9ydCB1c2Vyc0RhdGEgZnJvbSAnLi4vLi4vLi4vdXNlcnMvVXNlcnNEYXRhLmpzJzsKCmltcG9ydCBDSWNvbiBmcm9tICdAY29yZXVpL2ljb25zLXJlYWN0L2xpYi9DSWNvbic7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgZ2V0Q3VzdG9tZXIgfSBmcm9tICcuLi9jdXN0b21lci5hcGkuanMnOwppbXBvcnQgeyBnbG9iYWxpemVkQ3VzdG9tZXJTZWxlY3RvcnMsIHJlc2V0IH0gZnJvbSAnLi4vY3VzdG9tZXIucmVkdWNlci5qcyc7CmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IGNpdGllcyBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvY2l0eSc7CmltcG9ydCBkaXN0cmljdCBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvZGlzdHJpY3QuanNvbic7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IHsgdXNlclNhZmVTZWxlY3RvciB9IGZyb20gJy4uLy4uL2xvZ2luL2F1dGhlbnRpY2F0ZS5yZWR1Y2VyLmpzJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKdmFyIHNlbGVjdEFsbCA9IGdsb2JhbGl6ZWRDdXN0b21lclNlbGVjdG9ycy5zZWxlY3RBbGw7Cgp2YXIgQ3VzdG9tZXIgPSBmdW5jdGlvbiBDdXN0b21lcihwcm9wcykgewogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBfZGV0YWlscyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldERldGFpbHMgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IodXNlclNhZmVTZWxlY3RvciksCiAgICAgIGFjY291bnQgPSBfdXNlU2VsZWN0b3IuYWNjb3VudDsKCiAgdmFyIGlzQWRtaW4gPSBhY2NvdW50LmF1dGhvcml0aWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIGl0ZW0gPT09ICdST0xFX0FETUlOJzsKICB9KS5sZW5ndGggPiAwOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmN1c3RvbWVyOwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IyLmluaXRpYWxTdGF0ZTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgxKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBhY3RpdmVQYWdlID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0QWN0aXZlUGFnZSA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoNTApLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIHNpemUgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRTaXplID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2gocmVzZXQoKSk7CiAgfSwgW10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXRDdXN0b21lcih7CiAgICAgIHBhZ2U6IGFjdGl2ZVBhZ2UgLSAxLAogICAgICBzaXplOiBzaXplLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgIH0pKTsKICB9LCBbYWN0aXZlUGFnZSwgc2l6ZV0pOwogIHZhciBjdXN0b21lcnMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGwpOwoKICB2YXIgY29tcHV0ZWRJdGVtcyA9IGZ1bmN0aW9uIGNvbXB1dGVkSXRlbXMoaXRlbXMpIHsKICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdmFyIF9pdGVtJHR5cGUsIF9pdGVtJGRlcGFydG1lbnQsIF9pdGVtJHNhbGU7CgogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICB0eXBlTmFtZTogKF9pdGVtJHR5cGUgPSBpdGVtLnR5cGUpID09PSBudWxsIHx8IF9pdGVtJHR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHR5cGUubmFtZSwKICAgICAgICBkZXBhcnRtZW50OiAoKF9pdGVtJGRlcGFydG1lbnQgPSBpdGVtLmRlcGFydG1lbnQpID09PSBudWxsIHx8IF9pdGVtJGRlcGFydG1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGRlcGFydG1lbnQubmFtZSkgfHwgJycsCiAgICAgICAgY3JlYXRlZERhdGU6IG1vbWVudChpdGVtLmNyZWF0ZWREYXRlKS5mb3JtYXQoJ0RELU1NLVlZWVknKSwKICAgICAgICBzYWxlOiAoKF9pdGVtJHNhbGUgPSBpdGVtLnNhbGUpID09PSBudWxsIHx8IF9pdGVtJHNhbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHNhbGUuY29kZSkgfHwgJycKICAgICAgfSk7CiAgICB9KTsKICB9OwoKICB2YXIgdG9nZ2xlRGV0YWlscyA9IGZ1bmN0aW9uIHRvZ2dsZURldGFpbHMoaW5kZXgpIHsKICAgIHZhciBwb3NpdGlvbiA9IF9kZXRhaWxzLmluZGV4T2YoaW5kZXgpOwoKICAgIHZhciBuZXdEZXRhaWxzID0gX2RldGFpbHMuc2xpY2UoKTsKCiAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7CiAgICAgIG5ld0RldGFpbHMuc3BsaWNlKHBvc2l0aW9uLCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIG5ld0RldGFpbHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF9kZXRhaWxzKSwgW2luZGV4XSk7CiAgICB9CgogICAgc2V0RGV0YWlscyhuZXdEZXRhaWxzKTsKICB9OyAvLyBDb2RlCVTDqm4gY+G7rWEgaMOgbmcvxJHhuqFpIGzDvQlOZ8aw4budaSBsacOqbiBs4bqhYwlOxINtIFNpbmgJxJBp4buHbiB0aG/huqFpCU5ow6JuIHZpw6puIHF14bqjbiBsw70JTG/huqFpIGtow6FjaCBow6BuZwlQaMOibiBsb+G6oWkJU+G7rWEJVOG6oW8gxJHGoW4KCgogIHZhciBmaWVsZHMgPSBbewogICAga2V5OiAnb3JkZXInLAogICAgbGFiZWw6ICdTVFQnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMSUnCiAgICB9LAogICAgZmlsdGVyOiBmYWxzZQogIH0sIHsKICAgIGtleTogJ2NvZGUnLAogICAgbGFiZWw6ICdNw6MnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ25hbWUnLAogICAgbGFiZWw6ICdUw6puIGPhu61hIGjDoG5nL8SR4bqhaSBsw70nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfQogIH0sIHsKICAgIGtleTogJ2FkZHJlc3MnLAogICAgbGFiZWw6ICfEkOG7i2EgY2jhu4knLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3RlbCcsCiAgICBsYWJlbDogJ8SQaeG7h24gdGhv4bqhaScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnc2FsZScsCiAgICBsYWJlbDogJ05ow6JuIHZpw6puIHF14bqjbiBsw70nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTUlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3R5cGVOYW1lJywKICAgIGxhYmVsOiAnTG/huqFpIGtow6FjaCBow6BuZycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnZGVwYXJ0bWVudCcsCiAgICBsYWJlbDogJ0NoaSBuaMOhbmgnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMjAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3Nob3dfZGV0YWlscycsCiAgICBsYWJlbDogJycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfV07CgogIHZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHN0YXR1cykgewogICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgY2FzZSAnQWN0aXZlJzoKICAgICAgICByZXR1cm4gJ3N1Y2Nlc3MnOwoKICAgICAgY2FzZSAnSW5hY3RpdmUnOgogICAgICAgIHJldHVybiAnc2Vjb25kYXJ5JzsKCiAgICAgIGNhc2UgJ1BlbmRpbmcnOgogICAgICAgIHJldHVybiAnd2FybmluZyc7CgogICAgICBjYXNlICdCYW5uZWQnOgogICAgICAgIHJldHVybiAnZGFuZ2VyJzsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuICdwcmltYXJ5JzsKICAgIH0KICB9OwoKICB2YXIgY3N2Q29udGVudCA9IGNvbXB1dGVkSXRlbXMoY3VzdG9tZXJzKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBPYmplY3QudmFsdWVzKGl0ZW0pLmpvaW4oJywnKTsKICB9KS5qb2luKCdcbicpOwogIHZhciBjc3ZDb2RlID0gJ2RhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCxTRVA9LCUwQScgKyBlbmNvZGVVUklDb21wb25lbnQoY3N2Q29udGVudCk7CgogIHZhciB0b0NyZWF0ZUN1c3RvbWVyID0gZnVuY3Rpb24gdG9DcmVhdGVDdXN0b21lcigpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL25ldyIpKTsKICB9OwoKICB2YXIgdG9FZGl0Q3VzdG9tZXIgPSBmdW5jdGlvbiB0b0VkaXRDdXN0b21lcih1c2VySWQpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgZGVib3VuY2VkU2VhcmNoQ29sdW1uID0gdXNlQ2FsbGJhY2soXy5kZWJvdW5jZShmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMCkgewogICAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmICghdmFsdWVba2V5XSkgZGVsZXRlIHZhbHVlW2tleV07CiAgICAgIH0pKSBkaXNwYXRjaChnZXRDdXN0b21lcihfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIHNpemU6IHNpemUsCiAgICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICAgIH0sIHZhbHVlKSkpOwogICAgfQogIH0sIDEwMDApLCBbXSk7CgogIHZhciBvbkZpbHRlckNvbHVtbiA9IGZ1bmN0aW9uIG9uRmlsdGVyQ29sdW1uKHZhbHVlKSB7CiAgICBkZWJvdW5jZWRTZWFyY2hDb2x1bW4odmFsdWUpOwogIH07CgogIHZhciBtZW1vQ29tcHV0ZWRJdGVtcyA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpdGVtcykgewogICAgcmV0dXJuIGNvbXB1dGVkSXRlbXMoaXRlbXMpOwogIH0sIFtdKTsKICB2YXIgbWVtb0xpc3RlZCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG1lbW9Db21wdXRlZEl0ZW1zKGN1c3RvbWVycyk7CiAgfSwgW2N1c3RvbWVyc10pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLWdyaWQiCiAgfSksICIgRGFuaCBzXHhFMWNoIGtoXHhFMWNoIGhceEUwbmciLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUE9TVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvY3VzdG9tZXJzJzsKICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICBvbkNsaWNrOiB0b0NyZWF0ZUN1c3RvbWVyCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtcGx1cyIKICB9KSwgIiBUaFx4RUFtIG1cdTFFREJpIGtoXHhFMWNoIGhceEUwbmciKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJwcmltYXJ5IiwKICAgIGNsYXNzTmFtZTogIm1iLTIiLAogICAgaHJlZjogY3N2Q29kZSwKICAgIGRvd25sb2FkOiAiY29yZXVpLXRhYmxlLWRhdGEuY3N2IiwKICAgIHRhcmdldDogIl9ibGFuayIKICB9LCAiVFx1MUVBM2kgZXhjZWwgKC5jc3YpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENEYXRhVGFibGUsIHsKICAgIGl0ZW1zOiBtZW1vTGlzdGVkLAogICAgZmllbGRzOiBmaWVsZHMsCiAgICBjb2x1bW5GaWx0ZXI6IHRydWUsCiAgICB0YWJsZUZpbHRlcjogdHJ1ZSwKICAgIGNsZWFuZXI6IHRydWUsCiAgICBpdGVtc1BlclBhZ2VTZWxlY3Q6IHsKICAgICAgbGFiZWw6ICdT4buRIGzGsOG7o25nIHRyw6puIG3hu5l0IHRyYW5nJywKICAgICAgdmFsdWVzOiBbMjAsIDUwLCAxMDAsIDIwMCwgNTAwXQogICAgfSwKICAgIGl0ZW1zUGVyUGFnZTogc2l6ZSwKICAgIGhvdmVyOiB0cnVlLAogICAgc29ydGVyOiB0cnVlIC8vIGxvYWRpbmcKICAgIC8vIG9uUm93Q2xpY2s9eyhpdGVtLGluZGV4LGNvbCxlKSA9PiBjb25zb2xlLmxvZyhpdGVtLGluZGV4LGNvbCxlKX0KICAgICwKICAgIG9uUGFnZUNoYW5nZTogZnVuY3Rpb24gb25QYWdlQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlOicsIHZhbCk7CiAgICB9LAogICAgb25QYWdlc0NoYW5nZTogZnVuY3Rpb24gb25QYWdlc0NoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgcGFnZXM6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2luYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIHNldFNpemUodmFsKTsKICAgIH0gLy8gb25GaWx0ZXJlZEl0ZW1zQ2hhbmdlPXsodmFsKSA9PiBjb25zb2xlLmxvZygnbmV3IGZpbHRlcmVkIGl0ZW1zOicsIHZhbCl9CiAgICAvLyBvblNvcnRlclZhbHVlQ2hhbmdlPXsodmFsKSA9PiBjb25zb2xlLmxvZygnbmV3IHNvcnRlciB2YWx1ZTonLCB2YWwpfQogICAgLAogICAgb25UYWJsZUZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25UYWJsZUZpbHRlckNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgdGFibGUgZmlsdGVyOicsIHZhbCk7CiAgICB9LAogICAgb25Db2x1bW5GaWx0ZXJDaGFuZ2U6IG9uRmlsdGVyQ29sdW1uLAogICAgc2NvcGVkU2xvdHM6IHsKICAgICAgb3JkZXI6IGZ1bmN0aW9uIG9yZGVyKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGluZGV4ICsgMSk7CiAgICAgIH0sCiAgICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0JhZGdlLCB7CiAgICAgICAgICBjb2xvcjogZ2V0QmFkZ2UoaXRlbS5zdGF0dXMpCiAgICAgICAgfSwgaXRlbS5zdGF0dXMpKTsKICAgICAgfSwKICAgICAgc2hvd19kZXRhaWxzOiBmdW5jdGlvbiBzaG93X2RldGFpbHMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJkLWZsZXggcHktMiIKICAgICAgICB9LCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgICAgICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUFVUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS9jdXN0b21lcnMnOwogICAgICAgIH0pLmxlbmd0aCA+IDApICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgY2xhc3NOYW1lOiAibXItMyIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICB0b0VkaXRDdXN0b21lcihpdGVtLmlkKTsKICAgICAgICAgIH0KICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgICAgbmFtZTogImNpbC1wZW5jaWwiCiAgICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHRvZ2dsZURldGFpbHMoaXRlbS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICJjaWwtdXNlciIKICAgICAgICB9KSkpOwogICAgICB9LAogICAgICBkZXRhaWxzOiBmdW5jdGlvbiBkZXRhaWxzKGl0ZW0pIHsKICAgICAgICB2YXIgX2NpdGllcyRmaWx0ZXIkLCBfZGlzdHJpY3QkZmlsdGVyJDsKCiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2xsYXBzZSwgewogICAgICAgICAgc2hvdzogX2RldGFpbHMuaW5jbHVkZXMoaXRlbS5pZCkKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJUaFx4RjRuZyB0aW4gbmdcdTAxQjBcdTFFRERpIGRceEY5bmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgICAgbGc6ICI2IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiTVx4RTM6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0uY29kZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIlRceEVBbiBjXHUxRUVEYSBoXHhFMG5nOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUXHhFQW4gbGlceEVBbiBsXHUxRUExYzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5jb250YWN0TmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIlNcdTFFRDEgXHUwMTExaVx1MUVDN24gdGhvXHUxRUExaToiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS50ZWwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJOZ1x4RTB5IHRoXHhFMW5nIG5cdTAxMDNtIHNpbmgiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5kYXRlT2ZCaXJ0aCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIkVtYWlsOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmVtYWlsKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBsZzogIjYiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUXHUxRUM5bmggdGhceEUwbmg6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sICgoX2NpdGllcyRmaWx0ZXIkID0gY2l0aWVzLmZpbHRlcihmdW5jdGlvbiAoY2l0eSkgewogICAgICAgICAgcmV0dXJuIGNpdHkudmFsdWUgPT09IChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uY2l0eSk7CiAgICAgICAgfSlbMF0pID09PSBudWxsIHx8IF9jaXRpZXMkZmlsdGVyJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NpdGllcyRmaWx0ZXIkLmxhYmVsKSB8fCAnJykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIlF1XHUxRUFEbiBodXlcdTFFQzduOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCAoKF9kaXN0cmljdCRmaWx0ZXIkID0gZGlzdHJpY3QuZmlsdGVyKGZ1bmN0aW9uIChkaXN0KSB7CiAgICAgICAgICByZXR1cm4gZGlzdC52YWx1ZSA9PT0gKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5kaXN0cmljdCk7CiAgICAgICAgfSlbMF0pID09PSBudWxsIHx8IF9kaXN0cmljdCRmaWx0ZXIkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGlzdHJpY3QkZmlsdGVyJC5sYWJlbCkgfHwgJycpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5OiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmFkZHJlc3MpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJMb1x1MUVBMWkga2hceEUxY2ggaFx4RTBuZzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS50eXBlLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJDaGkgbmhceEUxbmg6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0uZGVwYXJ0bWVudCB8fCAnJykpKSkpKTsKICAgICAgfQogICAgfQogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUGFnaW5hdGlvbiwgewogICAgYWN0aXZlUGFnZTogYWN0aXZlUGFnZSwKICAgIHBhZ2VzOiBNYXRoLmZsb29yKGluaXRpYWxTdGF0ZS50b3RhbEl0ZW0gLyBzaXplKSArIDEsCiAgICBvbkFjdGl2ZVBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uQWN0aXZlUGFnZUNoYW5nZShpKSB7CiAgICAgIHJldHVybiBzZXRBY3RpdmVQYWdlKGkpOwogICAgfQogIH0pKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBDdXN0b21lcjs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/Customer.js"],"names":["React","useCallback","useEffect","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CCol","CPagination","CIcon","useDispatch","useSelector","getCustomer","globalizedCustomerSelectors","reset","useHistory","cities","district","moment","userSafeSelector","_","selectAll","Customer","props","details","setDetails","account","isAdmin","authorities","filter","item","length","state","customer","initialState","activePage","setActivePage","size","setSize","dispatch","history","page","sort","customers","computedItems","items","map","typeName","type","name","department","createdDate","format","sale","code","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","getBadge","status","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateCustomer","push","match","url","toEditCustomer","userId","debouncedSearchColumn","debounce","value","keys","forEach","onFilterColumn","memoComputedItems","memoListed","useMemo","role","rol","method","entity","val","console","log","order","show_details","id","includes","contactName","tel","dateOfBirth","email","city","dist","address","Math","floor","totalItem","i"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,SAArC,EAAgDC,UAAhD,EAA4DC,KAA5D,EAAmEC,WAAnE,EAAgFC,IAAhF,EAAsFC,IAAtF,EAA4FC,WAA5F,QAA+G,mBAA/G,C,CACA;;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,SAASC,2BAAT,EAAsCC,KAAtC,QAAmD,wBAAnD;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,QAAP,MAAqB,wCAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,gBAAT,QAAiC,qCAAjC;AACA,OAAOC,CAAP,MAAc,QAAd;IACQC,S,GAAcR,2B,CAAdQ,S;;AAER,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AAAA,kBACMzB,QAAQ,CAAC,EAAD,CADd;AAAA;AAAA,MACjB0B,QADiB;AAAA,MACRC,UADQ;;AAAA,qBAEJd,WAAW,CAACQ,gBAAD,CAFP;AAAA,MAEhBO,OAFgB,gBAEhBA,OAFgB;;AAGxB,MAAMC,OAAO,GAAGD,OAAO,CAACE,WAAR,CAAoBC,MAApB,CAA2B,UAAAC,IAAI;AAAA,WAAIA,IAAI,KAAK,YAAb;AAAA,GAA/B,EAA0DC,MAA1D,GAAmE,CAAnF;;AAHwB,sBAICpB,WAAW,CAAC,UAAAqB,KAAK;AAAA,WAAIA,KAAK,CAACC,QAAV;AAAA,GAAN,CAJZ;AAAA,MAIhBC,YAJgB,iBAIhBA,YAJgB;;AAAA,mBAKYpC,QAAQ,CAAC,CAAD,CALpB;AAAA;AAAA,MAKjBqC,UALiB;AAAA,MAKLC,aALK;;AAAA,mBAMAtC,QAAQ,CAAC,EAAD,CANR;AAAA;AAAA,MAMjBuC,IANiB;AAAA,MAMXC,OANW;;AAOxB,MAAMC,QAAQ,GAAG7B,WAAW,EAA5B;AACA,MAAM8B,OAAO,GAAGzB,UAAU,EAA1B;AACAlB,EAAAA,SAAS,CAAC,YAAM;AACd0C,IAAAA,QAAQ,CAACzB,KAAK,EAAN,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;AAIAjB,EAAAA,SAAS,CAAC,YAAM;AACd0C,IAAAA,QAAQ,CAAC3B,WAAW,CAAC;AAAE6B,MAAAA,IAAI,EAAEN,UAAU,GAAG,CAArB;AAAwBE,MAAAA,IAAI,EAAJA,IAAxB;AAA8BK,MAAAA,IAAI,EAAE;AAApC,KAAD,CAAZ,CAAR;AACD,GAFQ,EAEN,CAACP,UAAD,EAAaE,IAAb,CAFM,CAAT;AAIA,MAAMM,SAAS,GAAGhC,WAAW,CAACU,SAAD,CAA7B;;AACA,MAAMuB,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,KAAK,EAAI;AAC7B,WAAOA,KAAK,CAACC,GAAN,CAAU,UAAAhB,IAAI,EAAI;AAAA;;AACvB,6CACKA,IADL;AAEEiB,QAAAA,QAAQ,gBAAEjB,IAAI,CAACkB,IAAP,+CAAE,WAAWC,IAFvB;AAGEC,QAAAA,UAAU,EAAE,qBAAApB,IAAI,CAACoB,UAAL,sEAAiBD,IAAjB,KAAyB,EAHvC;AAIEE,QAAAA,WAAW,EAAEjC,MAAM,CAACY,IAAI,CAACqB,WAAN,CAAN,CAAyBC,MAAzB,CAAgC,YAAhC,CAJf;AAKEC,QAAAA,IAAI,EAAE,eAAAvB,IAAI,CAACuB,IAAL,0DAAWC,IAAX,KAAmB;AAL3B;AAOD,KARM,CAAP;AASD,GAVD;;AAWA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,KAAK,EAAI;AAC7B,QAAMC,QAAQ,GAAGjC,QAAO,CAACkC,OAAR,CAAgBF,KAAhB,CAAjB;;AACA,QAAIG,UAAU,GAAGnC,QAAO,CAACoC,KAAR,EAAjB;;AACA,QAAIH,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBE,MAAAA,UAAU,CAACE,MAAX,CAAkBJ,QAAlB,EAA4B,CAA5B;AACD,KAFD,MAEO;AACLE,MAAAA,UAAU,gCAAOnC,QAAP,IAAgBgC,KAAhB,EAAV;AACD;;AACD/B,IAAAA,UAAU,CAACkC,UAAD,CAAV;AACD,GATD,CA7BwB,CAwCxB;;;AACA,MAAMG,MAAM,GAAG,CACb;AACEC,IAAAA,GAAG,EAAE,OADP;AAEEC,IAAAA,KAAK,EAAE,KAFT;AAGEC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAHV;AAIErC,IAAAA,MAAM,EAAE;AAJV,GADa,EAOb;AAAEkC,IAAAA,GAAG,EAAE,MAAP;AAAeC,IAAAA,KAAK,EAAE,IAAtB;AAA4BC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAApC,GAPa,EAQb;AAAEH,IAAAA,GAAG,EAAE,MAAP;AAAeC,IAAAA,KAAK,EAAE,qBAAtB;AAA6CC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAArD,GARa,EASb;AAAEH,IAAAA,GAAG,EAAE,SAAP;AAAkBC,IAAAA,KAAK,EAAE,SAAzB;AAAoCC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAA5C,GATa,EAUb;AAAEH,IAAAA,GAAG,EAAE,KAAP;AAAcC,IAAAA,KAAK,EAAE,YAArB;AAAmCC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAA3C,GAVa,EAWb;AAAEH,IAAAA,GAAG,EAAE,MAAP;AAAeC,IAAAA,KAAK,EAAE,mBAAtB;AAA2CC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAAnD,GAXa,EAYb;AAAEH,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,KAAK,EAAE,iBAA1B;AAA6CC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAArD,GAZa,EAab;AAAEH,IAAAA,GAAG,EAAE,YAAP;AAAqBC,IAAAA,KAAK,EAAE,WAA5B;AAAyCC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAAjD,GAba,EAcb;AACEH,IAAAA,GAAG,EAAE,cADP;AAEEC,IAAAA,KAAK,EAAE,EAFT;AAGEC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAHV;AAIErC,IAAAA,MAAM,EAAE;AAJV,GAda,CAAf;;AAsBA,MAAMsC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,MAAM,EAAI;AACzB,YAAQA,MAAR;AACE,WAAK,QAAL;AACE,eAAO,SAAP;;AACF,WAAK,UAAL;AACE,eAAO,WAAP;;AACF,WAAK,SAAL;AACE,eAAO,SAAP;;AACF,WAAK,QAAL;AACE,eAAO,QAAP;;AACF;AACE,eAAO,SAAP;AAVJ;AAYD,GAbD;;AAeA,MAAMC,UAAU,GAAGzB,aAAa,CAACD,SAAD,CAAb,CAChBG,GADgB,CACZ,UAAAhB,IAAI;AAAA,WAAIwC,MAAM,CAACC,MAAP,CAAczC,IAAd,EAAoB0C,IAApB,CAAyB,GAAzB,CAAJ;AAAA,GADQ,EAEhBA,IAFgB,CAEX,IAFW,CAAnB;AAGA,MAAMC,OAAO,GAAG,yCAAyCC,kBAAkB,CAACL,UAAD,CAA3E;;AACA,MAAMM,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BnC,IAAAA,OAAO,CAACoC,IAAR,WAAgBrD,KAAK,CAACsD,KAAN,CAAYC,GAA5B;AACD,GAFD;;AAIA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,MAAM,EAAI;AAC/BxC,IAAAA,OAAO,CAACoC,IAAR,WAAgBrD,KAAK,CAACsD,KAAN,CAAYC,GAA5B,cAAmCE,MAAnC;AACD,GAFD;;AAIA,MAAMC,qBAAqB,GAAGrF,WAAW,CACvCwB,CAAC,CAAC8D,QAAF,CAAW,UAAAC,KAAK,EAAI;AAClB,QAAIb,MAAM,CAACc,IAAP,CAAYD,KAAZ,EAAmBpD,MAAnB,GAA4B,CAAhC,EAAmC;AACjC,UAAGuC,MAAM,CAACc,IAAP,CAAYD,KAAZ,EAAmBE,OAAnB,CAA2B,UAAAtB,GAAG,EAAI;AACnC,YAAG,CAACoB,KAAK,CAACpB,GAAD,CAAT,EAAgB,OAAOoB,KAAK,CAACpB,GAAD,CAAZ;AACjB,OAFE,CAAH,EAGAxB,QAAQ,CAAC3B,WAAW;AAAG6B,QAAAA,IAAI,EAAE,CAAT;AAAYJ,QAAAA,IAAI,EAAEA,IAAlB;AAAwBK,QAAAA,IAAI,EAAE;AAA9B,SAAqDyC,KAArD,EAAZ,CAAR;AACD;AACF,GAPD,EAOG,IAPH,CADuC,EASvC,EATuC,CAAzC;;AAYA,MAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAAAH,KAAK,EAAI;AAC9BF,IAAAA,qBAAqB,CAACE,KAAD,CAArB;AACD,GAFD;;AAIA,MAAMI,iBAAiB,GAAG5F,KAAK,CAACC,WAAN,CACxB,UAACiD,KAAD;AAAA,WAAWD,aAAa,CAACC,KAAD,CAAxB;AAAA,GADwB,EAExB,EAFwB,CAA1B;AAIA,MAAM2C,UAAU,GAAG7F,KAAK,CAAC8F,OAAN,CAAc;AAAA,WAAMF,iBAAiB,CAAC5C,SAAD,CAAvB;AAAA,GAAd,EAAkD,CAACA,SAAD,CAAlD,CAAnB;AAEA,sBACE,oBAAC,KAAD,qBACE,oBAAC,WAAD,qBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC;AAAZ,IADF,oCAEG,CAAChB,OAAO,IAAID,OAAO,CAACgE,IAAR,CAAa7D,MAAb,CAAoB,UAAA8D,GAAG;AAAA,WAAIA,GAAG,CAACC,MAAJ,KAAe,MAAf,IAAyBD,GAAG,CAACE,MAAJ,KAAe,gBAA5C;AAAA,GAAvB,EAAqF9D,MAArF,GAA8F,CAA1G,kBACC,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,OAAO,EAAC,SAAjC;AAA2C,IAAA,SAAS,EAAC,MAArD;AAA4D,IAAA,OAAO,EAAE4C;AAArE,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC;AAAZ,IADF,uCAHJ,CADF,eASE,oBAAC,SAAD,qBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,SAAS,EAAC,MAAnC;AAA0C,IAAA,IAAI,EAAEF,OAAhD;AAAyD,IAAA,QAAQ,EAAC,uBAAlE;AAA0F,IAAA,MAAM,EAAC;AAAjG,6BADF,eAIE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAEe,UADT;AAEE,IAAA,MAAM,EAAE1B,MAFV;AAGE,IAAA,YAAY,MAHd;AAIE,IAAA,WAAW,MAJb;AAKE,IAAA,OAAO,MALT;AAME,IAAA,kBAAkB,EAAE;AAAEE,MAAAA,KAAK,EAAE,yBAAT;AAAoCO,MAAAA,MAAM,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,GAAT,EAAc,GAAd,EAAmB,GAAnB;AAA5C,KANtB;AAOE,IAAA,YAAY,EAAElC,IAPhB;AAQE,IAAA,KAAK,MARP;AASE,IAAA,MAAM,MATR,CAUE;AACA;AAXF;AAYE,IAAA,YAAY,EAAE,sBAAAyD,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,GAAzB,CAAJ;AAAA,KAZnB;AAaE,IAAA,aAAa,EAAE,uBAAAA,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,GAA1B,CAAJ;AAAA,KAbpB;AAcE,IAAA,kBAAkB,EAAE,4BAAAA,GAAG;AAAA,aAAIxD,OAAO,CAACwD,GAAD,CAAX;AAAA,KAdzB,CAeE;AACA;AAhBF;AAiBE,IAAA,mBAAmB,EAAE,6BAAAA,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC,CAAJ;AAAA,KAjB1B;AAkBE,IAAA,oBAAoB,EAAER,cAlBxB;AAmBE,IAAA,WAAW,EAAE;AACXW,MAAAA,KAAK,EAAE,eAACnE,IAAD,EAAO0B,KAAP;AAAA,4BAAiB,gCAAKA,KAAK,GAAG,CAAb,CAAjB;AAAA,OADI;AAEXY,MAAAA,MAAM,EAAE,gBAAAtC,IAAI;AAAA,4BACV,6CACE,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEqC,QAAQ,CAACrC,IAAI,CAACsC,MAAN;AAAvB,WAAuCtC,IAAI,CAACsC,MAA5C,CADF,CADU;AAAA,OAFD;AAOX8B,MAAAA,YAAY,EAAE,sBAAApE,IAAI,EAAI;AACpB,4BACE;AAAI,UAAA,SAAS,EAAC;AAAd,WACG,CAACH,OAAO,IAAID,OAAO,CAACgE,IAAR,CAAa7D,MAAb,CAAoB,UAAA8D,GAAG;AAAA,iBAAIA,GAAG,CAACC,MAAJ,KAAe,KAAf,IAAwBD,GAAG,CAACE,MAAJ,KAAe,gBAA3C;AAAA,SAAvB,EAAoF9D,MAApF,GAA6F,CAAzG,kBACC,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,KAAK,EAAC,QAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,SAAS,EAAC,MALZ;AAME,UAAA,OAAO,EAAE,mBAAM;AACbgD,YAAAA,cAAc,CAACjD,IAAI,CAACqE,EAAN,CAAd;AACD;AARH,wBAUE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UAVF,CAFJ,eAeE,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,KAAK,EAAC,QAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,OAAO,EAAE,mBAAM;AACb5C,YAAAA,aAAa,CAACzB,IAAI,CAACqE,EAAN,CAAb;AACD;AAPH,wBASE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UATF,CAfF,CADF;AA6BD,OArCU;AAsCX3E,MAAAA,OAAO,EAAE,iBAAAM,IAAI,EAAI;AAAA;;AACf,4BACE,oBAAC,SAAD;AAAW,UAAA,IAAI,EAAEN,QAAO,CAAC4E,QAAR,CAAiBtE,IAAI,CAACqE,EAAtB;AAAjB,wBACE,oBAAC,SAAD,qBACE,uEADF,eAEE,oBAAC,IAAD,qBACE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC;AAAT,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,oBADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BrE,IAAI,CAACwB,IAA/B,CAFF,CADF,eAKE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,sCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BxB,IAAI,CAACmB,IAA/B,CAFF,CALF,eASE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,sCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BnB,IAAI,CAACuE,WAA/B,CAFF,CATF,eAaE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,gDADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BvE,IAAI,CAACwE,GAA/B,CAFF,CAbF,eAiBE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,4CADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BxE,IAAI,CAACyE,WAA/B,CAFF,CAjBF,eAqBE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,oBADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BzE,IAAI,CAAC0E,KAA/B,CAFF,CArBF,CADF,eA2BE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC;AAAT,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,iCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B,oBAAAxF,MAAM,CAACa,MAAP,CAAc,UAAA4E,IAAI;AAAA,iBAAIA,IAAI,CAACtB,KAAL,MAAerD,IAAf,aAAeA,IAAf,uBAAeA,IAAI,CAAE2E,IAArB,CAAJ;AAAA,SAAlB,EAAiD,CAAjD,qEAAqDzC,KAArD,KAA8D,EAAxF,CAFF,CADF,eAKE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,mCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B,sBAAA/C,QAAQ,CAACY,MAAT,CAAgB,UAAA6E,IAAI;AAAA,iBAAIA,IAAI,CAACvB,KAAL,MAAerD,IAAf,aAAeA,IAAf,uBAAeA,IAAI,CAAEb,QAArB,CAAJ;AAAA,SAApB,EAAuD,CAAvD,yEAA2D+C,KAA3D,KAAoE,EAA9F,CAFF,CALF,eASE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,qCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BlC,IAAI,CAAC6E,OAA/B,CAFF,CATF,eAaE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,yCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B7E,IAAI,CAACkB,IAAL,CAAUC,IAApC,CAFF,CAbF,eAiBE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,2BADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BnB,IAAI,CAACoB,UAAL,IAAmB,EAA7C,CAFF,CAjBF,CA3BF,CAFF,CADF,CADF;AAyDD;AAhGU;AAnBf,IAJF,eA0HE,oBAAC,WAAD;AACE,IAAA,UAAU,EAAEf,UADd;AAEE,IAAA,KAAK,EAAEyE,IAAI,CAACC,KAAL,CAAW3E,YAAY,CAAC4E,SAAb,GAAyBzE,IAApC,IAA4C,CAFrD;AAGE,IAAA,kBAAkB,EAAE,4BAAA0E,CAAC;AAAA,aAAI3E,aAAa,CAAC2E,CAAD,CAAjB;AAAA;AAHvB,IA1HF,CATF,CADF;AA4ID,CA5PD;;AA8PA,eAAezF,QAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CCol, CPagination } from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCustomer } from '../customer.api.js';\nimport { globalizedCustomerSelectors, reset } from '../customer.reducer.js';\nimport { useHistory } from 'react-router-dom';\nimport cities from '../../../../shared/utils/city';\nimport district from '../../../../shared/utils/district.json';\nimport moment from 'moment';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\nimport _ from 'lodash'\nconst { selectAll } = globalizedCustomerSelectors;\n\nconst Customer = props => {\n  const [details, setDetails] = useState([]);\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  const { initialState } = useSelector(state => state.customer);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(50);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    dispatch(getCustomer({ page: activePage - 1, size, sort: 'createdDate,DESC' }));\n  }, [activePage, size]);\n\n  const customers = useSelector(selectAll);\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        typeName: item.type?.name,\n        department: item.department?.name || '',\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY'),\n        sale: item.sale?.code || ''\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  // Code\tTên cửa hàng/đại lý\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại khách hàng\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: { width: '1%' },\n      filter: false\n    },\n    { key: 'code', label: 'Mã', _style: { width: '10%' } },\n    { key: 'name', label: 'Tên cửa hàng/đại lý', _style: { width: '15%' } },\n    { key: 'address', label: 'Địa chỉ', _style: { width: '15%' } },\n    { key: 'tel', label: 'Điện thoại', _style: { width: '15%' } },\n    { key: 'sale', label: 'Nhân viên quản lý', _style: { width: '15%' } },\n    { key: 'typeName', label: 'Loại khách hàng', _style: { width: '10%' } },\n    { key: 'department', label: 'Chi nhánh', _style: { width: '20%' } },\n    {\n      key: 'show_details',\n      label: '',\n      _style: { width: '1%' },\n      filter: false\n    }\n  ];\n\n  const getBadge = status => {\n    switch (status) {\n      case 'Active':\n        return 'success';\n      case 'Inactive':\n        return 'secondary';\n      case 'Pending':\n        return 'warning';\n      case 'Banned':\n        return 'danger';\n      default:\n        return 'primary';\n    }\n  };\n\n  const csvContent = computedItems(customers)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateCustomer = () => {\n    history.push(`${props.match.url}/new`);\n  };\n\n  const toEditCustomer = userId => {\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n\n  const debouncedSearchColumn = useCallback(\n    _.debounce(value => {\n      if (Object.keys(value).length > 0) {\n        if(Object.keys(value).forEach(key => {\n          if(!value[key]) delete value[key]\n        }))\n        dispatch(getCustomer({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n      }\n    }, 1000),\n    []\n  );\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value)\n  };\n\n  const memoComputedItems = React.useCallback(\n    (items) => computedItems(items),\n    []\n  );\n  const memoListed = React.useMemo(() => memoComputedItems(customers), [customers]);\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách khách hàng\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/customers').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateCustomer}>\n            <CIcon name=\"cil-plus\" /> Thêm mới khách hàng\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CDataTable\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [20, 50, 100, 200, 500] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          // loading\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={val => console.log('new page:', val)}\n          onPagesChange={val => console.log('new pages:', val)}\n          onPaginationChange={val => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={val => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            status: item => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{item.status}</CBadge>\n              </td>\n            ),\n            show_details: item => {\n              return (\n                <td className=\"d-flex py-2\">\n                  {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/customers').length > 0) && (\n                    <CButton\n                      color=\"primary\"\n                      variant=\"outline\"\n                      shape=\"square\"\n                      size=\"sm\"\n                      className=\"mr-3\"\n                      onClick={() => {\n                        toEditCustomer(item.id);\n                      }}\n                    >\n                      <CIcon name=\"cil-pencil\" />\n                    </CButton>\n                  )}\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cil-user\" />\n                  </CButton>\n                </td>\n              );\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin người dùng</h5>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Mã:</dt>\n                          <dd className=\"col-sm-9\">{item.code}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên cửa hàng:</dt>\n                          <dd className=\"col-sm-9\">{item.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên liên lạc:</dt>\n                          <dd className=\"col-sm-9\">{item.contactName}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                          <dd className=\"col-sm-9\">{item.tel}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Ngày tháng năm sinh</dt>\n                          <dd className=\"col-sm-9\">{item.dateOfBirth}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Email:</dt>\n                          <dd className=\"col-sm-9\">{item.email}</dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tỉnh thành:</dt>\n                          <dd className=\"col-sm-9\">{cities.filter(city => city.value === item?.city)[0]?.label || ''}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Quận huyện:</dt>\n                          <dd className=\"col-sm-9\">{district.filter(dist => dist.value === item?.district)[0]?.label || ''}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                          <dd className=\"col-sm-9\">{item.address}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Loại khách hàng:</dt>\n                          <dd className=\"col-sm-9\">{item.type.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Chi nhánh:</dt>\n                          <dd className=\"col-sm-9\">{item.department || ''}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default Customer;\n"]}]}