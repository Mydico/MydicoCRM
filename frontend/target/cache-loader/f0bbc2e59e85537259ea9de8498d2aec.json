{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/Customer.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/Customer.js","mtime":1625156287868},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDQ29sLCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsgLy8gaW1wb3J0IHVzZXJzRGF0YSBmcm9tICcuLi8uLi8uLi91c2Vycy9Vc2Vyc0RhdGEuanMnOwoKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXRDdXN0b21lciB9IGZyb20gJy4uL2N1c3RvbWVyLmFwaS5qcyc7CmltcG9ydCB7IGdsb2JhbGl6ZWRDdXN0b21lclNlbGVjdG9ycywgcmVzZXQgfSBmcm9tICcuLi9jdXN0b21lci5yZWR1Y2VyLmpzJzsKaW1wb3J0IHsgTGluaywgdXNlSGlzdG9yeSwgdXNlTG9jYXRpb24gfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IGNpdGllcyBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvY2l0eSc7CmltcG9ydCBkaXN0cmljdCBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdXRpbHMvZGlzdHJpY3QuanNvbic7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IHsgdXNlclNhZmVTZWxlY3RvciB9IGZyb20gJy4uLy4uL2xvZ2luL2F1dGhlbnRpY2F0ZS5yZWR1Y2VyLmpzJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKaW1wb3J0IHsgQ0xhYmVsIH0gZnJvbSAnQGNvcmV1aS9yZWFjdCc7CnZhciBzZWxlY3RBbGwgPSBnbG9iYWxpemVkQ3VzdG9tZXJTZWxlY3RvcnMuc2VsZWN0QWxsOyAvLyBDb2RlCVTDqm4gY+G7rWEgaMOgbmcvxJHhuqFpIGzDvQlOZ8aw4budaSBsacOqbiBs4bqhYwlOxINtIFNpbmgJxJBp4buHbiB0aG/huqFpCU5ow6JuIHZpw6puIHF14bqjbiBsw70JTG/huqFpIGtow6FjaCBow6BuZwlQaMOibiBsb+G6oWkJU+G7rWEJVOG6oW8gxJHGoW4KCnZhciBmaWVsZHMgPSBbewogIGtleTogJ29yZGVyJywKICBsYWJlbDogJ1NUVCcsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzElJwogIH0sCiAgZmlsdGVyOiBmYWxzZQp9LCB7CiAga2V5OiAnY29kZScsCiAgbGFiZWw6ICdNw6MnCn0sIHsKICBrZXk6ICduYW1lJywKICBsYWJlbDogJ1TDqm4gY+G7rWEgaMOgbmcvxJHhuqFpIGzDvScKfSwgewogIGtleTogJ3RlbCcsCiAgbGFiZWw6ICfEkGnhu4duIHRob+G6oWknCn0sIHsKICBrZXk6ICdzYWxlTmFtZScsCiAgbGFiZWw6ICdOaMOibiB2acOqbiBxdeG6o24gbMO9Jwp9LCB7CiAga2V5OiAndHlwZU5hbWUnLAogIGxhYmVsOiAnTG/huqFpIGtow6FjaCBow6BuZycsCiAgZmlsdGVyOiBmYWxzZQp9LCB7CiAga2V5OiAnZGVwYXJ0bWVudCcsCiAgbGFiZWw6ICdDaGkgbmjDoW5oJywKICBmaWx0ZXI6IGZhbHNlCn0sIHsKICBrZXk6ICdzaG93X2RldGFpbHMnLAogIGxhYmVsOiAnJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMSUnCiAgfSwKICBmaWx0ZXI6IGZhbHNlCn1dOwoKdmFyIGdldEJhZGdlID0gZnVuY3Rpb24gZ2V0QmFkZ2Uoc3RhdHVzKSB7CiAgc3dpdGNoIChzdGF0dXMpIHsKICAgIGNhc2UgJ0FjdGl2ZSc6CiAgICAgIHJldHVybiAnc3VjY2Vzcyc7CgogICAgY2FzZSAnSW5hY3RpdmUnOgogICAgICByZXR1cm4gJ3NlY29uZGFyeSc7CgogICAgY2FzZSAnUGVuZGluZyc6CiAgICAgIHJldHVybiAnd2FybmluZyc7CgogICAgY2FzZSAnQmFubmVkJzoKICAgICAgcmV0dXJuICdkYW5nZXInOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAncHJpbWFyeSc7CiAgfQp9OwoKdmFyIEN1c3RvbWVyID0gZnVuY3Rpb24gQ3VzdG9tZXIocHJvcHMpIHsKICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoW10pLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgX2RldGFpbHMgPSBfdXNlU3RhdGUyWzBdLAogICAgICBzZXREZXRhaWxzID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKHVzZXJTYWZlU2VsZWN0b3IpLAogICAgICBhY2NvdW50ID0gX3VzZVNlbGVjdG9yLmFjY291bnQ7CgogIHZhciBpc0FkbWluID0gYWNjb3VudC5hdXRob3JpdGllcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBpdGVtID09PSAnUk9MRV9BRE1JTic7CiAgfSkubGVuZ3RoID4gMDsKCiAgdmFyIF91c2VTZWxlY3RvcjIgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jdXN0b21lcjsKICB9KSwKICAgICAgaW5pdGlhbFN0YXRlID0gX3VzZVNlbGVjdG9yMi5pbml0aWFsU3RhdGU7CgogIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoMSksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgYWN0aXZlUGFnZSA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldEFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKDUwKSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBzaXplID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0U2l6ZSA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBwYXJhbVJlZiA9IHVzZVJlZihudWxsKTsKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChyZXNldCgpKTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIHZhciBsb2NhbFBhcmFtcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwYXJhbXMnKTsKCiAgICB2YXIgcGFyYW1zID0gX29iamVjdFNwcmVhZCh7CiAgICAgIHBhZ2U6IGFjdGl2ZVBhZ2UgLSAxLAogICAgICBzaXplOiBzaXplLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgIH0sIHBhcmFtUmVmLmN1cnJlbnQpOwoKICAgIGlmIChsb2NhbFBhcmFtcykgewogICAgICBwYXJhbXMgPSBKU09OLnBhcnNlKGxvY2FsUGFyYW1zKTsKICAgICAgc2V0QWN0aXZlUGFnZShwYXJhbXMucGFnZSArIDEpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGFyYW1zJyk7CiAgICB9CgogICAgZGlzcGF0Y2goZ2V0Q3VzdG9tZXIocGFyYW1zKSk7CiAgfSwgW2FjdGl2ZVBhZ2UsIHNpemVdKTsKICB2YXIgY3VzdG9tZXJzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsKTsKCiAgdmFyIGNvbXB1dGVkSXRlbXMgPSBmdW5jdGlvbiBjb21wdXRlZEl0ZW1zKGl0ZW1zKSB7CiAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBfaXRlbSR0eXBlLCBfaXRlbSRkZXBhcnRtZW50LCBfaXRlbSRzYWxlOwoKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgdHlwZU5hbWU6IChfaXRlbSR0eXBlID0gaXRlbS50eXBlKSA9PT0gbnVsbCB8fCBfaXRlbSR0eXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSR0eXBlLmNvZGUsCiAgICAgICAgZGVwYXJ0bWVudDogKChfaXRlbSRkZXBhcnRtZW50ID0gaXRlbS5kZXBhcnRtZW50KSA9PT0gbnVsbCB8fCBfaXRlbSRkZXBhcnRtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRkZXBhcnRtZW50LmNvZGUpIHx8ICcnLAogICAgICAgIGNyZWF0ZWREYXRlOiBtb21lbnQoaXRlbS5jcmVhdGVkRGF0ZSkuZm9ybWF0KCdERC1NTS1ZWVlZJyksCiAgICAgICAgc2FsZTogKChfaXRlbSRzYWxlID0gaXRlbS5zYWxlKSA9PT0gbnVsbCB8fCBfaXRlbSRzYWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRzYWxlLmNvZGUpIHx8ICcnCiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgdmFyIHRvZ2dsZURldGFpbHMgPSBmdW5jdGlvbiB0b2dnbGVEZXRhaWxzKGluZGV4KSB7CiAgICB2YXIgcG9zaXRpb24gPSBfZGV0YWlscy5pbmRleE9mKGluZGV4KTsKCiAgICB2YXIgbmV3RGV0YWlscyA9IF9kZXRhaWxzLnNsaWNlKCk7CgogICAgaWYgKHBvc2l0aW9uICE9PSAtMSkgewogICAgICBuZXdEZXRhaWxzLnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICB9IGVsc2UgewogICAgICBuZXdEZXRhaWxzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfZGV0YWlscyksIFtpbmRleF0pOwogICAgfQoKICAgIHNldERldGFpbHMobmV3RGV0YWlscyk7CiAgfTsKCiAgdmFyIGNzdkNvbnRlbnQgPSBjb21wdXRlZEl0ZW1zKGN1c3RvbWVycykubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpdGVtKS5qb2luKCcsJyk7CiAgfSkuam9pbignXG4nKTsKICB2YXIgY3N2Q29kZSA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsU0VQPSwlMEEnICsgZW5jb2RlVVJJQ29tcG9uZW50KGNzdkNvbnRlbnQpOwoKICB2YXIgdG9DcmVhdGVDdXN0b21lciA9IGZ1bmN0aW9uIHRvQ3JlYXRlQ3VzdG9tZXIoKSB7CiAgICB2YXIgcGFyYW1zID0gX29iamVjdFNwcmVhZCh7CiAgICAgIHBhZ2U6IGFjdGl2ZVBhZ2UgLSAxLAogICAgICBzaXplOiBzaXplLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgIH0sIHBhcmFtUmVmLmN1cnJlbnQpOwoKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwYXJhbXMnLCBKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKICAgIGhpc3RvcnkucHVzaCh7CiAgICAgIHBhdGhuYW1lOiAiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL25ldyIpCiAgICB9KTsKICB9OwoKICB2YXIgdG9FZGl0Q3VzdG9tZXIgPSBmdW5jdGlvbiB0b0VkaXRDdXN0b21lcih1c2VySWQpIHsKICAgIHZhciBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgcGFnZTogYWN0aXZlUGFnZSAtIDEsCiAgICAgIHNpemU6IHNpemUsCiAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgfSwgcGFyYW1SZWYuY3VycmVudCk7CgogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BhcmFtcycsIEpTT04uc3RyaW5naWZ5KHBhcmFtcykpOwogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvIikuY29uY2F0KHVzZXJJZCwgIi9lZGl0IikpOwogIH07CgogIHZhciBkZWJvdW5jZWRTZWFyY2hDb2x1bW4gPSBfLmRlYm91bmNlKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgaWYgKE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPiAwKSB7CiAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoIXZhbHVlW2tleV0pIGRlbGV0ZSB2YWx1ZVtrZXldOwogICAgICB9KTsKICAgICAgcGFyYW1SZWYuY3VycmVudCA9IHZhbHVlOwogICAgICBkaXNwYXRjaChnZXRDdXN0b21lcihfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIHNpemU6IHNpemUsCiAgICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICAgIH0sIHZhbHVlKSkpOwogICAgfQogIH0sIDMwMCk7CgogIHZhciBvbkZpbHRlckNvbHVtbiA9IGZ1bmN0aW9uIG9uRmlsdGVyQ29sdW1uKHZhbHVlKSB7CiAgICBkZWJvdW5jZWRTZWFyY2hDb2x1bW4odmFsdWUpOwogIH07CgogIHZhciBtZW1vQ29tcHV0ZWRJdGVtcyA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpdGVtcykgewogICAgcmV0dXJuIGNvbXB1dGVkSXRlbXMoaXRlbXMpOwogIH0sIFtdKTsKICB2YXIgbWVtb0xpc3RlZCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG1lbW9Db21wdXRlZEl0ZW1zKGN1c3RvbWVycyk7CiAgfSwgW2N1c3RvbWVyc10pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLWdyaWQiCiAgfSksICIgRGFuaCBzXHhFMWNoIGtoXHhFMWNoIGhceEUwbmciLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUE9TVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvY3VzdG9tZXJzJzsKICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICBvbkNsaWNrOiB0b0NyZWF0ZUN1c3RvbWVyCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtcGx1cyIKICB9KSwgIiBUaFx4RUFtIG1cdTFFREJpIGtoXHhFMWNoIGhceEUwbmciKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJwcmltYXJ5IiwKICAgIGNsYXNzTmFtZTogIm1iLTIiLAogICAgaHJlZjogY3N2Q29kZSwKICAgIGRvd25sb2FkOiAiY29yZXVpLXRhYmxlLWRhdGEuY3N2IiwKICAgIHRhcmdldDogIl9ibGFuayIKICB9LCAiVFx1MUVBM2kgZXhjZWwgKC5jc3YpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIHsKICAgIGNsYXNzTmFtZTogIm1sLTAgbXQtNCIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIG51bGwsICJUXHUxRUQ1bmcgOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIlx4QTBceEEwIi5jb25jYXQoaW5pdGlhbFN0YXRlLnRvdGFsSXRlbSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0RhdGFUYWJsZSwgewogICAgaXRlbXM6IG1lbW9MaXN0ZWQsCiAgICBmaWVsZHM6IGZpZWxkcywKICAgIGNvbHVtbkZpbHRlcjogdHJ1ZSwKICAgIGl0ZW1zUGVyUGFnZVNlbGVjdDogewogICAgICBsYWJlbDogJ1Phu5EgbMaw4bujbmcgdHLDqm4gbeG7mXQgdHJhbmcnLAogICAgICB2YWx1ZXM6IFs1MCwgMTAwLCAyMDAsIDUwMF0KICAgIH0sCiAgICBpdGVtc1BlclBhZ2U6IHNpemUsCiAgICBob3ZlcjogdHJ1ZSwKICAgIHNvcnRlcjogdHJ1ZSwKICAgIG5vSXRlbXNWaWV3OiB7CiAgICAgIG5vUmVzdWx0czogJ0tow7RuZyB0w6xtIHRo4bqleSBr4bq/dCBxdeG6oycsCiAgICAgIG5vSXRlbXM6ICdLaMO0bmcgY8OzIGThu68gbGnhu4d1JwogICAgfSAvLyBsb2FkaW5nCiAgICAsCiAgICBvblBhZ2luYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIHNldFNpemUodmFsKTsKICAgIH0sCiAgICBvbkNvbHVtbkZpbHRlckNoYW5nZTogb25GaWx0ZXJDb2x1bW4sCiAgICBzY29wZWRTbG90czogewogICAgICBvcmRlcjogZnVuY3Rpb24gb3JkZXIoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKGFjdGl2ZVBhZ2UgLSAxKSAqIHNpemUgKyBpbmRleCArIDEpOwogICAgICB9LAogICAgICBzdGF0dXM6IGZ1bmN0aW9uIHN0YXR1cyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCYWRnZSwgewogICAgICAgICAgY29sb3I6IGdldEJhZGdlKGl0ZW0uc3RhdHVzKQogICAgICAgIH0sIGl0ZW0uc3RhdHVzKSk7CiAgICAgIH0sCiAgICAgIHNob3dfZGV0YWlsczogZnVuY3Rpb24gc2hvd19kZXRhaWxzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiZC1mbGV4IHB5LTIiCiAgICAgICAgfSwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICAgICAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BVVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvY3VzdG9tZXJzJzsKICAgICAgICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTMiLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgdG9FZGl0Q3VzdG9tZXIoaXRlbS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICJjaWwtcGVuY2lsIgogICAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICB0b2dnbGVEZXRhaWxzKGl0ZW0uaWQpOwogICAgICAgICAgfQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsLXVzZXIiCiAgICAgICAgfSkpKTsKICAgICAgfSwKICAgICAgZGV0YWlsczogZnVuY3Rpb24gZGV0YWlscyhpdGVtKSB7CiAgICAgICAgdmFyIF9jaXRpZXMkZmlsdGVyJCwgX2Rpc3RyaWN0JGZpbHRlciQ7CgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sbGFwc2UsIHsKICAgICAgICAgIHNob3c6IF9kZXRhaWxzLmluY2x1ZGVzKGl0ZW0uaWQpCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaDUiLCBudWxsLCAiVGhceEY0bmcgdGluIG5nXHUwMUIwXHUxRUREaSBkXHhGOW5nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENSb3csIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICAgIGxnOiAiNiIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIk1ceEUzOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmNvZGUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUXHhFQW4gY1x1MUVFRGEgaFx4RTBuZzoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiVFx4RUFuIGxpXHhFQW4gbFx1MUVBMWM6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0uY29udGFjdE5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJTXHUxRUQxIFx1MDExMWlcdTFFQzduIHRob1x1MUVBMWk6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0udGVsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiTmdceEUweSB0aFx4RTFuZyBuXHUwMTAzbSBzaW5oIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0uZGF0ZU9mQmlydGgpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJFbWFpbDoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5lbWFpbCkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgICAgbGc6ICI2IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiVFx1MUVDOW5oIHRoXHhFMG5oOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCAoKF9jaXRpZXMkZmlsdGVyJCA9IGNpdGllcy5maWx0ZXIoZnVuY3Rpb24gKGNpdHkpIHsKICAgICAgICAgIHJldHVybiBjaXR5LnZhbHVlID09PSAoaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmNpdHkpOwogICAgICAgIH0pWzBdKSA9PT0gbnVsbCB8fCBfY2l0aWVzJGZpbHRlciQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaXRpZXMkZmlsdGVyJC5sYWJlbCkgfHwgJycpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJRdVx1MUVBRG4gaHV5XHUxRUM3bjoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgKChfZGlzdHJpY3QkZmlsdGVyJCA9IGRpc3RyaWN0LmZpbHRlcihmdW5jdGlvbiAoZGlzdCkgewogICAgICAgICAgcmV0dXJuIGRpc3QudmFsdWUgPT09IChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0uZGlzdHJpY3QpOwogICAgICAgIH0pWzBdKSA9PT0gbnVsbCB8fCBfZGlzdHJpY3QkZmlsdGVyJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Rpc3RyaWN0JGZpbHRlciQubGFiZWwpIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiXHUwMTEwXHUxRUNCYSBjaFx1MUVDOToiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5hZGRyZXNzKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiTG9cdTFFQTFpIGtoXHhFMWNoIGhceEUwbmc6IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0udHlwZS5uYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiQ2hpIG5oXHhFMW5oOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmRlcGFydG1lbnQgfHwgJycpKSkpKSk7CiAgICAgIH0KICAgIH0KICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1BhZ2luYXRpb24sIHsKICAgIGFjdGl2ZVBhZ2U6IGFjdGl2ZVBhZ2UsCiAgICBwYWdlczogTWF0aC5mbG9vcihpbml0aWFsU3RhdGUudG90YWxJdGVtIC8gc2l6ZSkgKyAxLAogICAgb25BY3RpdmVQYWdlQ2hhbmdlOiBmdW5jdGlvbiBvbkFjdGl2ZVBhZ2VDaGFuZ2UoaSkgewogICAgICByZXR1cm4gc2V0QWN0aXZlUGFnZShpKTsKICAgIH0KICB9KSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgQ3VzdG9tZXI7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/Customer.js"],"names":["React","useCallback","useEffect","useRef","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CCol","CPagination","CIcon","useDispatch","useSelector","getCustomer","globalizedCustomerSelectors","reset","Link","useHistory","useLocation","cities","district","moment","userSafeSelector","_","CLabel","selectAll","fields","key","label","_style","width","filter","getBadge","status","Customer","props","details","setDetails","account","isAdmin","authorities","item","length","state","customer","initialState","activePage","setActivePage","size","setSize","paramRef","dispatch","history","localParams","localStorage","getItem","params","page","sort","current","JSON","parse","removeItem","customers","computedItems","items","map","typeName","type","code","department","createdDate","format","sale","toggleDetails","index","position","indexOf","newDetails","slice","splice","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateCustomer","setItem","stringify","push","pathname","match","url","toEditCustomer","userId","debouncedSearchColumn","debounce","value","keys","forEach","onFilterColumn","memoComputedItems","memoListed","useMemo","role","rol","method","entity","totalItem","noResults","noItems","val","order","show_details","id","includes","name","contactName","tel","dateOfBirth","email","city","dist","address","Math","floor","i"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CCol, CPagination } from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCustomer } from '../customer.api.js';\nimport { globalizedCustomerSelectors, reset } from '../customer.reducer.js';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport cities from '../../../../shared/utils/city';\nimport district from '../../../../shared/utils/district.json';\nimport moment from 'moment';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\nimport _ from 'lodash';\nimport { CLabel } from '@coreui/react';\nconst { selectAll } = globalizedCustomerSelectors;\n// Code\tTên cửa hàng/đại lý\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại khách hàng\tPhân loại\tSửa\tTạo đơn\nconst fields = [\n  {\n    key: 'order',\n    label: 'STT',\n    _style: { width: '1%' },\n    filter: false\n  },\n  { key: 'code', label: 'Mã' },\n  { key: 'name', label: 'Tên cửa hàng/đại lý' },\n  { key: 'tel', label: 'Điện thoại' },\n  { key: 'saleName', label: 'Nhân viên quản lý' },\n  { key: 'typeName', label: 'Loại khách hàng', filter: false },\n  { key: 'department', label: 'Chi nhánh', filter: false },\n  {\n    key: 'show_details',\n    label: '',\n    _style: { width: '1%' },\n    filter: false\n  }\n];\n\nconst getBadge = status => {\n  switch (status) {\n    case 'Active':\n      return 'success';\n    case 'Inactive':\n      return 'secondary';\n    case 'Pending':\n      return 'warning';\n    case 'Banned':\n      return 'danger';\n    default:\n      return 'primary';\n  }\n};\nconst Customer = props => {\n  const [details, setDetails] = useState([]);\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  const { initialState } = useSelector(state => state.customer);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(50);\n  const paramRef = useRef(null);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    const localParams = localStorage.getItem('params');\n    let params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    if (localParams) {\n      params = JSON.parse(localParams);\n      setActivePage(params.page + 1);\n      localStorage.removeItem('params');\n    }\n    dispatch(getCustomer(params));\n  }, [activePage, size]);\n\n  const customers = useSelector(selectAll);\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        typeName: item.type?.code,\n        department: item.department?.code || '',\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY'),\n        sale: item.sale?.code || ''\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  const csvContent = computedItems(customers)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateCustomer = () => {\n    const params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    localStorage.setItem('params', JSON.stringify(params));\n    history.push({\n      pathname: `${props.match.url}/new`\n    });\n  };\n\n  const toEditCustomer = userId => {\n    const params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    localStorage.setItem('params', JSON.stringify(params));\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n\n  const debouncedSearchColumn = _.debounce(value => {\n    if (Object.keys(value).length > 0) {\n      Object.keys(value).forEach(key => {\n        if (!value[key]) delete value[key];\n      });\n      paramRef.current = value;\n      dispatch(getCustomer({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n    }\n  }, 300);\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value);\n  };\n\n  const memoComputedItems = React.useCallback(items => computedItems(items), []);\n  const memoListed = React.useMemo(() => memoComputedItems(customers), [customers]);\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách khách hàng\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/customers').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateCustomer}>\n            <CIcon name=\"cil-plus\" /> Thêm mới khách hàng\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CRow className=\"ml-0 mt-4\">\n          <CLabel>Tổng :</CLabel>\n          <strong>{`\\u00a0\\u00a0${initialState.totalItem}`}</strong>\n        </CRow>\n        <CDataTable\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [50, 100, 200, 500] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          noItemsView={{\n            noResults: 'Không tìm thấy kết quả',\n            noItems: 'Không có dữ liệu'\n          }}\n          // loading\n\n          onPaginationChange={val => setSize(val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{(activePage - 1) * size + index + 1}</td>,\n            status: item => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{item.status}</CBadge>\n              </td>\n            ),\n            show_details: item => {\n              return (\n                <td className=\"d-flex py-2\">\n                  {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/customers').length > 0) && (\n                    <CButton\n                      color=\"primary\"\n                      variant=\"outline\"\n                      shape=\"square\"\n                      size=\"sm\"\n                      className=\"mr-3\"\n                      onClick={() => {\n                        toEditCustomer(item.id);\n                      }}\n                    >\n                      <CIcon name=\"cil-pencil\" />\n                    </CButton>\n                  )}\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cil-user\" />\n                  </CButton>\n                </td>\n              );\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin người dùng</h5>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Mã:</dt>\n                          <dd className=\"col-sm-9\">{item.code}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên cửa hàng:</dt>\n                          <dd className=\"col-sm-9\">{item.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên liên lạc:</dt>\n                          <dd className=\"col-sm-9\">{item.contactName}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Số điện thoại:</dt>\n                          <dd className=\"col-sm-9\">{item.tel}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Ngày tháng năm sinh</dt>\n                          <dd className=\"col-sm-9\">{item.dateOfBirth}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Email:</dt>\n                          <dd className=\"col-sm-9\">{item.email}</dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tỉnh thành:</dt>\n                          <dd className=\"col-sm-9\">{cities.filter(city => city.value === item?.city)[0]?.label || ''}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Quận huyện:</dt>\n                          <dd className=\"col-sm-9\">{district.filter(dist => dist.value === item?.district)[0]?.label || ''}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Địa chỉ:</dt>\n                          <dd className=\"col-sm-9\">{item.address}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Loại khách hàng:</dt>\n                          <dd className=\"col-sm-9\">{item.type.name}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Chi nhánh:</dt>\n                          <dd className=\"col-sm-9\">{item.department || ''}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default Customer;\n"]}]}