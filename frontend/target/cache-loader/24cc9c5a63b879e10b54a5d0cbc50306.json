{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/config/notification-middleware.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/config/notification-middleware.js","mtime":1619211472707},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgeyB0b2FzdEVycm9yLCB0b2FzdFN1Y2Nlc3MgfSBmcm9tICcuL3RvYXN0LXN0eWxlJzsKdmFyIHN0YXR1c0Vycm9yID0gewogIDQwMTogJ0LhuqFuIGNoxrBhIMSRxINuZyBuaOG6rXAgdsOgbyBo4buHIHRo4buRbmcnLAogIDQwMDogJ0LhuqFuIMSRw6Mgbmjhuq1wIGThu68gbGnhu4d1IGtow7RuZyDEkcO6bmcnLAogIDQwMzogJ0LhuqFuIGtow7RuZyBjw7MgcXV54buBbiB0aOG7sWMgaGnhu4duIGjDoG5oIMSR4buZbmcgbsOgeScsCiAgNDA5OiAnROG7ryBsaeG7h3UgxJHDoyB04buTbiB04bqhaSB0csOqbiBo4buHIHRo4buRbmcuJywKICA1MDA6ICdM4buXaSBo4buHIHRo4buRbmcuIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaScsCiAgNDIyOiAnTOG7l2kgaOG7hyB0aOG7kW5nLiBWdWkgbMOybmcgdGjhu60gbOG6oWknCn07CnZhciBzdWNjZXNzTWVzc2FnZU1hcHBpbmcgPSB7CiAgJ015ZGljb0NSTS5Qcm9kdWN0R3JvdXAuY3JlYXRlZCc6ICdU4bqhbyBt4bubaSBOaMOzbSBz4bqjbiBwaOG6qW0gdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLlByb2R1Y3RHcm91cC51cGRhdGVkJzogJ0No4buJbmggc+G7rWEgTmjDs20gc+G6o24gcGjhuqltIHRow6BuaCBjw7RuZycsCiAgJ015ZGljb0NSTS5Qcm9kdWN0QnJhbmQuY3JlYXRlZCc6ICdU4bqhbyBt4bubaSBUaMawxqFuZyBoaeG7h3UgdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLlByb2R1Y3RCcmFuZC51cGRhdGVkJzogJ0No4buJbmggc+G7rWEgVGjGsMahbmcgaGnhu4d1IHRow6BuaCBjw7RuZycsCiAgJ015ZGljb0NSTS5Qcm9kdWN0LmNyZWF0ZWQnOiAnVOG6oW8gbeG7m2kgc+G6o24gcGjhuqltIHRow6BuaCBjw7RuZycsCiAgJ015ZGljb0NSTS5Qcm9kdWN0LnVwZGF0ZWQnOiAnQ2jhu4luaCBz4butYSBz4bqjbiBwaOG6qW0gdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLkN1c3RvbWVyLmNyZWF0ZWQnOiAnVOG6oW8gbeG7m2kga2jDoWNoIGjDoG5nIHRow6BuaCBjw7RuZycsCiAgJ015ZGljb0NSTS5DdXN0b21lci51cGRhdGVkJzogJ0No4buJbmggc+G7rWEga2jDoWNoIGjDoG5nIHRow6BuaCBjw7RuZycsCiAgJ015ZGljb0NSTS5DdXN0b21lclR5cGUuY3JlYXRlZCc6ICdU4bqhbyBt4bubaSBsb+G6oWkga2jDoWNoIGjDoG5nIHRow6BuaCBjw7RuZycsCiAgJ015ZGljb0NSTS5DdXN0b21lclR5cGUudXBkYXRlZCc6ICdDaOG7iW5oIHPhu61hIGxv4bqhaSBraMOhY2ggaMOgbmcgdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLkN1c3RvbWVyU3RhdHVzLmNyZWF0ZWQnOiAnVOG6oW8gbeG7m2kgdHLhuqFuZyB0aMOhaSBraMOhY2ggaMOgbmcgdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLkN1c3RvbWVyU3RhdHVzLnVwZGF0ZWQnOiAnQ2jhu4luaCBz4butYSB0cuG6oW5nIHRow6FpIGtow6FjaCBow6BuZyB0aMOgbmggY8O0bmcnLAogICdNeWRpY29DUk0uU3RvcmUuY3JlYXRlZCc6ICdU4bqhbyBt4bubaSBraG8gdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLlN0b3JlLnVwZGF0ZWQnOiAnQ2jhu4luaCBz4butYSBraG8gdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLk9yZGVyLmNyZWF0ZWQnOiAnVOG6oW8gbeG7m2kgxJHGoW4gaMOgbmcgdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLk9yZGVyLnVwZGF0ZWQnOiAnQ2jhu4luaCBz4butYSDEkcahbiBow6BuZyB0aMOgbmggY8O0bmcnLAogICdNeWRpY29DUk0uT3JkZXIuc3RhdHVzLnVwZGF0ZWQnOiAnQ+G6rXAgbmjhuq10IHRy4bqhbmcgdGjDoWkgxJHGoW4gaMOgbmcgdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLlN0b3JlSW5wdXQuY3JlYXRlZCc6ICdU4bqhbyBt4bubaSBwaGnhur91IGtobyB0aMOgbmggY8O0bmcnLAogICdNeWRpY29DUk0uU3RvcmVJbnB1dC51cGRhdGVkJzogJ0No4buJbmggc+G7rWEgcGhp4bq/dSBraG8gdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLlN0b3JlSW5wdXQuc3RhdHVzLnVwZGF0ZWQnOiAnQ+G6rXAgbmjhuq10IHRy4bqhbmcgdGjDoWkgcGhp4bq/dSB0aMOgbmggY8O0bmcnCn07IC8vIGNvbnN0IGFkZEVycm9yQWxlcnQgPSAoa2V5PykgPT4gewovLyAgIHRvYXN0LmVycm9yKHN0YXR1c0Vycm9yW2tleS5zdGF0dXNdID8gc3RhdHVzRXJyb3Jba2V5LnN0YXR1c10gOiBrZXkuZXJyb3IsIGNlbnRlclRvYXN0KTsKLy8gfTsKCmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikgewogICAgICBpZiAoYWN0aW9uLnBheWxvYWQpIHsKICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQgJiYgKGFjdGlvbi5wYXlsb2FkLnN0YXR1c0NvZGUgPT09IDIwMSB8fCBhY3Rpb24ucGF5bG9hZC5zdGF0dXNDb2RlID09PSAyMDApKSB7CiAgICAgICAgICB2YXIgaGVhZGVycyA9IGFjdGlvbi5wYXlsb2FkLmhlYWRlcnM7CiAgICAgICAgICB2YXIgYWxlcnQgPSBudWxsOwogICAgICAgICAgT2JqZWN0LmVudHJpZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgICAgICAgICAgIGsgPSBfcmVmMlswXSwKICAgICAgICAgICAgICAgIHYgPSBfcmVmMlsxXTsKCiAgICAgICAgICAgIGlmIChrLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJ215ZGljb2NybS1hbGVydCcpKSB7CiAgICAgICAgICAgICAgYWxlcnQgPSB2OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRvYXN0U3VjY2VzcyhzdWNjZXNzTWVzc2FnZU1hcHBpbmdbYWxlcnRdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdG9hc3RFcnJvcihhY3Rpb24ucGF5bG9hZC5tZXNzYWdlIHx8IHN0YXR1c0Vycm9yW2FjdGlvbi5wYXlsb2FkLnN0YXR1c0NvZGVdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7CiAgICB9OwogIH07Cn0pOw=="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/config/notification-middleware.js"],"names":["toastError","toastSuccess","statusError","successMessageMapping","next","action","payload","statusCode","headers","alert","Object","entries","forEach","k","v","toLowerCase","endsWith","message"],"mappings":";;;;;;;;;;;;AACA,SAAQA,UAAR,EAAoBC,YAApB,QAAuC,eAAvC;AACA,IAAMC,WAAW,GAAG;AAClB,OAAK,iCADa;AAElB,OAAK,gCAFa;AAGlB,OAAK,4CAHa;AAIlB,OAAK,mCAJa;AAKlB,OAAK,gCALa;AAMlB,OAAK;AANa,CAApB;AASA,IAAMC,qBAAqB,GAAG;AAC5B,oCAAkC,kCADN;AAE5B,oCAAkC,oCAFN;AAG5B,oCAAkC,gCAHN;AAI5B,oCAAkC,kCAJN;AAK5B,+BAA6B,6BALD;AAM5B,+BAA6B,+BAND;AAO5B,gCAA8B,+BAPF;AAQ5B,gCAA8B,iCARF;AAS5B,oCAAkC,oCATN;AAU5B,oCAAkC,sCAVN;AAW5B,sCAAoC,0CAXR;AAY5B,sCAAoC,4CAZR;AAa5B,6BAA2B,wBAbC;AAc5B,6BAA2B,0BAdC;AAe5B,6BAA2B,6BAfC;AAgB5B,6BAA2B,+BAhBC;AAiB5B,oCAAkC,yCAjBN;AAkB5B,kCAAgC,8BAlBJ;AAmB5B,kCAAgC,gCAnBJ;AAoB5B,yCAAuC;AApBX,CAA9B,C,CAuBA;AACA;AACA;;AAEA,gBAAe;AAAA,SAAM,UAACC,IAAD;AAAA,WAAU,UAACC,MAAD,EAAY;AACzC,UAAIA,MAAM,CAACC,OAAX,EAAoB;AAClB,YAAID,MAAM,CAACC,OAAP,KAAmBD,MAAM,CAACC,OAAP,CAAeC,UAAf,KAA8B,GAA9B,IAAqCF,MAAM,CAACC,OAAP,CAAeC,UAAf,KAA8B,GAAtF,CAAJ,EAAgG;AAC9F,cAAMC,OAAO,GAAGH,MAAM,CAACC,OAAP,CAAeE,OAA/B;AACA,cAAIC,KAAK,GAAG,IAAZ;AACAC,UAAAA,MAAM,CAACC,OAAP,CAAeH,OAAf,EAAwBI,OAAxB,CAAgC,gBAAY;AAAA;AAAA,gBAAVC,CAAU;AAAA,gBAAPC,CAAO;;AAC1C,gBAAID,CAAC,CAACE,WAAF,GAAgBC,QAAhB,CAAyB,iBAAzB,CAAJ,EAAiD;AAC/CP,cAAAA,KAAK,GAAGK,CAAR;AACD;AACF,WAJD;AAKAb,UAAAA,YAAY,CAACE,qBAAqB,CAACM,KAAD,CAAtB,CAAZ;AACD,SATD,MASO;AACLT,UAAAA,UAAU,CAACK,MAAM,CAACC,OAAP,CAAeW,OAAf,IAA0Bf,WAAW,CAACG,MAAM,CAACC,OAAP,CAAeC,UAAhB,CAAtC,CAAV;AACD;AACF;;AAED,aAAOH,IAAI,CAACC,MAAD,CAAX;AACD,KAjBoB;AAAA,GAAN;AAAA,CAAf","sourcesContent":["\nimport {toastError, toastSuccess} from './toast-style';\nconst statusError = {\n  401: 'Bạn chưa đăng nhập vào hệ thống',\n  400: 'Bạn đã nhập dữ liệu không đúng',\n  403: 'Bạn không có quyền thực hiện hành động này',\n  409: 'Dữ liệu đã tồn tại trên hệ thống.',\n  500: 'Lỗi hệ thống. Vui lòng thử lại',\n  422: 'Lỗi hệ thống. Vui lòng thử lại',\n};\n\nconst successMessageMapping = {\n  'MydicoCRM.ProductGroup.created': 'Tạo mới Nhóm sản phẩm thành công',\n  'MydicoCRM.ProductGroup.updated': 'Chỉnh sửa Nhóm sản phẩm thành công',\n  'MydicoCRM.ProductBrand.created': 'Tạo mới Thương hiệu thành công',\n  'MydicoCRM.ProductBrand.updated': 'Chỉnh sửa Thương hiệu thành công',\n  'MydicoCRM.Product.created': 'Tạo mới sản phẩm thành công',\n  'MydicoCRM.Product.updated': 'Chỉnh sửa sản phẩm thành công',\n  'MydicoCRM.Customer.created': 'Tạo mới khách hàng thành công',\n  'MydicoCRM.Customer.updated': 'Chỉnh sửa khách hàng thành công',\n  'MydicoCRM.CustomerType.created': 'Tạo mới loại khách hàng thành công',\n  'MydicoCRM.CustomerType.updated': 'Chỉnh sửa loại khách hàng thành công',\n  'MydicoCRM.CustomerStatus.created': 'Tạo mới trạng thái khách hàng thành công',\n  'MydicoCRM.CustomerStatus.updated': 'Chỉnh sửa trạng thái khách hàng thành công',\n  'MydicoCRM.Store.created': 'Tạo mới kho thành công',\n  'MydicoCRM.Store.updated': 'Chỉnh sửa kho thành công',\n  'MydicoCRM.Order.created': 'Tạo mới đơn hàng thành công',\n  'MydicoCRM.Order.updated': 'Chỉnh sửa đơn hàng thành công',\n  'MydicoCRM.Order.status.updated': 'Cập nhật trạng thái đơn hàng thành công',\n  'MydicoCRM.StoreInput.created': 'Tạo mới phiếu kho thành công',\n  'MydicoCRM.StoreInput.updated': 'Chỉnh sửa phiếu kho thành công',\n  'MydicoCRM.StoreInput.status.updated': 'Cập nhật trạng thái phiếu thành công',\n};\n\n// const addErrorAlert = (key?) => {\n//   toast.error(statusError[key.status] ? statusError[key.status] : key.error, centerToast);\n// };\n\nexport default () => (next) => (action) => {\n  if (action.payload) {\n    if (action.payload && (action.payload.statusCode === 201 || action.payload.statusCode === 200)) {\n      const headers = action.payload.headers;\n      let alert = null;\n      Object.entries(headers).forEach(([k, v]) => {\n        if (k.toLowerCase().endsWith('mydicocrm-alert')) {\n          alert = v;\n        }\n      });\n      toastSuccess(successMessageMapping[alert]);\n    } else {\n      toastError(action.payload.message || statusError[action.payload.statusCode]);\n    }\n  }\n\n  return next(action);\n};\n"]}]}