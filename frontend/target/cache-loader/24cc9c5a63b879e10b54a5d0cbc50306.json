{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/config/notification-middleware.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/config/notification-middleware.js","mtime":1618955271507},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICdyZWFjdC1qaGlwc3Rlcic7CmltcG9ydCB7IFRvYXN0RXJyb3IsIFRvYXN0U3VjY2VzcyB9IGZyb20gJy4vdG9hc3Qtc3R5bGUnOwp2YXIgc3RhdHVzRXJyb3IgPSB7CiAgNDAxOiAnQuG6oW4gY2jGsGEgxJHEg25nIG5o4bqtcCB2w6BvIGjhu4cgdGjhu5FuZycsCiAgNDAwOiAnQuG6oW4gxJHDoyBuaOG6rXAgZOG7ryBsaeG7h3Uga2jDtG5nIMSRw7puZycsCiAgNDAzOiAnQuG6oW4ga2jDtG5nIGPDsyBxdXnhu4FuIHRo4buxYyBoaeG7h24gaMOgbmggxJHhu5luZyBuw6B5JywKICA0MDk6ICdE4buvIGxp4buHdSDEkcOjIHThu5NuIHThuqFpIHRyw6puIGjhu4cgdGjhu5FuZy4nLAogIDUwMDogJ0zhu5dpIGjhu4cgdGjhu5FuZy4gVnVpIGzDsm5nIHRo4butIGzhuqFpJywKICA0MjI6ICdM4buXaSBo4buHIHRo4buRbmcuIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaScKfTsKdmFyIHN1Y2Nlc3NNZXNzYWdlTWFwcGluZyA9IHsKICAnTXlkaWNvQ1JNLlByb2R1Y3RHcm91cC5jcmVhdGVkJzogJ1ThuqFvIG3hu5tpIE5ow7NtIHPhuqNuIHBo4bqpbSB0aMOgbmggY8O0bmcnLAogICdNeWRpY29DUk0uUHJvZHVjdEdyb3VwLnVwZGF0ZWQnOiAnQ2jhu4luaCBz4butYSBOaMOzbSBz4bqjbiBwaOG6qW0gdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLlByb2R1Y3RCcmFuZC5jcmVhdGVkJzogJ1ThuqFvIG3hu5tpIFRoxrDGoW5nIGhp4buHdSB0aMOgbmggY8O0bmcnLAogICdNeWRpY29DUk0uUHJvZHVjdEJyYW5kLnVwZGF0ZWQnOiAnQ2jhu4luaCBz4butYSBUaMawxqFuZyBoaeG7h3UgdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLlByb2R1Y3QuY3JlYXRlZCc6ICdU4bqhbyBt4bubaSBz4bqjbiBwaOG6qW0gdGjDoG5oIGPDtG5nJywKICAnTXlkaWNvQ1JNLlByb2R1Y3QudXBkYXRlZCc6ICdDaOG7iW5oIHPhu61hIHPhuqNuIHBo4bqpbSB0aMOgbmggY8O0bmcnCn07IC8vIGNvbnN0IGFkZEVycm9yQWxlcnQgPSAoa2V5PykgPT4gewovLyAgIHRvYXN0LmVycm9yKHN0YXR1c0Vycm9yW2tleS5zdGF0dXNdID8gc3RhdHVzRXJyb3Jba2V5LnN0YXR1c10gOiBrZXkuZXJyb3IsIGNlbnRlclRvYXN0KTsKLy8gfTsKCnZhciBhZGRFcnJvckFsZXJ0ID0gZnVuY3Rpb24gYWRkRXJyb3JBbGVydChrZXkpIHsKICBUb2FzdEVycm9yKHN0YXR1c0Vycm9yW2tleS5zdGF0dXNdID8gc3RhdHVzRXJyb3Jba2V5LnN0YXR1c10gOiBrZXkuZXJyb3IpOwp9OwoKZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7CiAgICAgIGlmIChhY3Rpb24ucGF5bG9hZCkgewogICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZCAmJiAoYWN0aW9uLnBheWxvYWQuc3RhdHVzQ29kZSA9PT0gMjAxIHx8IGFjdGlvbi5wYXlsb2FkLnN0YXR1c0NvZGUgPT09IDIwMCkpIHsKICAgICAgICAgIHZhciBoZWFkZXJzID0gYWN0aW9uLnBheWxvYWQuaGVhZGVyczsKICAgICAgICAgIHZhciBhbGVydCA9IG51bGw7CiAgICAgICAgICBPYmplY3QuZW50cmllcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgICAgICAgayA9IF9yZWYyWzBdLAogICAgICAgICAgICAgICAgdiA9IF9yZWYyWzFdOwoKICAgICAgICAgICAgaWYgKGsudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnbXlkaWNvY3JtLWFsZXJ0JykpIHsKICAgICAgICAgICAgICBhbGVydCA9IHY7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgVG9hc3RTdWNjZXNzKHN1Y2Nlc3NNZXNzYWdlTWFwcGluZ1thbGVydF0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBUb2FzdEVycm9yKGFjdGlvbi5wYXlsb2FkLm1lc3NhZ2UgfHwgc3RhdHVzRXJyb3JbYWN0aW9uLnBheWxvYWQuc3RhdHVzQ29kZV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTsKICAgIH07CiAgfTsKfSk7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/config/notification-middleware.js"],"names":["isPromise","ToastError","ToastSuccess","statusError","successMessageMapping","addErrorAlert","key","status","error","next","action","payload","statusCode","headers","alert","Object","entries","forEach","k","v","toLowerCase","endsWith","message"],"mappings":";;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,gBAA1B;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,eAAzC;AACA,IAAMC,WAAW,GAAG;AAClB,OAAK,iCADa;AAElB,OAAK,gCAFa;AAGlB,OAAK,4CAHa;AAIlB,OAAK,mCAJa;AAKlB,OAAK,gCALa;AAMlB,OAAK;AANa,CAApB;AASA,IAAMC,qBAAqB,GAAG;AAC5B,oCAAkC,kCADN;AAE5B,oCAAkC,oCAFN;AAG5B,oCAAkC,gCAHN;AAI5B,oCAAkC,kCAJN;AAK5B,+BAA6B,6BALD;AAM5B,+BAA6B;AAND,CAA9B,C,CASA;AACA;AACA;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,GAAG,EAAI;AAC3BL,EAAAA,UAAU,CAACE,WAAW,CAACG,GAAG,CAACC,MAAL,CAAX,GAA0BJ,WAAW,CAACG,GAAG,CAACC,MAAL,CAArC,GAAoDD,GAAG,CAACE,KAAzD,CAAV;AACD,CAFD;;AAGA,gBAAe;AAAA,SAAM,UAAAC,IAAI;AAAA,WAAI,UAAAC,MAAM,EAAI;AACrC,UAAIA,MAAM,CAACC,OAAX,EAAoB;AAClB,YAAID,MAAM,CAACC,OAAP,KAAmBD,MAAM,CAACC,OAAP,CAAeC,UAAf,KAA8B,GAA9B,IAAqCF,MAAM,CAACC,OAAP,CAAeC,UAAf,KAA8B,GAAtF,CAAJ,EAAgG;AAC9F,cAAMC,OAAO,GAAGH,MAAM,CAACC,OAAP,CAAeE,OAA/B;AACA,cAAIC,KAAK,GAAG,IAAZ;AACAC,UAAAA,MAAM,CAACC,OAAP,CAAeH,OAAf,EAAwBI,OAAxB,CAAgC,gBAAY;AAAA;AAAA,gBAAVC,CAAU;AAAA,gBAAPC,CAAO;;AAC1C,gBAAID,CAAC,CAACE,WAAF,GAAgBC,QAAhB,CAAyB,iBAAzB,CAAJ,EAAiD;AAC/CP,cAAAA,KAAK,GAAGK,CAAR;AACD;AACF,WAJD;AAKAjB,UAAAA,YAAY,CAACE,qBAAqB,CAACU,KAAD,CAAtB,CAAZ;AACD,SATD,MASO;AACLb,UAAAA,UAAU,CAACS,MAAM,CAACC,OAAP,CAAeW,OAAf,IAA0BnB,WAAW,CAACO,MAAM,CAACC,OAAP,CAAeC,UAAhB,CAAtC,CAAV;AACD;AACF;;AAED,aAAOH,IAAI,CAACC,MAAD,CAAX;AACD,KAjBwB;AAAA,GAAV;AAAA,CAAf","sourcesContent":["import { isPromise } from 'react-jhipster';\nimport { ToastError, ToastSuccess } from './toast-style';\nconst statusError = {\n  401: 'Bạn chưa đăng nhập vào hệ thống',\n  400: 'Bạn đã nhập dữ liệu không đúng',\n  403: 'Bạn không có quyền thực hiện hành động này',\n  409: 'Dữ liệu đã tồn tại trên hệ thống.',\n  500: 'Lỗi hệ thống. Vui lòng thử lại',\n  422: 'Lỗi hệ thống. Vui lòng thử lại'\n};\n\nconst successMessageMapping = {\n  'MydicoCRM.ProductGroup.created': 'Tạo mới Nhóm sản phẩm thành công',\n  'MydicoCRM.ProductGroup.updated': 'Chỉnh sửa Nhóm sản phẩm thành công',\n  'MydicoCRM.ProductBrand.created': 'Tạo mới Thương hiệu thành công',\n  'MydicoCRM.ProductBrand.updated': 'Chỉnh sửa Thương hiệu thành công',\n  'MydicoCRM.Product.created': 'Tạo mới sản phẩm thành công',\n  'MydicoCRM.Product.updated': 'Chỉnh sửa sản phẩm thành công',\n};\n\n// const addErrorAlert = (key?) => {\n//   toast.error(statusError[key.status] ? statusError[key.status] : key.error, centerToast);\n// };\n\nconst addErrorAlert = key => {\n  ToastError(statusError[key.status] ? statusError[key.status] : key.error);\n};\nexport default () => next => action => {\n  if (action.payload) {\n    if (action.payload && (action.payload.statusCode === 201 || action.payload.statusCode === 200)) {\n      const headers = action.payload.headers;\n      let alert = null;\n      Object.entries(headers).forEach(([k, v]) => {\n        if (k.toLowerCase().endsWith('mydicocrm-alert')) {\n          alert = v;\n        }\n      });\n      ToastSuccess(successMessageMapping[alert]);\n    } else {\n      ToastError(action.payload.message || statusError[action.payload.statusCode]);\n    }\n  }\n\n  return next(action);\n};\n"]}]}