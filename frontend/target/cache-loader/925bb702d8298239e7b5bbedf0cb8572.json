{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Import/warehouse-import.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Import/warehouse-import.js","mtime":1622371712810},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IENDYXJkQm9keSwgQ0JhZGdlLCBDQnV0dG9uLCBDQ29sbGFwc2UsIENEYXRhVGFibGUsIENDYXJkLCBDQ2FyZEhlYWRlciwgQ1JvdywgQ1BhZ2luYXRpb24gfSBmcm9tICdAY29yZXVpL3JlYWN0L2xpYic7IC8vIGltcG9ydCB1c2Vyc0RhdGEgZnJvbSAnLi4vLi4vLi4vdXNlcnMvVXNlcnNEYXRhLmpzJzsKCmltcG9ydCBDSWNvbiBmcm9tICdAY29yZXVpL2ljb25zLXJlYWN0L2xpYi9DSWNvbic7CmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgZ2V0V2FyZWhvdXNlSW1wb3J0LCB1cGRhdGVXYXJlaG91c2VTdGF0dXNJbXBvcnQgfSBmcm9tICcuL3dhcmVob3VzZS1pbXBvcnQuYXBpLmpzJzsKaW1wb3J0IHsgZ2xvYmFsaXplZFdhcmVob3VzZUltcG9ydFNlbGVjdG9ycywgcmVzZXQgfSBmcm9tICcuL3dhcmVob3VzZS1pbXBvcnQucmVkdWNlci5qcyc7CmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLCBXYXJlaG91c2VJbXBvcnRUeXBlIH0gZnJvbSAnLi9jb250YW50cy5qcyc7CmltcG9ydCB7IGNvbmZpcm1BbGVydCB9IGZyb20gJ3JlYWN0LWNvbmZpcm0tYWxlcnQnOyAvLyBJbXBvcnQKCmltcG9ydCAncmVhY3QtY29uZmlybS1hbGVydC9zcmMvcmVhY3QtY29uZmlybS1hbGVydC5jc3MnOyAvLyBJbXBvcnQgY3NzCgppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCB7IFRhYmxlIH0gZnJvbSAncmVhY3RzdHJhcCc7CmltcG9ydCB7IENDb2wgfSBmcm9tICdAY29yZXVpL3JlYWN0JzsKaW1wb3J0IHsgdXNlclNhZmVTZWxlY3RvciB9IGZyb20gJy4uLy4uL2xvZ2luL2F1dGhlbnRpY2F0ZS5yZWR1Y2VyLmpzJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKdmFyIG1hcHBpbmdTdGF0dXMgPSB7CiAgV0FJVElORzogJ0NI4bucIERVWeG7hlQnLAogIEFQUFJPVkVEOiAnxJDDgyBEVVnhu4ZUJywKICBSRUpFQ1RFRDogJ0tIw5RORyBEVVnhu4ZUJwp9Owp2YXIgbWFwcGluZ1R5cGUgPSB7CiAgTkVXOiAnTmjhuq1wIG3hu5tpJywKICBSRVRVUk46ICdOaOG6rXAgdHLhuqMnLAogIElNUE9SVF9GUk9NX1NUT1JFOiAnTmjhuq1wIHThu6sga2hvIGtow6FjJwp9Owp2YXIgc2VsZWN0QWxsID0gZ2xvYmFsaXplZFdhcmVob3VzZUltcG9ydFNlbGVjdG9ycy5zZWxlY3RBbGw7Cgp2YXIgV2FyZWhvdXNlSW1wb3J0ID0gZnVuY3Rpb24gV2FyZWhvdXNlSW1wb3J0KHByb3BzKSB7CiAgdmFyIF91c2VTZWxlY3RvciA9IHVzZVNlbGVjdG9yKHVzZXJTYWZlU2VsZWN0b3IpLAogICAgICBhY2NvdW50ID0gX3VzZVNlbGVjdG9yLmFjY291bnQ7CgogIHZhciBpc0FkbWluID0gYWNjb3VudC5hdXRob3JpdGllcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBpdGVtID09PSAnUk9MRV9BRE1JTic7CiAgfSkubGVuZ3RoID4gMDsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIF9kZXRhaWxzID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0RGV0YWlscyA9IF91c2VTdGF0ZTJbMV07CgogIHZhciBfdXNlU2VsZWN0b3IyID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUud2FyZWhvdXNlSW1wb3J0OwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IyLmluaXRpYWxTdGF0ZTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgxKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBhY3RpdmVQYWdlID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0QWN0aXZlUGFnZSA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoMTApLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIHNpemUgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRTaXplID0gX3VzZVN0YXRlNlsxXTsKCiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2gocmVzZXQoKSk7CiAgfSwgW10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChnZXRXYXJlaG91c2VJbXBvcnQoewogICAgICBwYWdlOiBhY3RpdmVQYWdlIC0gMSwKICAgICAgc2l6ZTogc2l6ZSwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICB9KSk7CiAgfSwgW2FjdGl2ZVBhZ2UsIHNpemVdKTsKICB2YXIgd2FyZWhvdXNlcyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbCk7CgogIHZhciBjb21wdXRlZEl0ZW1zID0gZnVuY3Rpb24gY29tcHV0ZWRJdGVtcyhpdGVtcykgewogICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgX2l0ZW0kc3RvcmUsIF9pdGVtJGN1c3RvbWVyLCBfaXRlbSRhcHByb3ZlciwgX2l0ZW0kc3RvcmVUcmFuc2ZlcjsKCiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgIHN0b3JlOiAoKF9pdGVtJHN0b3JlID0gaXRlbS5zdG9yZSkgPT09IG51bGwgfHwgX2l0ZW0kc3RvcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJHN0b3JlLm5hbWUpIHx8ICcnLAogICAgICAgIGN1c3RvbWVyOiAoKF9pdGVtJGN1c3RvbWVyID0gaXRlbS5jdXN0b21lcikgPT09IG51bGwgfHwgX2l0ZW0kY3VzdG9tZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGN1c3RvbWVyLm5hbWUpIHx8ICcnLAogICAgICAgIGFwcHJvdmVyOiAoKF9pdGVtJGFwcHJvdmVyID0gaXRlbS5hcHByb3ZlcikgPT09IG51bGwgfHwgX2l0ZW0kYXBwcm92ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGFwcHJvdmVyLmxvZ2luKSB8fCAnJywKICAgICAgICBleHBvcnQ6ICgoX2l0ZW0kc3RvcmVUcmFuc2ZlciA9IGl0ZW0uc3RvcmVUcmFuc2ZlcikgPT09IG51bGwgfHwgX2l0ZW0kc3RvcmVUcmFuc2ZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kc3RvcmVUcmFuc2Zlci5uYW1lKSB8fCAnJywKICAgICAgICBjcmVhdGVkRGF0ZTogbW9tZW50KGl0ZW0uY3JlYXRlZERhdGUpLmZvcm1hdCgnREQtTU0tWVlZWScpCiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgdmFyIHRvZ2dsZURldGFpbHMgPSBmdW5jdGlvbiB0b2dnbGVEZXRhaWxzKGluZGV4KSB7CiAgICB2YXIgcG9zaXRpb24gPSBfZGV0YWlscy5pbmRleE9mKGluZGV4KTsKCiAgICB2YXIgbmV3RGV0YWlscyA9IF9kZXRhaWxzLnNsaWNlKCk7CgogICAgaWYgKHBvc2l0aW9uICE9PSAtMSkgewogICAgICBuZXdEZXRhaWxzLnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICB9IGVsc2UgewogICAgICBuZXdEZXRhaWxzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfZGV0YWlscyksIFtpbmRleF0pOwogICAgfQoKICAgIHNldERldGFpbHMobmV3RGV0YWlscyk7CiAgfTsgLy8gQ29kZQlUw6puIGtobwlOZ8aw4budaSBsacOqbiBs4bqhYwlOxINtIFNpbmgJxJBp4buHbiB0aG/huqFpCU5ow6JuIHZpw6puIHF14bqjbiBsw70JTG/huqFpIGtobwlQaMOibiBsb+G6oWkJU+G7rWEJVOG6oW8gxJHGoW4KCgogIHZhciBmaWVsZHMgPSBbewogICAga2V5OiAnb3JkZXInLAogICAgbGFiZWw6ICdTVFQnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMSUnCiAgICB9LAogICAgZmlsdGVyOiBmYWxzZQogIH0sIHsKICAgIGtleTogJ3Nob3dfZGV0YWlscycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfSwgewogICAga2V5OiAnc3RvcmUnLAogICAgbGFiZWw6ICdUw6puIGtobyBuaOG6rXAnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3R5cGUnLAogICAgbGFiZWw6ICdMb+G6oWkgcGhp4bq/dScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnZXhwb3J0JywKICAgIGxhYmVsOiAnWHXhuqV0IHThu6sga2hvJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdjdXN0b21lcicsCiAgICBsYWJlbDogJ0tow6FjaCBow6BuZycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlZERhdGUnLAogICAgbGFiZWw6ICdOZ8OgeSB04bqhbycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlZEJ5JywKICAgIGxhYmVsOiAnTmfGsOG7nWkgdOG6oW8nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ2FwcHJvdmVyJywKICAgIGxhYmVsOiAnTmfGsOG7nWkgZHV54buHdCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnc3RhdHVzJywKICAgIGxhYmVsOiAnVHLhuqFuZyB0aMOhaScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnYWN0aW9uJywKICAgIGxhYmVsOiAnJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzIwJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfV07CgogIHZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHN0YXR1cykgewogICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuQVBQUk9WRUQ6CiAgICAgICAgcmV0dXJuICdzdWNjZXNzJzsKCiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLlJFSkVDVEVEOgogICAgICAgIHJldHVybiAnZGFuZ2VyJzsKCiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLldBSVRJTkc6CiAgICAgICAgcmV0dXJuICd3YXJuaW5nJzsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuICdwcmltYXJ5JzsKICAgIH0KICB9OwoKICB2YXIgY3N2Q29udGVudCA9IGNvbXB1dGVkSXRlbXMod2FyZWhvdXNlcykubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpdGVtKS5qb2luKCcsJyk7CiAgfSkuam9pbignXG4nKTsKICB2YXIgY3N2Q29kZSA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsU0VQPSwlMEEnICsgZW5jb2RlVVJJQ29tcG9uZW50KGNzdkNvbnRlbnQpOwoKICB2YXIgdG9DcmVhdGVXYXJlaG91c2VJbXBvcnQgPSBmdW5jdGlvbiB0b0NyZWF0ZVdhcmVob3VzZUltcG9ydCgpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL25ldyIpKTsKICB9OwoKICB2YXIgdG9DcmVhdGVXYXJlaG91c2VSZXR1cm4gPSBmdW5jdGlvbiB0b0NyZWF0ZVdhcmVob3VzZVJldHVybigpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL3JldHVybi9uZXciKSk7CiAgfTsKCiAgdmFyIHRvRWRpdFdhcmVob3VzZUltcG9ydCA9IGZ1bmN0aW9uIHRvRWRpdFdhcmVob3VzZUltcG9ydCh1c2VySWQpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgdG9FZGl0V2FyZWhvdXNlUmV0dXJuID0gZnVuY3Rpb24gdG9FZGl0V2FyZWhvdXNlUmV0dXJuKHVzZXJJZCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvcmV0dXJuLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgZGVib3VuY2VkU2VhcmNoQ29sdW1uID0gdXNlQ2FsbGJhY2soXy5kZWJvdW5jZShmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMCkgewogICAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmICghdmFsdWVba2V5XSkgZGVsZXRlIHZhbHVlW2tleV07CiAgICAgIH0pKSBkaXNwYXRjaChnZXRXYXJlaG91c2VJbXBvcnQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgICB9LCB2YWx1ZSkpKTsKICAgIH0KICB9LCAxMDAwKSwgW10pOwoKICB2YXIgb25GaWx0ZXJDb2x1bW4gPSBmdW5jdGlvbiBvbkZpbHRlckNvbHVtbih2YWx1ZSkgewogICAgZGVib3VuY2VkU2VhcmNoQ29sdW1uKHZhbHVlKTsKICB9OwoKICB2YXIgYWxlcnRGdW5jID0gZnVuY3Rpb24gYWxlcnRGdW5jKGl0ZW0sIG1lc3NhZ2UsIG9wZXJhdGlvbikgewogICAgY29uZmlybUFsZXJ0KHsKICAgICAgdGl0bGU6ICdYw6FjIG5o4bqtbicsCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgbGFiZWw6ICfEkOG7k25nIMO9JywKICAgICAgICBvbkNsaWNrOiBvcGVyYXRpb24oaXRlbSkKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnSOG7p3knCiAgICAgIH1dCiAgICB9KTsKICB9OwoKICB2YXIgcmVqZWN0VGlja2V0ID0gZnVuY3Rpb24gcmVqZWN0VGlja2V0KGJpbGwpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiBiaWxsLmlkLAogICAgICAgIHN0YXR1czogV2FyZWhvdXNlSW1wb3J0U3RhdHVzLlJFSkVDVEVELAogICAgICAgIGFjdGlvbjogJ2NhbmNlbCcKICAgICAgfTsKICAgICAgZGlzcGF0Y2godXBkYXRlV2FyZWhvdXNlU3RhdHVzSW1wb3J0KGRhdGEpKTsKICAgIH07CiAgfTsKCiAgdmFyIGFwcHJvdmVUaWNrZXQgPSBmdW5jdGlvbiBhcHByb3ZlVGlja2V0KGJpbGwpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiBiaWxsLmlkLAogICAgICAgIHN0YXR1czogV2FyZWhvdXNlSW1wb3J0U3RhdHVzLkFQUFJPVkVELAogICAgICAgIGFjdGlvbjogJ2FwcHJvdmUnCiAgICAgIH07CiAgICAgIGRpc3BhdGNoKHVwZGF0ZVdhcmVob3VzZVN0YXR1c0ltcG9ydChkYXRhKSk7CiAgICB9OwogIH07CgogIHZhciByZW5kZXJCdXR0b25TdGF0dXMgPSBmdW5jdGlvbiByZW5kZXJCdXR0b25TdGF0dXMoaXRlbSkgewogICAgc3dpdGNoIChpdGVtLnN0YXR1cykgewogICAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5BUFBST1ZFRDoKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuUkVKRUNURUQ6CiAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5XQUlUSU5HOgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgICAgICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUFVUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS9zdG9yZS1pbnB1dHMnOwogICAgICAgIH0pLmxlbmd0aCA+IDApICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gV2FyZWhvdXNlSW1wb3J0VHlwZS5ORVcgPyB0b0VkaXRXYXJlaG91c2VJbXBvcnQoaXRlbS5pZCkgOiB0b0VkaXRXYXJlaG91c2VSZXR1cm4oaXRlbS5pZCk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJ3YXJuaW5nIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsLXBlbmNpbCIKICAgICAgICB9KSwgIkNIXHUxRUM4TkggU1x1MUVFQ0EiKSwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICAgICAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BVVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvc3RvcmUtaW5wdXRzL2FwcHJvdmUnOwogICAgICAgIH0pLmxlbmd0aCA+IDApICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGFsZXJ0RnVuYyhpdGVtLCAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIGR1eeG7h3QgcGhp4bq/dSBuaOG6rXAga2hvIG7DoHkga2jDtG5nJywgYXBwcm92ZVRpY2tldCk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJzdWNjZXNzIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sICJEVVlcdTFFQzZUIiksIChpc0FkbWluIHx8IGFjY291bnQucm9sZS5maWx0ZXIoZnVuY3Rpb24gKHJvbCkgewogICAgICAgICAgcmV0dXJuIHJvbC5tZXRob2QgPT09ICdQVVQnICYmIHJvbC5lbnRpdHkgPT09ICcvYXBpL3N0b3JlLWlucHV0cy9jYW5jZWwnOwogICAgICAgIH0pLmxlbmd0aCA+IDApICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGFsZXJ0RnVuYyhpdGVtLCAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHThu6sgY2jhu5FpIHBoaeG6v3Ugbmjhuq1wIGtobyBuw6B5IGtow7RuZycsIHJlamVjdFRpY2tldCk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTEiCiAgICAgICAgfSwgIktIXHhENE5HIERVWVx1MUVDNlQiKSk7CgogICAgICBkZWZhdWx0OgogICAgICAgIGJyZWFrOwogICAgfQogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2VzcykgewogICAgICBkaXNwYXRjaChnZXRXYXJlaG91c2VJbXBvcnQoKSk7CiAgICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogICAgfQogIH0sIFtpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzXSk7CiAgdmFyIG1lbW9Db21wdXRlZEl0ZW1zID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGl0ZW1zKSB7CiAgICByZXR1cm4gY29tcHV0ZWRJdGVtcyhpdGVtcyk7CiAgfSwgW10pOwogIHZhciBtZW1vTGlzdGVkID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gbWVtb0NvbXB1dGVkSXRlbXMod2FyZWhvdXNlcyk7CiAgfSwgW3dhcmVob3VzZXNdKTsKICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmQsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1ncmlkIgogIH0pLCAiIERhbmggc1x4RTFjaCBwaGlcdTFFQkZ1IG5oXHUxRUFEcCBraG8iLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUE9TVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvc3RvcmUtaW5wdXRzJzsKICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICBvbkNsaWNrOiB0b0NyZWF0ZVdhcmVob3VzZUltcG9ydAogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLXBsdXMiCiAgfSksICIgVGhceEVBbSBtXHUxRURCaSBwaGlcdTFFQkZ1IG5oXHUxRUFEcCBraG8iKSwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BPU1QnICYmIHJvbC5lbnRpdHkgPT09ICcvYXBpL3N0b3JlLWlucHV0cyc7CiAgfSkubGVuZ3RoID4gMCkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJwcmltYXJ5IiwKICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgIGNsYXNzTmFtZTogIm1sLTMiLAogICAgb25DbGljazogdG9DcmVhdGVXYXJlaG91c2VSZXR1cm4KICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1wbHVzIgogIH0pLCAiIFRoXHhFQW0gbVx1MUVEQmkgcGhpXHUxRUJGdSB0clx1MUVBMyBoXHhFMG5nIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICBjbGFzc05hbWU6ICJtYi0yIiwKICAgIGhyZWY6IGNzdkNvZGUsCiAgICBkb3dubG9hZDogImNvcmV1aS10YWJsZS1kYXRhLmNzdiIsCiAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgfSwgIlRcdTFFQTNpIGV4Y2VsICguY3N2KSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICBpdGVtczogbWVtb0xpc3RlZCwKICAgIGZpZWxkczogZmllbGRzLAogICAgY29sdW1uRmlsdGVyOiB0cnVlLAogICAgdGFibGVGaWx0ZXI6IHRydWUsCiAgICBjbGVhbmVyOiB0cnVlLAogICAgaXRlbXNQZXJQYWdlU2VsZWN0OiB7CiAgICAgIGxhYmVsOiAnU+G7kSBsxrDhu6NuZyB0csOqbiBt4buZdCB0cmFuZycsCiAgICAgIHZhbHVlczogWzUwLCAxMDAsIDE1MCwgMjAwXQogICAgfSwKICAgIGl0ZW1zUGVyUGFnZTogc2l6ZSwKICAgIGhvdmVyOiB0cnVlLAogICAgc29ydGVyOiB0cnVlLAogICAgbG9hZGluZzogaW5pdGlhbFN0YXRlLmxvYWRpbmcgLy8gb25Sb3dDbGljaz17KGl0ZW0saW5kZXgsY29sLGUpID0+IGNvbnNvbGUubG9nKGl0ZW0saW5kZXgsY29sLGUpfQogICAgLAogICAgb25QYWdlQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbmV3IHBhZ2U6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2VzQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VzQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlczonLCB2YWwpOwogICAgfSwKICAgIG9uUGFnaW5hdGlvbkNoYW5nZTogZnVuY3Rpb24gb25QYWdpbmF0aW9uQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gc2V0U2l6ZSh2YWwpOwogICAgfSAvLyBvbkZpbHRlcmVkSXRlbXNDaGFuZ2U9eyh2YWwpID0+IGNvbnNvbGUubG9nKCduZXcgZmlsdGVyZWQgaXRlbXM6JywgdmFsKX0KICAgIC8vIG9uU29ydGVyVmFsdWVDaGFuZ2U9eyh2YWwpID0+IGNvbnNvbGUubG9nKCduZXcgc29ydGVyIHZhbHVlOicsIHZhbCl9CiAgICAsCiAgICBvblRhYmxlRmlsdGVyQ2hhbmdlOiBmdW5jdGlvbiBvblRhYmxlRmlsdGVyQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyB0YWJsZSBmaWx0ZXI6JywgdmFsKTsKICAgIH0sCiAgICBvbkNvbHVtbkZpbHRlckNoYW5nZTogb25GaWx0ZXJDb2x1bW4sCiAgICBzY29wZWRTbG90czogewogICAgICBvcmRlcjogZnVuY3Rpb24gb3JkZXIoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaW5kZXggKyAxKTsKICAgICAgfSwKICAgICAgc3RhdHVzOiBmdW5jdGlvbiBzdGF0dXMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQmFkZ2UsIHsKICAgICAgICAgIGNvbG9yOiBnZXRCYWRnZShpdGVtLnN0YXR1cykKICAgICAgICB9LCBtYXBwaW5nU3RhdHVzW2l0ZW0uc3RhdHVzXSkpOwogICAgICB9LAogICAgICB0eXBlOiBmdW5jdGlvbiB0eXBlKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgbWFwcGluZ1R5cGVbaXRlbS50eXBlXSk7CiAgICAgIH0sCiAgICAgIGFjdGlvbjogZnVuY3Rpb24gYWN0aW9uKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicHktMiBkLWZsZXgiCiAgICAgICAgfSwgcmVuZGVyQnV0dG9uU3RhdHVzKGl0ZW0pKTsKICAgICAgfSwKICAgICAgc2hvd19kZXRhaWxzOiBmdW5jdGlvbiBzaG93X2RldGFpbHMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJweS0yIGQtZmxleCIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHRvZ2dsZURldGFpbHMoaXRlbS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICJjaWxab29tIgogICAgICAgIH0pKSk7CiAgICAgIH0sCiAgICAgIGRldGFpbHM6IGZ1bmN0aW9uIGRldGFpbHMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sbGFwc2UsIHsKICAgICAgICAgIHNob3c6IF9kZXRhaWxzLmluY2x1ZGVzKGl0ZW0uaWQpCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiaDUiLCBudWxsLCAiVGhceEY0bmcgdGluIFx1MDExMVx1MDFBMW4gbmhcdTFFQURwIiksIGl0ZW0udHlwZSA9PT0gJ1JFVFVSTicgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICAgICAgc3RyaXBlZDogdHJ1ZSwKICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGhlYWQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjZW50ZXIiCiAgICAgICAgfSwgIiMiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlRceEVBbiBzXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIkR1bmcgdFx4RURjaCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjZW50ZXIiCiAgICAgICAgfSwgIlNcdTFFRDEgbFx1MDFCMFx1MUVFM25nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgICAgIH0sICJcdTAxMTBcdTAxQTFuIGdpXHhFMSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCAiQ2hpXHUxRUJGdCBraFx1MUVBNXUoJSkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgIlRcdTFFRDVuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCAiR2lceEUxIGNoaVx1MUVCRnQga2hcdTFFQTV1IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0aCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJpZ2h0IgogICAgICAgIH0sICJUaFx4RTBuaCB0aVx1MUVDMW4iKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGJvZHkiLCBudWxsLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0uc3RvcmVJbnB1dERldGFpbHMgfHwgW10pKS5tYXAoZnVuY3Rpb24gKGRldGFpbCwgaW5kZXgpIHsKICAgICAgICAgIHZhciBfZGV0YWlsJHByb2R1Y3QsIF9kZXRhaWwkcHJvZHVjdDIsIF9kZXRhaWwkcHJvZHVjdDMsIF9kZXRhaWwkcHJvZHVjdDQsIF9kZXRhaWwkcHJvZHVjdDUsIF9kZXRhaWwkcHJvZHVjdDYsIF9kZXRhaWwkcHJvZHVjdDc7CgogICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIHsKICAgICAgICAgICAga2V5OiBpbmRleAogICAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaW5kZXggKyAxKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKF9kZXRhaWwkcHJvZHVjdCA9IGRldGFpbC5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfZGV0YWlsJHByb2R1Y3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kZXRhaWwkcHJvZHVjdC5uYW1lKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKF9kZXRhaWwkcHJvZHVjdDIgPSBkZXRhaWwucHJvZHVjdCkgPT09IG51bGwgfHwgX2RldGFpbCRwcm9kdWN0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RldGFpbCRwcm9kdWN0Mi52b2x1bWUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBkZXRhaWwucXVhbnRpdHkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBOdW1iZXIoZGV0YWlsLnByaWNlIHx8ICgoX2RldGFpbCRwcm9kdWN0MyA9IGRldGFpbC5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfZGV0YWlsJHByb2R1Y3QzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGV0YWlsJHByb2R1Y3QzLnByaWNlKSkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgICB9KSB8fCAnJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGRldGFpbC5yZWR1Y2VQZXJjZW50LCAiJSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoTnVtYmVyKGRldGFpbC5wcmljZVJlYWwgfHwgKChfZGV0YWlsJHByb2R1Y3Q0ID0gZGV0YWlsLnByb2R1Y3QpID09PSBudWxsIHx8IF9kZXRhaWwkcHJvZHVjdDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kZXRhaWwkcHJvZHVjdDQucHJpY2UpKSAqIGRldGFpbC5xdWFudGl0eSkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgICB9KSB8fCAnJyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIChOdW1iZXIoZGV0YWlsLnByaWNlUmVhbCB8fCAoKF9kZXRhaWwkcHJvZHVjdDUgPSBkZXRhaWwucHJvZHVjdCkgPT09IG51bGwgfHwgX2RldGFpbCRwcm9kdWN0NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RldGFpbCRwcm9kdWN0NS5wcmljZSkpICogZGV0YWlsLnF1YW50aXR5ICogZGV0YWlsLnJlZHVjZVBlcmNlbnQgLyAxMDApLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgICAgfSkgfHwgJycpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoTnVtYmVyKGRldGFpbC5wcmljZVJlYWwgfHwgKChfZGV0YWlsJHByb2R1Y3Q2ID0gZGV0YWlsLnByb2R1Y3QpID09PSBudWxsIHx8IF9kZXRhaWwkcHJvZHVjdDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kZXRhaWwkcHJvZHVjdDYucHJpY2UpKSAqIGRldGFpbC5xdWFudGl0eSAtIE51bWJlcihkZXRhaWwucHJpY2VSZWFsIHx8ICgoX2RldGFpbCRwcm9kdWN0NyA9IGRldGFpbC5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfZGV0YWlsJHByb2R1Y3Q3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGV0YWlsJHByb2R1Y3Q3LnByaWNlKSkgKiBkZXRhaWwucXVhbnRpdHkgKiBkZXRhaWwucmVkdWNlUGVyY2VudCAvIDEwMCkudG9Mb2NhbGVTdHJpbmcoJ2l0LUlUJywgewogICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgICB9KSB8fCAnJykpOwogICAgICAgIH0pKSkgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICAgICAgc3RyaXBlZDogdHJ1ZSwKICAgICAgICAgIHJlc3BvbnNpdmU6IHRydWUKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGhlYWQiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidHIiLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjZW50ZXIiCiAgICAgICAgfSwgIiMiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIlRceEVBbiBzXHUxRUEzbiBwaFx1MUVBOW0iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRoIiwgbnVsbCwgIkR1bmcgdFx4RURjaCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGgiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjZW50ZXIiCiAgICAgICAgfSwgIlNcdTFFRDEgbFx1MDFCMFx1MUVFM25nIikpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRib2R5IiwgbnVsbCwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpdGVtLnN0b3JlSW5wdXREZXRhaWxzIHx8IFtdKSkubWFwKGZ1bmN0aW9uIChkZXRhaWwsIGluZGV4KSB7CiAgICAgICAgICB2YXIgX2RldGFpbCRwcm9kdWN0OCwgX2RldGFpbCRwcm9kdWN0OTsKCiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgewogICAgICAgICAgICBrZXk6IGluZGV4CiAgICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpbmRleCArIDEpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoX2RldGFpbCRwcm9kdWN0OCA9IGRldGFpbC5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfZGV0YWlsJHByb2R1Y3Q4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGV0YWlsJHByb2R1Y3Q4Lm5hbWUpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoX2RldGFpbCRwcm9kdWN0OSA9IGRldGFpbC5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfZGV0YWlsJHByb2R1Y3Q5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZGV0YWlsJHByb2R1Y3Q5LnZvbHVtZSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGRldGFpbC5xdWFudGl0eSkpOwogICAgICAgIH0pKSksIGl0ZW0udHlwZSA9PT0gJ1JFVFVSTicgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgICAgbGc6ICI0IiwKICAgICAgICAgIHNtOiAiNSIKICAgICAgICB9LCAiR2hpIGNoXHhGQTogIiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5ub3RlKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICAgIGxnOiAiNCIsCiAgICAgICAgICBzbTogIjUiLAogICAgICAgICAgY2xhc3NOYW1lOiAibWwtYXV0byIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZSwgewogICAgICAgICAgY2xhc3NOYW1lOiAidGFibGUtY2xlYXIiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRib2R5IiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIlRcdTFFRDVuZyBzXHUxRUQxIGxcdTAxQjBcdTFFRTNuZyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5zdG9yZUlucHV0RGV0YWlscy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY3VycmVudCkgewogICAgICAgICAgcmV0dXJuIHN1bSArIGN1cnJlbnQucXVhbnRpdHk7CiAgICAgICAgfSwgMCkpIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsICJUXHUxRUQ1bmcgdGlcdTFFQzFuIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCBOdW1iZXIoKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS50b3RhbE1vbmV5KSB8fCAnMCcpLnRvTG9jYWxlU3RyaW5nKCdpdC1JVCcsIHsKICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLAogICAgICAgICAgY3VycmVuY3k6ICdWTkQnCiAgICAgICAgfSkgfHwgJycpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRyIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAibGVmdCIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgIkNoaVx1MUVCRnQga2hcdTFFQTV1IikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyaWdodCIKICAgICAgICB9LCBOdW1iZXIoKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS5yZWR1Y2VNb25leSkgfHwgJzAnKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgIH0pIHx8ICcnKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ciIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImxlZnQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsICJUaVx1MUVDMW4gdGhhbmggdG9ceEUxbiIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicmlnaHQiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIE51bWJlcigoaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLnJlYWxNb25leSkgfHwgJzAnKS50b0xvY2FsZVN0cmluZygnaXQtSVQnLCB7CiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywKICAgICAgICAgIGN1cnJlbmN5OiAnVk5EJwogICAgICAgIH0pIHx8ICcnKSkpKSkpKSkpOwogICAgICB9CiAgICB9CiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENQYWdpbmF0aW9uLCB7CiAgICBhY3RpdmVQYWdlOiBhY3RpdmVQYWdlLAogICAgcGFnZXM6IE1hdGguZmxvb3IoaW5pdGlhbFN0YXRlLnRvdGFsSXRlbSAvIHNpemUpICsgMSwKICAgIG9uQWN0aXZlUGFnZUNoYW5nZTogZnVuY3Rpb24gb25BY3RpdmVQYWdlQ2hhbmdlKGkpIHsKICAgICAgcmV0dXJuIHNldEFjdGl2ZVBhZ2UoaSk7CiAgICB9CiAgfSkpKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFdhcmVob3VzZUltcG9ydDs="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Import/warehouse-import.js"],"names":["React","useEffect","useState","useCallback","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CPagination","CIcon","useDispatch","useSelector","getWarehouseImport","updateWarehouseStatusImport","globalizedWarehouseImportSelectors","reset","useHistory","WarehouseImportStatus","WarehouseImportType","confirmAlert","moment","Table","CCol","userSafeSelector","_","mappingStatus","WAITING","APPROVED","REJECTED","mappingType","NEW","RETURN","IMPORT_FROM_STORE","selectAll","WarehouseImport","props","account","isAdmin","authorities","filter","item","length","details","setDetails","state","warehouseImport","initialState","activePage","setActivePage","size","setSize","dispatch","history","page","sort","warehouses","computedItems","items","map","store","name","customer","approver","login","export","storeTransfer","createdDate","format","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","getBadge","status","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateWarehouseImport","push","match","url","toCreateWarehouseReturn","toEditWarehouseImport","userId","toEditWarehouseReturn","debouncedSearchColumn","debounce","value","keys","forEach","onFilterColumn","alertFunc","message","operation","title","buttons","onClick","rejectTicket","bill","data","id","action","approveTicket","renderButtonStatus","role","rol","method","entity","type","updatingSuccess","memoComputedItems","memoListed","useMemo","loading","val","console","log","order","show_details","includes","JSON","parse","stringify","storeInputDetails","detail","product","volume","quantity","Number","price","toLocaleString","style","currency","reducePercent","priceReal","note","reduce","sum","current","totalMoney","reduceMoney","realMoney","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CPagination } from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getWarehouseImport, updateWarehouseStatusImport } from './warehouse-import.api.js';\nimport { globalizedWarehouseImportSelectors, reset } from './warehouse-import.reducer.js';\nimport { useHistory } from 'react-router-dom';\nimport { WarehouseImportStatus, WarehouseImportType } from './contants.js';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nimport moment from 'moment';\nimport { Table } from 'reactstrap';\nimport { CCol } from '@coreui/react';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\nimport _ from 'lodash'\nconst mappingStatus = {\n  WAITING: 'CHỜ DUYỆT',\n  APPROVED: 'ĐÃ DUYỆT',\n  REJECTED: 'KHÔNG DUYỆT'\n};\nconst mappingType = {\n  NEW: 'Nhập mới',\n  RETURN: 'Nhập trả',\n  IMPORT_FROM_STORE: 'Nhập từ kho khác'\n};\nconst { selectAll } = globalizedWarehouseImportSelectors;\n\nconst WarehouseImport = props => {\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  const [details, setDetails] = useState([]);\n  const { initialState } = useSelector(state => state.warehouseImport);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(10);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    dispatch(getWarehouseImport({ page: activePage - 1, size, sort: 'createdDate,DESC' }));\n  }, [activePage, size]);\n\n  const warehouses = useSelector(selectAll);\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        store: item.store?.name || '',\n        customer: item.customer?.name || '',\n        approver: item.approver?.login || '',\n        export: item.storeTransfer?.name || '',\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY')\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  // Code\tTên kho\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại kho\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: { width: '1%' },\n      filter: false\n    },\n    {\n      key: 'show_details',\n      _style: { width: '1%' },\n      filter: false\n    },\n    { key: 'store', label: 'Tên kho nhập', _style: { width: '10%' } },\n    { key: 'type', label: 'Loại phiếu', _style: { width: '10%' } },\n    { key: 'export', label: 'Xuất từ kho', _style: { width: '10%' } },\n    { key: 'customer', label: 'Khách hàng', _style: { width: '10%' } },\n    { key: 'createdDate', label: 'Ngày tạo', _style: { width: '15%' } },\n    { key: 'createdBy', label: 'Người tạo', _style: { width: '10%' } },\n    { key: 'approver', label: 'Người duyệt', _style: { width: '10%' } },\n    { key: 'status', label: 'Trạng thái', _style: { width: '10%' } },\n    {\n      key: 'action',\n      label: '',\n      _style: { width: '20%' },\n      filter: false\n    }\n  ];\n\n  const getBadge = status => {\n    switch (status) {\n      case WarehouseImportStatus.APPROVED:\n        return 'success';\n      case WarehouseImportStatus.REJECTED:\n        return 'danger';\n      case WarehouseImportStatus.WAITING:\n        return 'warning';\n      default:\n        return 'primary';\n    }\n  };\n  const csvContent = computedItems(warehouses)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateWarehouseImport = () => {\n    history.push(`${props.match.url}/new`);\n  };\n  const toCreateWarehouseReturn = () => {\n    history.push(`${props.match.url}/return/new`);\n  };\n  const toEditWarehouseImport = userId => {\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n\n  const toEditWarehouseReturn = userId => {\n    history.push(`${props.match.url}/return/${userId}/edit`);\n  };\n\n  const debouncedSearchColumn = useCallback(\n    _.debounce(value => {\n      if (Object.keys(value).length > 0) {\n        if(Object.keys(value).forEach(key => {\n          if(!value[key]) delete value[key]\n        }))\n        dispatch(getWarehouseImport({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n      }\n    }, 1000),\n    []\n  );\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value)\n  };\n\n  const alertFunc = (item, message, operation) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: message,\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: operation(item)\n        },\n        {\n          label: 'Hủy'\n        }\n      ]\n    });\n  };\n\n  const rejectTicket = bill => () => {\n    const data = { id: bill.id, status: WarehouseImportStatus.REJECTED, action: 'cancel' };\n    dispatch(updateWarehouseStatusImport(data));\n  };\n\n  const approveTicket = bill => () => {\n    const data = { id: bill.id, status: WarehouseImportStatus.APPROVED, action: 'approve' };\n    dispatch(updateWarehouseStatusImport(data));\n  };\n\n  const renderButtonStatus = item => {\n    switch (item.status) {\n      case WarehouseImportStatus.APPROVED:\n      case WarehouseImportStatus.REJECTED:\n        return null;\n      case WarehouseImportStatus.WAITING:\n        return (\n          <CRow>\n            {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/store-inputs').length > 0) && (\n              <CButton\n                onClick={() => {\n                  item.type === WarehouseImportType.NEW ? toEditWarehouseImport(item.id) : toEditWarehouseReturn(item.id);\n                }}\n                color=\"warning\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n                className=\"mr-1\"\n              >\n                <CIcon name=\"cil-pencil\" />\n                CHỈNH SỬA\n              </CButton>\n            )}\n            {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/store-inputs/approve').length > 0) && (\n              <CButton\n                onClick={() => {\n                  alertFunc(item, 'Bạn có chắc chắn muốn duyệt phiếu nhập kho này không', approveTicket);\n                }}\n                color=\"success\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n                className=\"mr-1\"\n              >\n                DUYỆT\n              </CButton>\n            )}\n            {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/store-inputs/cancel').length > 0) && (\n              <CButton\n                onClick={() => {\n                  alertFunc(item, 'Bạn có chắc chắn muốn từ chối phiếu nhập kho này không', rejectTicket);\n                }}\n                color=\"danger\"\n                variant=\"outline\"\n                shape=\"square\"\n                size=\"sm\"\n                className=\"mr-1\"\n              >\n                KHÔNG DUYỆT\n              </CButton>\n            )}\n          </CRow>\n        );\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(getWarehouseImport());\n      dispatch(reset());\n    }\n  }, [initialState.updatingSuccess]);\n\n  const memoComputedItems = React.useCallback(items => computedItems(items), []);\n  const memoListed = React.useMemo(() => memoComputedItems(warehouses), [warehouses]);\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách phiếu nhập kho\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/store-inputs').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseImport}>\n            <CIcon name=\"cil-plus\" /> Thêm mới phiếu nhập kho\n          </CButton>\n        )}\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/store-inputs').length > 0) && (\n          <CButton color=\"primary\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseReturn}>\n            <CIcon name=\"cil-plus\" /> Thêm mới phiếu trả hàng\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CDataTable\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [50, 100, 150, 200] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          loading={initialState.loading}\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={val => console.log('new page:', val)}\n          onPagesChange={val => console.log('new pages:', val)}\n          onPaginationChange={val => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={val => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            status: item => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{mappingStatus[item.status]}</CBadge>\n              </td>\n            ),\n            type: item => <td>{mappingType[item.type]}</td>,\n            action: item => {\n              return <td className=\"py-2 d-flex\">{renderButtonStatus(item)}</td>;\n            },\n            show_details: item => {\n              return (\n                <td className=\"py-2 d-flex\">\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                </td>\n              );\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin đơn nhập</h5>\n                    {item.type === 'RETURN' ? (\n                      <Table striped responsive>\n                        <thead>\n                          <tr>\n                            <th className=\"center\">#</th>\n                            <th>Tên sản phẩm</th>\n                            <th>Dung tích</th>\n                            <th className=\"center\">Số lượng</th>\n                            <th className=\"right\">Đơn giá</th>\n                            <th className=\"right\">Chiết khấu(%)</th>\n                            <th className=\"right\">Tổng</th>\n                            <th className=\"right\">Giá chiết khấu</th>\n                            <th className=\"right\">Thành tiền</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {JSON.parse(JSON.stringify(item.storeInputDetails || [])).map((detail, index) => {\n                            return (\n                              <tr key={index}>\n                                <td>{index + 1}</td>\n                                <td>{detail.product?.name}</td>\n                                <td>{detail.product?.volume}</td>\n                                <td>{detail.quantity}</td>\n                                <td>\n                                  {Number(detail.price || detail.product?.price).toLocaleString('it-IT', {\n                                    style: 'currency',\n                                    currency: 'VND'\n                                  }) || ''}\n                                </td>\n                                <td>{detail.reducePercent}%</td>\n                                <td>\n                                  {(Number(detail.priceReal || detail.product?.price) * detail.quantity).toLocaleString('it-IT', {\n                                    style: 'currency',\n                                    currency: 'VND'\n                                  }) || ''}\n                                </td>\n                                <td>\n                                  {(\n                                    (Number(detail.priceReal || detail.product?.price) * detail.quantity * detail.reducePercent) /\n                                    100\n                                  ).toLocaleString('it-IT', {\n                                    style: 'currency',\n                                    currency: 'VND'\n                                  }) || ''}\n                                </td>\n                                <td>\n                                  {(\n                                    Number(detail.priceReal || detail.product?.price) * detail.quantity -\n                                    (Number(detail.priceReal || detail.product?.price) * detail.quantity * detail.reducePercent) / 100\n                                  ).toLocaleString('it-IT', {\n                                    style: 'currency',\n                                    currency: 'VND'\n                                  }) || ''}\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </Table>\n                    ) : (\n                      <Table striped responsive>\n                        <thead>\n                          <tr>\n                            <th className=\"center\">#</th>\n                            <th>Tên sản phẩm</th>\n                            <th>Dung tích</th>\n                            <th className=\"center\">Số lượng</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {JSON.parse(JSON.stringify(item.storeInputDetails || [])).map((detail, index) => {\n                            return (\n                              <tr key={index}>\n                                <td>{index + 1}</td>\n                                <td>{detail.product?.name}</td>\n                                <td>{detail.product?.volume}</td>\n                                <td>{detail.quantity}</td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </Table>\n                    )}\n                    {item.type === 'RETURN' && (\n                      <CRow>\n                        <CCol lg=\"4\" sm=\"5\">\n                          Ghi chú: <strong>{item?.note}</strong>\n                        </CCol>\n                        <CCol lg=\"4\" sm=\"5\" className=\"ml-auto\">\n                          <Table className=\"table-clear\">\n                            <tbody>\n                              <tr>\n                                <td className=\"left\">\n                                  <strong>Tổng số lượng</strong>\n                                </td>\n                                <td className=\"right\">\n                                  {item?.storeInputDetails.reduce((sum, current) => sum + current.quantity, 0) || ''}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td className=\"left\">\n                                  <strong>Tổng tiền</strong>\n                                </td>\n                                <td className=\"right\">\n                                  {Number(item?.totalMoney || '0').toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td className=\"left\">\n                                  <strong>Chiết khấu</strong>\n                                </td>\n                                <td className=\"right\">\n                                  {Number(item?.reduceMoney || '0').toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                                </td>\n                              </tr>\n                              <tr>\n                                <td className=\"left\">\n                                  <strong>Tiền thanh toán</strong>\n                                </td>\n                                <td className=\"right\">\n                                  <strong>\n                                    {Number(item?.realMoney || '0').toLocaleString('it-IT', { style: 'currency', currency: 'VND' }) || ''}\n                                  </strong>\n                                </td>\n                              </tr>\n                            </tbody>\n                          </Table>\n                        </CCol>\n                      </CRow>\n                    )}\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default WarehouseImport;\n"]}]}