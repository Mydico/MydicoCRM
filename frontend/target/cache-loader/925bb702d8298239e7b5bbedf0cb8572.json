{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Import/warehouse-import.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Import/warehouse-import.js","mtime":1621019308279},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsgLy8gaW1wb3J0IHVzZXJzRGF0YSBmcm9tICcuLi8uLi8uLi91c2Vycy9Vc2Vyc0RhdGEuanMnOwoKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKOwppbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCB7IGdldFdhcmVob3VzZUltcG9ydCwgdXBkYXRlV2FyZWhvdXNlU3RhdHVzSW1wb3J0IH0gZnJvbSAnLi93YXJlaG91c2UtaW1wb3J0LmFwaS5qcyc7CmltcG9ydCB7IGdsb2JhbGl6ZWRXYXJlaG91c2VJbXBvcnRTZWxlY3RvcnMsIHJlc2V0IH0gZnJvbSAnLi93YXJlaG91c2UtaW1wb3J0LnJlZHVjZXIuanMnOwppbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7CmltcG9ydCB7IFdhcmVob3VzZUltcG9ydFN0YXR1cywgV2FyZWhvdXNlSW1wb3J0VHlwZSB9IGZyb20gJy4vY29udGFudHMuanMnOwppbXBvcnQgeyBjb25maXJtQWxlcnQgfSBmcm9tICdyZWFjdC1jb25maXJtLWFsZXJ0JzsgLy8gSW1wb3J0CgppbXBvcnQgJ3JlYWN0LWNvbmZpcm0tYWxlcnQvc3JjL3JlYWN0LWNvbmZpcm0tYWxlcnQuY3NzJzsgLy8gSW1wb3J0IGNzcwoKdmFyIG1hcHBpbmdTdGF0dXMgPSB7CiAgV0FJVElORzogJ0NI4bucIERVWeG7hlQnLAogIEFQUFJPVkVEOiAnxJDDgyBEVVnhu4ZUJywKICBSRUpFQ1RFRDogJ0tIw5RORyBEVVnhu4ZUJwp9Owp2YXIgbWFwcGluZ1R5cGUgPSB7CiAgTkVXOiAnTmjhuq1wIG3hu5tpJywKICBSRVRVUk46ICdOaOG6rXAgdHLhuqMnLAogIElNUE9SVF9GUk9NX1NUT1JFOiAnTmjhuq1wIHThu6sga2hvIGtow6FjJwp9OwoKdmFyIFdhcmVob3VzZUltcG9ydCA9IGZ1bmN0aW9uIFdhcmVob3VzZUltcG9ydChwcm9wcykgewogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBfZGV0YWlscyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldERldGFpbHMgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUud2FyZWhvdXNlSW1wb3J0OwogIH0pLAogICAgICBpbml0aWFsU3RhdGUgPSBfdXNlU2VsZWN0b3IuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKDEpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRBY3RpdmVQYWdlID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZSgyMCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2l6ZSA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldFNpemUgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChyZXNldCgpKTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChzaXplICE9IDIwKSB7CiAgICAgIGRpc3BhdGNoKGdldFdhcmVob3VzZUltcG9ydCh7CiAgICAgICAgcGFnZTogYWN0aXZlUGFnZSAtIDEsCiAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICBzb3J0OiAnY3JlYXRlZERhdGUsZGVzYycKICAgICAgfSkpOwogICAgfQogIH0sIFthY3RpdmVQYWdlLCBzaXplXSk7CiAgdmFyIHNlbGVjdEFsbCA9IGdsb2JhbGl6ZWRXYXJlaG91c2VJbXBvcnRTZWxlY3RvcnMuc2VsZWN0QWxsOwogIHZhciB3YXJlaG91c2VzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsKTsKCiAgdmFyIGNvbXB1dGVkSXRlbXMgPSBmdW5jdGlvbiBjb21wdXRlZEl0ZW1zKGl0ZW1zKSB7CiAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBfaXRlbSRzdG9yZSwgX2l0ZW0kY3VzdG9tZXIsIF9pdGVtJGFwcHJvdmVyLCBfaXRlbSRzdG9yZVRyYW5zZmVyOwoKICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgc3RvcmU6ICgoX2l0ZW0kc3RvcmUgPSBpdGVtLnN0b3JlKSA9PT0gbnVsbCB8fCBfaXRlbSRzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kc3RvcmUubmFtZSkgfHwgJycsCiAgICAgICAgY3VzdG9tZXI6ICgoX2l0ZW0kY3VzdG9tZXIgPSBpdGVtLmN1c3RvbWVyKSA9PT0gbnVsbCB8fCBfaXRlbSRjdXN0b21lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kY3VzdG9tZXIubmFtZSkgfHwgJycsCiAgICAgICAgYXBwcm92ZXI6ICgoX2l0ZW0kYXBwcm92ZXIgPSBpdGVtLmFwcHJvdmVyKSA9PT0gbnVsbCB8fCBfaXRlbSRhcHByb3ZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kYXBwcm92ZXIubG9naW4pIHx8ICcnLAogICAgICAgIGV4cG9ydDogKChfaXRlbSRzdG9yZVRyYW5zZmVyID0gaXRlbS5zdG9yZVRyYW5zZmVyKSA9PT0gbnVsbCB8fCBfaXRlbSRzdG9yZVRyYW5zZmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRzdG9yZVRyYW5zZmVyLm5hbWUpIHx8ICcnCiAgICAgIH0pOwogICAgfSk7CiAgfTsKCiAgdmFyIHRvZ2dsZURldGFpbHMgPSBmdW5jdGlvbiB0b2dnbGVEZXRhaWxzKGluZGV4KSB7CiAgICB2YXIgcG9zaXRpb24gPSBfZGV0YWlscy5pbmRleE9mKGluZGV4KTsKCiAgICB2YXIgbmV3RGV0YWlscyA9IF9kZXRhaWxzLnNsaWNlKCk7CgogICAgaWYgKHBvc2l0aW9uICE9PSAtMSkgewogICAgICBuZXdEZXRhaWxzLnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICB9IGVsc2UgewogICAgICBuZXdEZXRhaWxzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfZGV0YWlscyksIFtpbmRleF0pOwogICAgfQoKICAgIHNldERldGFpbHMobmV3RGV0YWlscyk7CiAgfTsgLy8gQ29kZQlUw6puIGtobwlOZ8aw4budaSBsacOqbiBs4bqhYwlOxINtIFNpbmgJxJBp4buHbiB0aG/huqFpCU5ow6JuIHZpw6puIHF14bqjbiBsw70JTG/huqFpIGtobwlQaMOibiBsb+G6oWkJU+G7rWEJVOG6oW8gxJHGoW4KCgogIHZhciBmaWVsZHMgPSBbewogICAga2V5OiAnb3JkZXInLAogICAgbGFiZWw6ICdTVFQnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMSUnCiAgICB9LAogICAgZmlsdGVyOiBmYWxzZQogIH0sIHsKICAgIGtleTogJ3Nob3dfZGV0YWlscycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfSwgewogICAga2V5OiAnc3RvcmUnLAogICAgbGFiZWw6ICdUw6puIGtobyBuaOG6rXAnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3R5cGUnLAogICAgbGFiZWw6ICdMb+G6oWkgcGhp4bq/dScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnZXhwb3J0JywKICAgIGxhYmVsOiAnWHXhuqV0IHThu6sga2hvJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdjdXN0b21lcicsCiAgICBsYWJlbDogJ0tow6FjaCBow6BuZycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlZERhdGUnLAogICAgbGFiZWw6ICdOZ8OgeSB04bqhbycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlZEJ5JywKICAgIGxhYmVsOiAnTmfGsOG7nWkgdOG6oW8nLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ2FwcHJvdmVyJywKICAgIGxhYmVsOiAnTmfGsOG7nWkgZHV54buHdCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnc3RhdHVzJywKICAgIGxhYmVsOiAnVHLhuqFuZyB0aMOhaScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAnYWN0aW9uJywKICAgIGxhYmVsOiAnJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzIwJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfV07CiAgdmFyIGZpZWxkc0RldGFpbCA9IFt7CiAgICBrZXk6ICdvcmRlcicsCiAgICBsYWJlbDogJ1NUVCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxJScKICAgIH0sCiAgICBmaWx0ZXI6IGZhbHNlCiAgfSwgewogICAga2V5OiAncHJvZHVjdE5hbWUnLAogICAgbGFiZWw6ICdUw6puIHPhuqNuIHBo4bqpbScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfSwgewogICAga2V5OiAndW5pdCcsCiAgICBsYWJlbDogJ8SQxqFuIHbhu4snLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3ZvbHVtZScsCiAgICBsYWJlbDogJ0R1bmcgdMOtY2gnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMTAlJwogICAgfQogIH0sIHsKICAgIGtleTogJ3F1YW50aXR5JywKICAgIGxhYmVsOiAnU+G7kSBsxrDhu6NuZycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxMCUnCiAgICB9CiAgfV07CgogIHZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHN0YXR1cykgewogICAgc3dpdGNoIChzdGF0dXMpIHsKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuQVBQUk9WRUQ6CiAgICAgICAgcmV0dXJuICdzdWNjZXNzJzsKCiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLlJFSkVDVEVEOgogICAgICAgIHJldHVybiAnZGFuZ2VyJzsKCiAgICAgIGNhc2UgV2FyZWhvdXNlSW1wb3J0U3RhdHVzLldBSVRJTkc6CiAgICAgICAgcmV0dXJuICd3YXJuaW5nJzsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuICdwcmltYXJ5JzsKICAgIH0KICB9OwoKICB2YXIgY3N2Q29udGVudCA9IGNvbXB1dGVkSXRlbXMod2FyZWhvdXNlcykubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpdGVtKS5qb2luKCcsJyk7CiAgfSkuam9pbignXG4nKTsKICB2YXIgY3N2Q29kZSA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsU0VQPSwlMEEnICsgZW5jb2RlVVJJQ29tcG9uZW50KGNzdkNvbnRlbnQpOwoKICB2YXIgdG9DcmVhdGVXYXJlaG91c2VJbXBvcnQgPSBmdW5jdGlvbiB0b0NyZWF0ZVdhcmVob3VzZUltcG9ydCgpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL25ldyIpKTsKICB9OwoKICB2YXIgdG9DcmVhdGVXYXJlaG91c2VSZXR1cm4gPSBmdW5jdGlvbiB0b0NyZWF0ZVdhcmVob3VzZVJldHVybigpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiL3JldHVybi9uZXciKSk7CiAgfTsKCiAgdmFyIHRvRWRpdFdhcmVob3VzZUltcG9ydCA9IGZ1bmN0aW9uIHRvRWRpdFdhcmVob3VzZUltcG9ydCh1c2VySWQpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgdG9FZGl0V2FyZWhvdXNlUmV0dXJuID0gZnVuY3Rpb24gdG9FZGl0V2FyZWhvdXNlUmV0dXJuKHVzZXJJZCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvcmV0dXJuLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgb25GaWx0ZXJDb2x1bW4gPSBmdW5jdGlvbiBvbkZpbHRlckNvbHVtbih2YWx1ZSkgewogICAgaWYgKHZhbHVlKSB7CiAgICAgIGRpc3BhdGNoKGdldFdhcmVob3VzZUltcG9ydChfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIHNpemU6IHNpemUsCiAgICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLGRlc2MnCiAgICAgIH0sIHZhbHVlKSkpOwogICAgfQogIH07CgogIHZhciBhbGVydEZ1bmMgPSBmdW5jdGlvbiBhbGVydEZ1bmMoaXRlbSwgbWVzc2FnZSwgb3BlcmF0aW9uKSB7CiAgICBjb25maXJtQWxlcnQoewogICAgICB0aXRsZTogJ1jDoWMgbmjhuq1uJywKICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgYnV0dG9uczogW3sKICAgICAgICBsYWJlbDogJ8SQ4buTbmcgw70nLAogICAgICAgIG9uQ2xpY2s6IG9wZXJhdGlvbihpdGVtKQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdI4buneScKICAgICAgfV0KICAgIH0pOwogIH07CgogIHZhciByZWplY3RUaWNrZXQgPSBmdW5jdGlvbiByZWplY3RUaWNrZXQoYmlsbCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgaWQ6IGJpbGwuaWQsCiAgICAgICAgc3RhdHVzOiBXYXJlaG91c2VJbXBvcnRTdGF0dXMuUkVKRUNURUQKICAgICAgfTsKICAgICAgZGlzcGF0Y2godXBkYXRlV2FyZWhvdXNlU3RhdHVzSW1wb3J0KGRhdGEpKTsKICAgIH07CiAgfTsKCiAgdmFyIGFwcHJvdmVUaWNrZXQgPSBmdW5jdGlvbiBhcHByb3ZlVGlja2V0KGJpbGwpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGlkOiBiaWxsLmlkLAogICAgICAgIHN0YXR1czogV2FyZWhvdXNlSW1wb3J0U3RhdHVzLkFQUFJPVkVECiAgICAgIH07CiAgICAgIGRpc3BhdGNoKHVwZGF0ZVdhcmVob3VzZVN0YXR1c0ltcG9ydChkYXRhKSk7CiAgICB9OwogIH07CgogIHZhciByZW5kZXJCdXR0b25TdGF0dXMgPSBmdW5jdGlvbiByZW5kZXJCdXR0b25TdGF0dXMoaXRlbSkgewogICAgc3dpdGNoIChpdGVtLnN0YXR1cykgewogICAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5BUFBST1ZFRDoKICAgICAgY2FzZSBXYXJlaG91c2VJbXBvcnRTdGF0dXMuUkVKRUNURUQ6CiAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICBjYXNlIFdhcmVob3VzZUltcG9ydFN0YXR1cy5XQUlUSU5HOgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBpdGVtLnR5cGUgPT09IFdhcmVob3VzZUltcG9ydFR5cGUuTkVXID8gdG9FZGl0V2FyZWhvdXNlSW1wb3J0KGl0ZW0uaWQpIDogdG9FZGl0V2FyZWhvdXNlUmV0dXJuKGl0ZW0uaWQpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiAid2FybmluZyIsCiAgICAgICAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICAgICAgICBzaGFwZTogInNxdWFyZSIsCiAgICAgICAgICBzaXplOiAic20iLAogICAgICAgICAgY2xhc3NOYW1lOiAibXItMSIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgICAgbmFtZTogImNpbC1wZW5jaWwiCiAgICAgICAgfSksICJDSFx1MUVDOE5IIFNcdTFFRUNBIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGFsZXJ0RnVuYyhpdGVtLCAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIGR1eeG7h3QgcGhp4bq/dSBuaOG6rXAga2hvIG7DoHkga2jDtG5nJywgYXBwcm92ZVRpY2tldCk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJzdWNjZXNzIiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0xIgogICAgICAgIH0sICJEVVlcdTFFQzZUIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIGFsZXJ0RnVuYyhpdGVtLCAnQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHThu6sgY2jhu5FpIHBoaeG6v3Ugbmjhuq1wIGtobyBuw6B5IGtow7RuZycsIHJlamVjdFRpY2tldCk7CiAgICAgICAgICB9LAogICAgICAgICAgY29sb3I6ICJkYW5nZXIiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTEiCiAgICAgICAgfSwgIktIXHhENE5HIERVWVx1MUVDNlQiKSk7CgogICAgICBkZWZhdWx0OgogICAgICAgIGJyZWFrOwogICAgfQogIH07CgogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2VzcykgewogICAgICBkaXNwYXRjaChnZXRXYXJlaG91c2VJbXBvcnQoKSk7CiAgICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogICAgfQogIH0sIFtpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzXSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtZ3JpZCIKICB9KSwgIiBEYW5oIHNceEUxY2ggcGhpXHUxRUJGdSBuaFx1MUVBRHAga2hvIiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJzdWNjZXNzIiwKICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgIGNsYXNzTmFtZTogIm1sLTMiLAogICAgb25DbGljazogdG9DcmVhdGVXYXJlaG91c2VJbXBvcnQKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1wbHVzIgogIH0pLCAiIFRoXHhFQW0gbVx1MUVEQmkgcGhpXHUxRUJGdSBuaFx1MUVBRHAga2hvIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICBjbGFzc05hbWU6ICJtbC0zIiwKICAgIG9uQ2xpY2s6IHRvQ3JlYXRlV2FyZWhvdXNlUmV0dXJuCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtcGx1cyIKICB9KSwgIiBUaFx4RUFtIG1cdTFFREJpIHBoaVx1MUVCRnUgdHJcdTFFQTMgaFx4RTBuZyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInByaW1hcnkiLAogICAgY2xhc3NOYW1lOiAibWItMiIsCiAgICBocmVmOiBjc3ZDb2RlLAogICAgZG93bmxvYWQ6ICJjb3JldWktdGFibGUtZGF0YS5jc3YiLAogICAgdGFyZ2V0OiAiX2JsYW5rIgogIH0sICJUXHUxRUEzaSBleGNlbCAoLmNzdikiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0RhdGFUYWJsZSwgewogICAgaXRlbXM6IGNvbXB1dGVkSXRlbXMod2FyZWhvdXNlcyksCiAgICBmaWVsZHM6IGZpZWxkcywKICAgIGNvbHVtbkZpbHRlcjogdHJ1ZSwKICAgIHRhYmxlRmlsdGVyOiB0cnVlLAogICAgY2xlYW5lcjogdHJ1ZSwKICAgIGl0ZW1zUGVyUGFnZVNlbGVjdDogewogICAgICBsYWJlbDogJ1Phu5EgbMaw4bujbmcgdHLDqm4gbeG7mXQgdHJhbmcnLAogICAgICB2YWx1ZXM6IFsxMCwgMjAsIDMwLCA1MF0KICAgIH0sCiAgICBpdGVtc1BlclBhZ2U6IHNpemUsCiAgICBob3ZlcjogdHJ1ZSwKICAgIHNvcnRlcjogdHJ1ZSwKICAgIGxvYWRpbmc6IGluaXRpYWxTdGF0ZS5sb2FkaW5nIC8vIG9uUm93Q2xpY2s9eyhpdGVtLGluZGV4LGNvbCxlKSA9PiBjb25zb2xlLmxvZyhpdGVtLGluZGV4LGNvbCxlKX0KICAgICwKICAgIG9uUGFnZUNoYW5nZTogZnVuY3Rpb24gb25QYWdlQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlOicsIHZhbCk7CiAgICB9LAogICAgb25QYWdlc0NoYW5nZTogZnVuY3Rpb24gb25QYWdlc0NoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgcGFnZXM6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2luYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIHNldFNpemUodmFsKTsKICAgIH0gLy8gb25GaWx0ZXJlZEl0ZW1zQ2hhbmdlPXsodmFsKSA9PiBjb25zb2xlLmxvZygnbmV3IGZpbHRlcmVkIGl0ZW1zOicsIHZhbCl9CiAgICAvLyBvblNvcnRlclZhbHVlQ2hhbmdlPXsodmFsKSA9PiBjb25zb2xlLmxvZygnbmV3IHNvcnRlciB2YWx1ZTonLCB2YWwpfQogICAgLAogICAgb25UYWJsZUZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25UYWJsZUZpbHRlckNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgdGFibGUgZmlsdGVyOicsIHZhbCk7CiAgICB9LAogICAgb25Db2x1bW5GaWx0ZXJDaGFuZ2U6IG9uRmlsdGVyQ29sdW1uLAogICAgc2NvcGVkU2xvdHM6IHsKICAgICAgb3JkZXI6IGZ1bmN0aW9uIG9yZGVyKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGluZGV4ICsgMSk7CiAgICAgIH0sCiAgICAgIHN0YXR1czogZnVuY3Rpb24gc3RhdHVzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0JhZGdlLCB7CiAgICAgICAgICBjb2xvcjogZ2V0QmFkZ2UoaXRlbS5zdGF0dXMpCiAgICAgICAgfSwgbWFwcGluZ1N0YXR1c1tpdGVtLnN0YXR1c10pKTsKICAgICAgfSwKICAgICAgdHlwZTogZnVuY3Rpb24gdHlwZShpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIG1hcHBpbmdUeXBlW2l0ZW0udHlwZV0pOwogICAgICB9LAogICAgICBhY3Rpb246IGZ1bmN0aW9uIGFjdGlvbihpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInB5LTIgZC1mbGV4IgogICAgICAgIH0sIHJlbmRlckJ1dHRvblN0YXR1cyhpdGVtKSk7CiAgICAgIH0sCiAgICAgIHNob3dfZGV0YWlsczogZnVuY3Rpb24gc2hvd19kZXRhaWxzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicHktMiBkLWZsZXgiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICB0b2dnbGVEZXRhaWxzKGl0ZW0uaWQpOwogICAgICAgICAgfQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgICAgICBuYW1lOiAiY2lsWm9vbSIKICAgICAgICB9KSkpOwogICAgICB9LAogICAgICBkZXRhaWxzOiBmdW5jdGlvbiBkZXRhaWxzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbGxhcHNlLCB7CiAgICAgICAgICBzaG93OiBfZGV0YWlscy5pbmNsdWRlcyhpdGVtLmlkKQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIlRoXHhGNG5nIHRpbiBcdTAxMTFcdTAxQTFuIG5oXHUxRUFEcCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICAgICAgICBpdGVtczogaXRlbS5zdG9yZUlucHV0RGV0YWlscy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgdmFyIF9pdGVtJHByb2R1Y3QsIF9pdGVtJHByb2R1Y3QyLCBfaXRlbSRwcm9kdWN0MzsKCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgcHJvZHVjdE5hbWU6ICgoX2l0ZW0kcHJvZHVjdCA9IGl0ZW0ucHJvZHVjdCkgPT09IG51bGwgfHwgX2l0ZW0kcHJvZHVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdC5uYW1lKSB8fCAnJywKICAgICAgICAgICAgICB1bml0OiAoKF9pdGVtJHByb2R1Y3QyID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDIudW5pdCkgfHwgJycsCiAgICAgICAgICAgICAgdm9sdW1lOiAoKF9pdGVtJHByb2R1Y3QzID0gaXRlbS5wcm9kdWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRwcm9kdWN0MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kcHJvZHVjdDMudm9sdW1lKSB8fCAnJywKICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSB8fCAnJwogICAgICAgICAgICB9OwogICAgICAgICAgfSksCiAgICAgICAgICBmaWVsZHM6IGZpZWxkc0RldGFpbCwKICAgICAgICAgIGJvcmRlcmVkOiB0cnVlLAogICAgICAgICAgaXRlbXNQZXJQYWdlOiA1LAogICAgICAgICAgcGFnaW5hdGlvbjogdHJ1ZSwKICAgICAgICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgICAgICAgIG9yZGVyOiBmdW5jdGlvbiBvcmRlcihpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpbmRleCArIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkpKTsKICAgICAgfQogICAgfQogIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUGFnaW5hdGlvbiwgewogICAgYWN0aXZlUGFnZTogYWN0aXZlUGFnZSwKICAgIHBhZ2VzOiBNYXRoLmZsb29yKGluaXRpYWxTdGF0ZS50b3RhbEl0ZW0gLyBzaXplKSArIDEsCiAgICBvbkFjdGl2ZVBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uQWN0aXZlUGFnZUNoYW5nZShpKSB7CiAgICAgIHJldHVybiBzZXRBY3RpdmVQYWdlKGkpOwogICAgfQogIH0pKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBXYXJlaG91c2VJbXBvcnQ7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/warehouse/Import/warehouse-import.js"],"names":["React","useEffect","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CPagination","CIcon","useDispatch","useSelector","getWarehouseImport","updateWarehouseStatusImport","globalizedWarehouseImportSelectors","reset","useHistory","WarehouseImportStatus","WarehouseImportType","confirmAlert","mappingStatus","WAITING","APPROVED","REJECTED","mappingType","NEW","RETURN","IMPORT_FROM_STORE","WarehouseImport","props","details","setDetails","state","warehouseImport","initialState","activePage","setActivePage","size","setSize","dispatch","history","page","sort","selectAll","warehouses","computedItems","items","map","item","store","name","customer","approver","login","export","storeTransfer","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","filter","fieldsDetail","getBadge","status","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateWarehouseImport","push","match","url","toCreateWarehouseReturn","toEditWarehouseImport","userId","toEditWarehouseReturn","onFilterColumn","value","alertFunc","message","operation","title","buttons","onClick","rejectTicket","bill","data","id","approveTicket","renderButtonStatus","type","updatingSuccess","loading","val","console","log","order","action","show_details","includes","storeInputDetails","productName","product","unit","volume","quantity","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CPagination} from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';;\nimport {useDispatch, useSelector} from 'react-redux';\nimport {getWarehouseImport, updateWarehouseStatusImport} from './warehouse-import.api.js';\nimport {globalizedWarehouseImportSelectors, reset} from './warehouse-import.reducer.js';\nimport {useHistory} from 'react-router-dom';\nimport {WarehouseImportStatus, WarehouseImportType} from './contants.js';\nimport {confirmAlert} from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nconst mappingStatus = {\n  WAITING: 'CHỜ DUYỆT',\n  APPROVED: 'ĐÃ DUYỆT',\n  REJECTED: 'KHÔNG DUYỆT',\n};\nconst mappingType = {\n  NEW: 'Nhập mới',\n  RETURN: 'Nhập trả',\n  IMPORT_FROM_STORE: 'Nhập từ kho khác',\n};\nconst WarehouseImport = (props) => {\n  const [details, setDetails] = useState([]);\n  const {initialState} = useSelector((state) => state.warehouseImport);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(20);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    if (size != 20) {\n      dispatch(getWarehouseImport({page: activePage - 1, size, sort: 'createdDate,desc'}));\n    }\n  }, [activePage, size]);\n\n  const {selectAll} = globalizedWarehouseImportSelectors;\n  const warehouses = useSelector(selectAll);\n  const computedItems = (items) => {\n    return items.map((item) => {\n      return {\n        ...item,\n        store: item.store?.name || '',\n        customer: item.customer?.name || '',\n        approver: item.approver?.login || '',\n        export: item.storeTransfer?.name || '',\n      };\n    });\n  };\n  const toggleDetails = (index) => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  // Code\tTên kho\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại kho\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: {width: '1%'},\n      filter: false,\n    },\n    {\n      key: 'show_details',\n      _style: {width: '1%'},\n      filter: false,\n    },\n    {key: 'store', label: 'Tên kho nhập', _style: {width: '10%'}},\n    {key: 'type', label: 'Loại phiếu', _style: {width: '10%'}},\n    {key: 'export', label: 'Xuất từ kho', _style: {width: '10%'}},\n    {key: 'customer', label: 'Khách hàng', _style: {width: '10%'}},\n    {key: 'createdDate', label: 'Ngày tạo', _style: {width: '15%'}},\n    {key: 'createdBy', label: 'Người tạo', _style: {width: '10%'}},\n    {key: 'approver', label: 'Người duyệt', _style: {width: '10%'}},\n    {key: 'status', label: 'Trạng thái', _style: {width: '10%'}},\n    {\n      key: 'action',\n      label: '',\n      _style: {width: '20%'},\n      filter: false,\n    },\n  ];\n\n  const fieldsDetail = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: {width: '1%'},\n      filter: false,\n    },\n    {key: 'productName', label: 'Tên sản phẩm', _style: {width: '10%'}},\n    {key: 'unit', label: 'Đơn vị', _style: {width: '10%'}},\n    {key: 'volume', label: 'Dung tích', _style: {width: '10%'}},\n    {key: 'quantity', label: 'Số lượng', _style: {width: '10%'}},\n  ];\n\n  const getBadge = (status) => {\n    switch (status) {\n      case WarehouseImportStatus.APPROVED:\n        return 'success';\n      case WarehouseImportStatus.REJECTED:\n        return 'danger';\n      case WarehouseImportStatus.WAITING:\n        return 'warning';\n      default:\n        return 'primary';\n    }\n  };\n  const csvContent = computedItems(warehouses)\n      .map((item) => Object.values(item).join(','))\n      .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateWarehouseImport = () => {\n    history.push(`${props.match.url}/new`);\n  };\n  const toCreateWarehouseReturn = () => {\n    history.push(`${props.match.url}/return/new`);\n  };\n  const toEditWarehouseImport = (userId) => {\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n\n  const toEditWarehouseReturn = (userId) => {\n    history.push(`${props.match.url}/return/${userId}/edit`);\n  };\n\n  const onFilterColumn = (value) => {\n    if (value) {\n      dispatch(getWarehouseImport({page: 0, size: size, sort: 'createdDate,desc', ...value}));\n    }\n  };\n\n  const alertFunc = (item, message, operation) => {\n    confirmAlert({\n      title: 'Xác nhận',\n      message: message,\n      buttons: [\n        {\n          label: 'Đồng ý',\n          onClick: operation(item),\n        },\n        {\n          label: 'Hủy',\n        },\n      ],\n    });\n  };\n\n  const rejectTicket = (bill) => () => {\n    const data = {id: bill.id, status: WarehouseImportStatus.REJECTED};\n    dispatch(updateWarehouseStatusImport(data));\n  };\n\n  const approveTicket = (bill) => () => {\n    const data = {id: bill.id, status: WarehouseImportStatus.APPROVED};\n    dispatch(updateWarehouseStatusImport(data));\n  };\n\n  const renderButtonStatus = (item) => {\n    switch (item.status) {\n      case WarehouseImportStatus.APPROVED:\n      case WarehouseImportStatus.REJECTED:\n        return null;\n      case WarehouseImportStatus.WAITING:\n        return (\n          <CRow>\n            <CButton\n              onClick={() => {\n                item.type === WarehouseImportType.NEW ? toEditWarehouseImport(item.id) : toEditWarehouseReturn(item.id);\n              }}\n              color=\"warning\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              <CIcon name=\"cil-pencil\" />\n              CHỈNH SỬA\n            </CButton>\n            <CButton\n              onClick={() => {\n                alertFunc(item, 'Bạn có chắc chắn muốn duyệt phiếu nhập kho này không', approveTicket);\n              }}\n              color=\"success\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              DUYỆT\n            </CButton>\n            <CButton\n              onClick={() => {\n                alertFunc(item, 'Bạn có chắc chắn muốn từ chối phiếu nhập kho này không', rejectTicket);\n              }}\n              color=\"danger\"\n              variant=\"outline\"\n              shape=\"square\"\n              size=\"sm\"\n              className=\"mr-1\"\n            >\n              KHÔNG DUYỆT\n            </CButton>\n          </CRow>\n        );\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(getWarehouseImport());\n      dispatch(reset());\n    }\n  }, [initialState.updatingSuccess]);\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách phiếu nhập kho\n        <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseImport}>\n          <CIcon name=\"cil-plus\" /> Thêm mới phiếu nhập kho\n        </CButton>\n        <CButton color=\"primary\" variant=\"outline\" className=\"ml-3\" onClick={toCreateWarehouseReturn}>\n          <CIcon name=\"cil-plus\" /> Thêm mới phiếu trả hàng\n        </CButton>\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CDataTable\n          items={computedItems(warehouses)}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{label: 'Số lượng trên một trang', values: [10, 20, 30, 50]}}\n          itemsPerPage={size}\n          hover\n          sorter\n          loading={initialState.loading}\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={(val) => console.log('new page:', val)}\n          onPagesChange={(val) => console.log('new pages:', val)}\n          onPaginationChange={(val) => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={(val) => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            status: (item) => (\n              <td>\n                <CBadge color={getBadge(item.status)}>{mappingStatus[item.status]}</CBadge>\n              </td>\n            ),\n            type: (item) => <td>{mappingType[item.type]}</td>,\n            action: (item) => {\n              return <td className=\"py-2 d-flex\">{renderButtonStatus(item)}</td>;\n            },\n            show_details: (item) => {\n              return (\n                <td className=\"py-2 d-flex\">\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                </td>\n              );\n            },\n            details: (item) => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin đơn nhập</h5>\n                    <CDataTable\n                      items={item.storeInputDetails.map((item) => {\n                        return {\n                          productName: item.product?.name || '',\n                          unit: item.product?.unit || '',\n                          volume: item.product?.volume || '',\n                          quantity: item.quantity || '',\n                        };\n                      })}\n                      fields={fieldsDetail}\n                      bordered\n                      itemsPerPage={5}\n                      pagination\n                      scopedSlots={{\n                        order: (item, index) => <td>{index + 1}</td>,\n                      }}\n                    />\n                  </CCardBody>\n                </CCollapse>\n              );\n            },\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={(i) => setActivePage(i)}\n        />\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default WarehouseImport;\n"]}]}