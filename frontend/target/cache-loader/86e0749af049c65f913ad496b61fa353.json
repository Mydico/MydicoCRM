{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/user.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/user.js","mtime":1625154821797},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDQ29sLCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsgLy8gaW1wb3J0IHVzZXJzRGF0YSBmcm9tICcuLi8uLi8uLi91c2Vycy9Vc2Vyc0RhdGEuanMnOwoKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXRVc2VyLCB1cGRhdGVVc2VyIH0gZnJvbSAnLi91c2VyLmFwaS5qcyc7CmltcG9ydCB7IGdsb2JhbGl6ZWRVc2VyU2VsZWN0b3JzLCByZXNldCB9IGZyb20gJy4vdXNlci5yZWR1Y2VyLmpzJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCB7IHVzZXJTYWZlU2VsZWN0b3IgfSBmcm9tICcuLi8uLi9sb2dpbi9hdXRoZW50aWNhdGUucmVkdWNlci5qcyc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IENGb3JtR3JvdXAsIENJbnB1dCwgQ0xhYmVsLCBDTW9kYWwsIENNb2RhbEJvZHksIENNb2RhbEZvb3RlciwgQ01vZGFsSGVhZGVyLCBDTW9kYWxUaXRsZSB9IGZyb20gJ0Bjb3JldWkvcmVhY3QnOwppbXBvcnQgeyBnbG9iYWxpemVkQnJhbmNoU2VsZWN0b3JzIH0gZnJvbSAnLi4vVXNlckJyYW5jaC9icmFuY2gucmVkdWNlci5qcyc7CmltcG9ydCB7IGdsb2JhbGl6ZWREZXBhcnRtZW50U2VsZWN0b3JzIH0gZnJvbSAnLi4vVXNlckRlcGFydG1lbnQvZGVwYXJ0bWVudC5yZWR1Y2VyLmpzJzsKaW1wb3J0IHsgZ2V0RGVwYXJ0bWVudCB9IGZyb20gJy4uL1VzZXJEZXBhcnRtZW50L2RlcGFydG1lbnQuYXBpLmpzJzsKaW1wb3J0IFNlbGVjdCBmcm9tICdyZWFjdC1zZWxlY3QnOwppbXBvcnQgeyBnZXRCcmFuY2ggfSBmcm9tICcuLi9Vc2VyQnJhbmNoL2JyYW5jaC5hcGkuanMnOwppbXBvcnQgJ3JlYWN0LWRhdGVzL2luaXRpYWxpemUnOwppbXBvcnQgeyBEYXRlUmFuZ2VQaWNrZXIgfSBmcm9tICdyZWFjdC1kYXRlcyc7CmltcG9ydCAncmVhY3QtZGF0ZXMvbGliL2Nzcy9fZGF0ZXBpY2tlci5jc3MnOwptb21lbnQubG9jYWxlKCd2aScpOyAvLyBQb2xpc2gKCnZhciBzZWxlY3RBbGwgPSBnbG9iYWxpemVkVXNlclNlbGVjdG9ycy5zZWxlY3RBbGw7IC8vIENvZGUJVMOqbiBuZ8aw4budaSBkw7luZwlOZ8aw4budaSBsacOqbiBs4bqhYwlOxINtIFNpbmgJxJBp4buHbiB0aG/huqFpCU5ow6JuIHZpw6puIHF14bqjbiBsw70JTG/huqFpIG5nxrDhu51pIGTDuW5nCVBow6JuIGxv4bqhaQlT4butYQlU4bqhbyDEkcahbgoKdmFyIGZpZWxkcyA9IFt7CiAga2V5OiAnb3JkZXInLAogIGxhYmVsOiAnU1RUJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMSUnCiAgfSwKICBmaWx0ZXI6IGZhbHNlCn0sIHsKICBrZXk6ICdsb2dpbicsCiAgbGFiZWw6ICdUw6puIMSRxINuZyBuaOG6rXAnLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxMCUnCiAgfQp9LCB7CiAga2V5OiAnbmFtZScsCiAgbGFiZWw6ICdI4buNIHTDqm4nLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxNSUnCiAgfQp9LCB7CiAga2V5OiAnY29kZScsCiAgbGFiZWw6ICdNw6MgbmjDom4gdmnDqm4nLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxNSUnCiAgfQp9LCB7CiAga2V5OiAncGhvbmUnLAogIGxhYmVsOiAnU+G7kSDEkWnhu4duIHRob+G6oWknLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxNSUnCiAgfQp9LCB7CiAga2V5OiAnZGVwYXJ0bWVudCcsCiAgbGFiZWw6ICdDaGkgbmjDoW5oJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMTUlJwogIH0KfSwgewogIGtleTogJ2JyYW5jaCcsCiAgbGFiZWw6ICdQaMOybmcgYmFuJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMTUlJwogIH0KfSwgewogIGtleTogJ3JvbGVzJywKICBsYWJlbDogJ0No4bupYyB24bulJywKICBfc3R5bGU6IHsKICAgIHdpZHRoOiAnMTUlJwogIH0sCiAgZmlsdGVyOiBmYWxzZQp9LCB7CiAga2V5OiAnY3JlYXRlZERhdGUnLAogIGxhYmVsOiAnTmfDoHkgdOG6oW8nLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxNSUnCiAgfQp9LCB7CiAga2V5OiAnYWN0aXZhdGVkJywKICBsYWJlbDogJ1Ry4bqhbmcgdGjDoWknLAogIF9zdHlsZTogewogICAgd2lkdGg6ICcxNSUnCiAgfQp9LCB7CiAga2V5OiAnc2hvd19kZXRhaWxzJywKICBsYWJlbDogJycsCiAgX3N0eWxlOiB7CiAgICB3aWR0aDogJzElJwogIH0sCiAgZmlsdGVyOiBmYWxzZQp9XTsKCnZhciBnZXRCYWRnZSA9IGZ1bmN0aW9uIGdldEJhZGdlKHN0YXR1cykgewogIHN3aXRjaCAoc3RhdHVzKSB7CiAgICBjYXNlIHRydWU6CiAgICAgIHJldHVybiAnc3VjY2Vzcyc7CgogICAgY2FzZSBmYWxzZToKICAgICAgcmV0dXJuICdkYW5nZXInOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAncHJpbWFyeSc7CiAgfQp9OwoKdmFyIHNlbGVjdEFsbEJyYW5jaCA9IGdsb2JhbGl6ZWRCcmFuY2hTZWxlY3RvcnMuc2VsZWN0QWxsOwp2YXIgc2VsZWN0QWxsRGVwYXJ0bWVudCA9IGdsb2JhbGl6ZWREZXBhcnRtZW50U2VsZWN0b3JzLnNlbGVjdEFsbDsKCnZhciBVc2VyID0gZnVuY3Rpb24gVXNlcihwcm9wcykgewogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBfZGV0YWlscyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldERldGFpbHMgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IodXNlclNhZmVTZWxlY3RvciksCiAgICAgIGFjY291bnQgPSBfdXNlU2VsZWN0b3IuYWNjb3VudDsKCiAgdmFyIGlzQWRtaW4gPSBhY2NvdW50LmF1dGhvcml0aWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIGl0ZW0gPT09ICdST0xFX0FETUlOJzsKICB9KS5sZW5ndGggPiAwOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgfSksCiAgICAgIGluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3RvcjIuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKDEpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRBY3RpdmVQYWdlID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZSg1MCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2l6ZSA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldFNpemUgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgc2VsZWN0ZWRQcm8gPSB1c2VSZWYoewogICAgaWQ6IG51bGwsCiAgICBhY3RpdmF0ZWQ6IHRydWUsCiAgICBsb2dpbjogJycKICB9KTsKCiAgdmFyIF91c2VTdGF0ZTcgPSB1c2VTdGF0ZShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSwKICAgICAgcHJpbWFyeSA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldFByaW1hcnkgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwoKICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoewogICAgc3RhcnREYXRlOiBudWxsLAogICAgZW5kRGF0ZTogbnVsbAogIH0pLAogICAgICBfUmVhY3QkdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX1JlYWN0JHVzZVN0YXRlLCAyKSwKICAgICAgZGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sCiAgICAgIHNldERhdGUgPSBfUmVhY3QkdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVN0YXRlOSA9IHVzZVN0YXRlKCksCiAgICAgIF91c2VTdGF0ZTEwID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlOSwgMiksCiAgICAgIGZvY3VzZWQgPSBfdXNlU3RhdGUxMFswXSwKICAgICAgc2V0Rm9jdXNlZCA9IF91c2VTdGF0ZTEwWzFdOwoKICB2YXIgcGFyYW1SZWYgPSB1c2VSZWYobnVsbCk7CiAgdmFyIHVzZXJzID0gdXNlU2VsZWN0b3Ioc2VsZWN0QWxsKTsKICB2YXIgYnJhbmNoZXMgPSB1c2VTZWxlY3RvcihzZWxlY3RBbGxCcmFuY2gpOwogIHZhciBkZXBhcnRtZW50cyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbERlcGFydG1lbnQpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBkaXNwYXRjaChyZXNldCgpKTsKICAgIGRpc3BhdGNoKGdldEJyYW5jaCh7CiAgICAgIHBhZ2U6IDAsCiAgICAgIHNpemU6IDEwMCwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnLAogICAgICBkZXBlbmRlbmN5OiB0cnVlCiAgICB9KSk7CiAgICBkaXNwYXRjaChnZXREZXBhcnRtZW50KHsKICAgICAgcGFnZTogMCwKICAgICAgc2l6ZTogMTAwLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycsCiAgICAgIGRlcGVuZGVuY3k6IHRydWUKICAgIH0pKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHBhcmFtUmVmLmN1cnJlbnQgPSB7fTsKICAgIH07CiAgfSwgW10pOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICB2YXIgbG9jYWxQYXJhbXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGFyYW1zJyk7CgogICAgdmFyIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQoewogICAgICBwYWdlOiBhY3RpdmVQYWdlIC0gMSwKICAgICAgc2l6ZTogc2l6ZSwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICB9LCBwYXJhbVJlZi5jdXJyZW50KTsKCiAgICBpZiAobG9jYWxQYXJhbXMpIHsKICAgICAgcGFyYW1zID0gSlNPTi5wYXJzZShsb2NhbFBhcmFtcyk7CiAgICAgIHNldEFjdGl2ZVBhZ2UocGFyYW1zLnBhZ2UgKyAxKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3BhcmFtcycpOwogICAgfQoKICAgIGRpc3BhdGNoKGdldFVzZXIocGFyYW1zKSk7CiAgfSwgW2FjdGl2ZVBhZ2UsIHNpemVdKTsKCiAgdmFyIGNvbXB1dGVkSXRlbXMgPSBmdW5jdGlvbiBjb21wdXRlZEl0ZW1zKGl0ZW1zKSB7CiAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBfaXRlbSR3YXJkLCBfaXRlbSRkaXN0cmljdCwgX2l0ZW0kY2l0eTsKCiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgIHdhcmQ6IChfaXRlbSR3YXJkID0gaXRlbS53YXJkKSA9PT0gbnVsbCB8fCBfaXRlbSR3YXJkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSR3YXJkLm5hbWUsCiAgICAgICAgZGlzdHJpY3Q6IChfaXRlbSRkaXN0cmljdCA9IGl0ZW0uZGlzdHJpY3QpID09PSBudWxsIHx8IF9pdGVtJGRpc3RyaWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRkaXN0cmljdC5uYW1lLAogICAgICAgIGNpdHk6IChfaXRlbSRjaXR5ID0gaXRlbS5jaXR5KSA9PT0gbnVsbCB8fCBfaXRlbSRjaXR5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRjaXR5Lm5hbWUsCiAgICAgICAgY3JlYXRlZERhdGU6IG1vbWVudChpdGVtLmNyZWF0ZWREYXRlKS5mb3JtYXQoJ0RELU1NLVlZWVknKQogICAgICB9KTsKICAgIH0pOwogIH07CgogIHZhciB0b2dnbGVEZXRhaWxzID0gZnVuY3Rpb24gdG9nZ2xlRGV0YWlscyhpbmRleCkgewogICAgdmFyIHBvc2l0aW9uID0gX2RldGFpbHMuaW5kZXhPZihpbmRleCk7CgogICAgdmFyIG5ld0RldGFpbHMgPSBfZGV0YWlscy5zbGljZSgpOwoKICAgIGlmIChwb3NpdGlvbiAhPT0gLTEpIHsKICAgICAgbmV3RGV0YWlscy5zcGxpY2UocG9zaXRpb24sIDEpOwogICAgfSBlbHNlIHsKICAgICAgbmV3RGV0YWlscyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX2RldGFpbHMpLCBbaW5kZXhdKTsKICAgIH0KCiAgICBzZXREZXRhaWxzKG5ld0RldGFpbHMpOwogIH07CgogIHZhciBjc3ZDb250ZW50ID0gY29tcHV0ZWRJdGVtcyh1c2VycykubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpdGVtKS5qb2luKCcsJyk7CiAgfSkuam9pbignXG4nKTsKICB2YXIgY3N2Q29kZSA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsU0VQPSwlMEEnICsgZW5jb2RlVVJJQ29tcG9uZW50KGNzdkNvbnRlbnQpOwoKICB2YXIgdG9DcmVhdGVVc2VyID0gZnVuY3Rpb24gdG9DcmVhdGVVc2VyKCkgewogICAgdmFyIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQoewogICAgICBwYWdlOiBhY3RpdmVQYWdlIC0gMSwKICAgICAgc2l6ZTogc2l6ZSwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICB9LCBwYXJhbVJlZi5jdXJyZW50KTsKCiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGFyYW1zJywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7CiAgICBoaXN0b3J5LnB1c2goIiIuY29uY2F0KHByb3BzLm1hdGNoLnVybCwgIi9uZXciKSk7CiAgfTsKCiAgdmFyIHRvRWRpdFVzZXIgPSBmdW5jdGlvbiB0b0VkaXRVc2VyKHVzZXJJZCkgewogICAgdmFyIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQoewogICAgICBwYWdlOiBhY3RpdmVQYWdlIC0gMSwKICAgICAgc2l6ZTogc2l6ZSwKICAgICAgc29ydDogJ2NyZWF0ZWREYXRlLERFU0MnCiAgICB9LCBwYXJhbVJlZi5jdXJyZW50KTsKCiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGFyYW1zJywgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7CiAgICBoaXN0b3J5LnB1c2goIiIuY29uY2F0KHByb3BzLm1hdGNoLnVybCwgIi8iKS5jb25jYXQodXNlcklkLCAiL2VkaXQiKSk7CiAgfTsKCiAgdmFyIGRlYm91bmNlZFNlYXJjaENvbHVtbiA9IF8uZGVib3VuY2UoZnVuY3Rpb24gKHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCA+IDApIHsKICAgICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmICghdmFsdWVba2V5XSkgZGVsZXRlIHZhbHVlW2tleV07CiAgICAgIH0pOwogICAgICBwYXJhbVJlZi5jdXJyZW50ID0gdmFsdWU7CiAgICAgIGRpc3BhdGNoKGdldFVzZXIoX29iamVjdFNwcmVhZCh7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgICB9LCB2YWx1ZSkpKTsKICAgIH0KICB9LCAzMDApOwoKICB2YXIgb25GaWx0ZXJDb2x1bW4gPSBmdW5jdGlvbiBvbkZpbHRlckNvbHVtbih2YWx1ZSkgewogICAgZGVib3VuY2VkU2VhcmNoQ29sdW1uKHZhbHVlKTsKICB9OwoKICB2YXIgbG9ja1VzZXIgPSBmdW5jdGlvbiBsb2NrVXNlcigpIHsKICAgIGRpc3BhdGNoKHVwZGF0ZVVzZXIoewogICAgICBpZDogc2VsZWN0ZWRQcm8uY3VycmVudC5pZCwKICAgICAgYWN0aXZhdGVkOiAhc2VsZWN0ZWRQcm8uY3VycmVudC5hY3RpdmF0ZWQsCiAgICAgIGxvZ2luOiBzZWxlY3RlZFByby5jdXJyZW50LmxvZ2luCiAgICB9KSk7CiAgICBzZXRQcmltYXJ5KGZhbHNlKTsKICB9OwoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGRhdGUuZW5kRGF0ZSAmJiBkYXRlLnN0YXJ0RGF0ZSkgewogICAgICB2YXIgcGFyYW1zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgICAgICBwYWdlOiBhY3RpdmVQYWdlIC0gMSwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgICB9LCBwYXJhbVJlZi5jdXJyZW50KSwgZGF0ZSk7CgogICAgICBkaXNwYXRjaChnZXRVc2VyKHBhcmFtcykpOwogICAgfQogIH0sIFtkYXRlXSk7CiAgdmFyIG1lbW9Db21wdXRlZEl0ZW1zID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGl0ZW1zKSB7CiAgICByZXR1cm4gY29tcHV0ZWRJdGVtcyhpdGVtcyk7CiAgfSwgW3VzZXJzXSk7CiAgdmFyIG1lbW9MaXN0ZWQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBtZW1vQ29tcHV0ZWRJdGVtcyh1c2Vycyk7CiAgfSwgW3VzZXJzXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzKSB7CiAgICAgIGRpc3BhdGNoKGdldFVzZXIoewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgICAgfSkpOwogICAgICBkaXNwYXRjaChyZXNldCgpKTsKICAgIH0KICB9LCBbaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2Vzc10pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRIZWFkZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLWdyaWQiCiAgfSksICIgRGFuaCBzXHhFMWNoIG5nXHUwMUIwXHUxRUREaSBkXHhGOW5nIiwgKGlzQWRtaW4gfHwgYWNjb3VudC5yb2xlLmZpbHRlcihmdW5jdGlvbiAocm9sKSB7CiAgICByZXR1cm4gcm9sLm1ldGhvZCA9PT0gJ1BPU1QnICYmIHJvbC5lbnRpdHkgPT09ICcvYXBpL3VzZXJzJzsKICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInN1Y2Nlc3MiLAogICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgY2xhc3NOYW1lOiAibWwtMyIsCiAgICBvbkNsaWNrOiB0b0NyZWF0ZVVzZXIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgbmFtZTogImNpbC1wbHVzIgogIH0pLCAiIFRoXHhFQW0gbVx1MUVEQmkgbmdcdTAxQjBcdTFFRERpIGRceEY5bmciKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgY29sb3I6ICJwcmltYXJ5IiwKICAgIGNsYXNzTmFtZTogIm1iLTIiLAogICAgaHJlZjogY3N2Q29kZSwKICAgIGRvd25sb2FkOiAiY29yZXVpLXRhYmxlLWRhdGEuY3N2IiwKICAgIHRhcmdldDogIl9ibGFuayIKICB9LCAiVFx1MUVBM2kgZXhjZWwgKC5jc3YpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIHsKICAgIHJvdzogdHJ1ZSwKICAgIHhzOiAiMTIiLAogICAgbWQ6ICIxMiIsCiAgICBsZzogIjEyIiwKICAgIGNsYXNzTmFtZTogIm1sLTIgbXQtMyIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCB7CiAgICByb3c6IHRydWUKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgIGh0bWxGb3I6ICJkYXRlLWlucHV0IgogIH0sICJUXHUxRUVCIG5nXHhFMHkiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgIHhzOiAiMTIiLAogICAgbWQ6ICI5IiwKICAgIGxnOiAiMTIiCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICB0eXBlOiAiZGF0ZSIsCiAgICBpZDogImRhdGUtaW5wdXQiLAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgcmV0dXJuIHNldERhdGUoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkYXRlKSwge30sIHsKICAgICAgICBzdGFydERhdGU6IGUudGFyZ2V0LnZhbHVlCiAgICAgIH0pKTsKICAgIH0sCiAgICBuYW1lOiAiZGF0ZS1pbnB1dCIsCiAgICBwbGFjZWhvbGRlcjogImRhdGUiCiAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgewogICAgcm93OiB0cnVlLAogICAgY2xhc3NOYW1lOiAibWwtMyIKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgIGh0bWxGb3I6ICJkYXRlLWlucHV0IgogIH0sICJcdTAxMTBcdTFFQkZuIG5nXHhFMHkiKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgIHhzOiAiMTIiLAogICAgbWQ6ICI5IiwKICAgIGxnOiAiMTIiCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICB0eXBlOiAiZGF0ZSIsCiAgICBpZDogImRhdGUtaW5wdXQiLAogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgcmV0dXJuIHNldERhdGUoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkYXRlKSwge30sIHsKICAgICAgICBlbmREYXRlOiBlLnRhcmdldC52YWx1ZQogICAgICB9KSk7CiAgICB9LAogICAgbmFtZTogImRhdGUtaW5wdXQiLAogICAgcGxhY2Vob2xkZXI6ICJkYXRlIgogIH0pKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRGF0YVRhYmxlLCB7CiAgICBpdGVtczogbWVtb0xpc3RlZCwKICAgIGZpZWxkczogZmllbGRzLAogICAgY29sdW1uRmlsdGVyOiB0cnVlLAogICAgaXRlbXNQZXJQYWdlU2VsZWN0OiB7CiAgICAgIGxhYmVsOiAnU+G7kSBsxrDhu6NuZyB0csOqbiBt4buZdCB0cmFuZycsCiAgICAgIHZhbHVlczogWzUwLCAxMDAsIDE1MCwgMjAwXQogICAgfSwKICAgIGl0ZW1zUGVyUGFnZTogc2l6ZSwKICAgIGhvdmVyOiB0cnVlLAogICAgc29ydGVyOiB0cnVlLAogICAgbm9JdGVtc1ZpZXc6IHsKICAgICAgbm9SZXN1bHRzOiAnS2jDtG5nIHTDrG0gdGjhuqV5IGvhur90IHF14bqjJywKICAgICAgbm9JdGVtczogJ0tow7RuZyBjw7MgZOG7ryBsaeG7h3UnCiAgICB9LAogICAgbG9hZGluZzogaW5pdGlhbFN0YXRlLmxvYWRpbmcsCiAgICBvblBhZ2luYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIHNldFNpemUodmFsKTsKICAgIH0sCiAgICBvbkNvbHVtbkZpbHRlckNoYW5nZTogb25GaWx0ZXJDb2x1bW4sCiAgICBjb2x1bW5GaWx0ZXJTbG90OiB7CiAgICAgIGRlcGFydG1lbnQ6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIG1pbldpZHRoOiAyMDAKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwgewogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShpdGVtKSB7CiAgICAgICAgICBvbkZpbHRlckNvbHVtbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcmFtUmVmLmN1cnJlbnQpLCB7fSwgewogICAgICAgICAgICBkZXBhcnRtZW50SWQ6IChpdGVtID09PSBudWxsIHx8IGl0ZW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZW0udmFsdWUpIHx8ICcnCiAgICAgICAgICB9KSk7CiAgICAgICAgfSwKICAgICAgICBpc0NsZWFyYWJsZTogdHJ1ZSwKICAgICAgICBwbGFjZWhvbGRlcjogImNoXHUxRUNEbiBjaGkgbmhceEUxbmgiLAogICAgICAgIG9wdGlvbnM6IGRlcGFydG1lbnRzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsCiAgICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUKICAgICAgICAgIH07CiAgICAgICAgfSkKICAgICAgfSkpLAogICAgICBicmFuY2g6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIG1pbldpZHRoOiAyMDAKICAgICAgICB9CiAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwgewogICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShpdGVtKSB7CiAgICAgICAgICBvbkZpbHRlckNvbHVtbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcmFtUmVmLmN1cnJlbnQpLCB7fSwgewogICAgICAgICAgICBicmFuY2hJZDogKGl0ZW0gPT09IG51bGwgfHwgaXRlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlbS52YWx1ZSkgfHwgJycKICAgICAgICAgIH0pKTsKICAgICAgICB9LAogICAgICAgIGlzQ2xlYXJhYmxlOiB0cnVlLAogICAgICAgIHBsYWNlaG9sZGVyOiAiQ2hcdTFFQ0RuIHBoXHhGMm5nIGJhbiIsCiAgICAgICAgb3B0aW9uczogYnJhbmNoZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB2YWx1ZTogaXRlbS5pZCwKICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZQogICAgICAgICAgfTsKICAgICAgICB9KQogICAgICB9KSkKICAgIH0sCiAgICBzY29wZWRTbG90czogewogICAgICBvcmRlcjogZnVuY3Rpb24gb3JkZXIoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKGFjdGl2ZVBhZ2UgLSAxKSAqIHNpemUgKyBpbmRleCArIDEpOwogICAgICB9LAogICAgICBhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGFjdGl2YXRlZChpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCYWRnZSwgewogICAgICAgICAgY29sb3I6IGdldEJhZGdlKGl0ZW0uYWN0aXZhdGVkKQogICAgICAgIH0sIGl0ZW0uYWN0aXZhdGVkID8gJ8SQYW5nIGhv4bqhdCDEkeG7mW5nJyA6ICdLaMO0bmcgaG/huqF0IMSR4buZbmcnKSk7CiAgICAgIH0sCiAgICAgIGRlcGFydG1lbnQ6IGZ1bmN0aW9uIGRlcGFydG1lbnQoaXRlbSkgewogICAgICAgIHZhciBfaXRlbSRkZXBhcnRtZW50OwoKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgKChfaXRlbSRkZXBhcnRtZW50ID0gaXRlbS5kZXBhcnRtZW50KSA9PT0gbnVsbCB8fCBfaXRlbSRkZXBhcnRtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRkZXBhcnRtZW50Lm5hbWUpIHx8ICcnKTsKICAgICAgfSwKICAgICAgYnJhbmNoOiBmdW5jdGlvbiBicmFuY2goaXRlbSkgewogICAgICAgIHZhciBfaXRlbSRicmFuY2g7CgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoKF9pdGVtJGJyYW5jaCA9IGl0ZW0uYnJhbmNoKSA9PT0gbnVsbCB8fCBfaXRlbSRicmFuY2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGJyYW5jaC5uYW1lKSB8fCAnJyk7CiAgICAgIH0sCiAgICAgIG5hbWU6IGZ1bmN0aW9uIG5hbWUoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpdGVtLmxhc3ROYW1lIHx8ICcnLCAiICIsIGl0ZW0uZmlyc3ROYW1lIHx8ICcnKTsKICAgICAgfSwKICAgICAgcm9sZXM6IGZ1bmN0aW9uIHJvbGVzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgaXRlbS5yb2xlcy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY3VycmVudFZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gc3VtICsgY3VycmVudFZhbHVlLm5hbWU7CiAgICAgICAgfSwgJycpKTsKICAgICAgfSwKICAgICAgc2hvd19kZXRhaWxzOiBmdW5jdGlvbiBzaG93X2RldGFpbHMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJkLWZsZXggcHktMiIKICAgICAgICB9LCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgICAgICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUFVUJyAmJiByb2wuZW50aXR5ID09PSAnL2FwaS91c2Vycyc7CiAgICAgICAgfSkubGVuZ3RoID4gMCkgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0zIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHRvRWRpdFVzZXIoaXRlbS5sb2dpbik7CiAgICAgICAgICB9CiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICJjaWwtcGVuY2lsIgogICAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBjbGFzc05hbWU6ICJtci0zIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHRvZ2dsZURldGFpbHMoaXRlbS5pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICJjaWxab29tIgogICAgICAgIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0J1dHRvbiwgewogICAgICAgICAgY29sb3I6ICJwcmltYXJ5IiwKICAgICAgICAgIHZhcmlhbnQ6ICJvdXRsaW5lIiwKICAgICAgICAgIHNoYXBlOiAic3F1YXJlIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBzZWxlY3RlZFByby5jdXJyZW50ID0gewogICAgICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgICAgIGFjdGl2YXRlZDogaXRlbS5hY3RpdmF0ZWQsCiAgICAgICAgICAgICAgbG9naW46IGl0ZW0ubG9naW4KICAgICAgICAgICAgfTsKICAgICAgICAgICAgc2V0UHJpbWFyeSghcHJpbWFyeSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgICAgICAgIG5hbWU6ICFpdGVtLmFjdGl2YXRlZCA/ICdjaWxMb2NrTG9ja2VkJyA6ICdjaWxMb2NrVW5sb2NrZWQnCiAgICAgICAgfSkpKTsKICAgICAgfSwKICAgICAgZGV0YWlsczogZnVuY3Rpb24gZGV0YWlscyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2xsYXBzZSwgewogICAgICAgICAgc2hvdzogX2RldGFpbHMuaW5jbHVkZXMoaXRlbS5pZCkKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEJvZHksIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJoNSIsIG51bGwsICJUaFx4RjRuZyB0aW4gbmdcdTAxQjBcdTFFRERpIGRceEY5bmciKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICAgICAgbGc6ICI2IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiVFx4RUFuIExvZ2luOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmxvZ2luKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiSFx1MUVDRDoiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5maXJzdE5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUXHhFQW4iKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5sYXN0TmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIlNcdTFFRDEgXHUwMTExaVx1MUVDN24gdGhvXHUxRUExaSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLnBob25lKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBsZzogIjYiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJFbWFpbCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmVtYWlsKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiTmdceEUweSBUXHUxRUExbyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmNyZWF0ZWREYXRlKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiVHJcdTFFQTFuZyB0aFx4RTFpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0uYWN0aXZhdGVkID8gJ8SQYW5nIGhv4bqhdCDEkeG7mW5nJyA6ICdLaMO0bmcgaG/huqF0IMSR4buZbmcnKSkpKSkpOwogICAgICB9CiAgICB9CiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENQYWdpbmF0aW9uLCB7CiAgICBhY3RpdmVQYWdlOiBhY3RpdmVQYWdlLAogICAgcGFnZXM6IE1hdGguZmxvb3IoaW5pdGlhbFN0YXRlLnRvdGFsSXRlbSAvIHNpemUpICsgMSwKICAgIG9uQWN0aXZlUGFnZUNoYW5nZTogZnVuY3Rpb24gb25BY3RpdmVQYWdlQ2hhbmdlKGkpIHsKICAgICAgcmV0dXJuIHNldEFjdGl2ZVBhZ2UoaSk7CiAgICB9CiAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTW9kYWwsIHsKICAgIHNob3c6IHByaW1hcnksCiAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkgewogICAgICByZXR1cm4gc2V0UHJpbWFyeSghcHJpbWFyeSk7CiAgICB9LAogICAgY29sb3I6ICJwcmltYXJ5IgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENNb2RhbEhlYWRlciwgewogICAgY2xvc2VCdXR0b246IHRydWUKICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTW9kYWxUaXRsZSwgbnVsbCwgIktoXHhGM2EgbmhceEUybiB2aVx4RUFuIikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTW9kYWxCb2R5LCBudWxsLCAiQlx1MUVBMW4gY1x4RjMgY2hcdTFFQUZjIGNoXHUxRUFGbiBtdVx1MUVEMW4gIi5jb25jYXQoIXNlbGVjdGVkUHJvLmN1cnJlbnQuYWN0aXZhdGVkID8gJ23hu58ga2jDs2EnIDogJ2tow7NhJywgIiBuaFx4RTJuIHZpXHhFQW4gblx4RTB5IGtoXHhGNG5nPyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ01vZGFsRm9vdGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInByaW1hcnkiLAogICAgb25DbGljazogbG9ja1VzZXIKICB9LCAiXHUwMTEwXHUxRUQzbmcgXHhGRCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInNlY29uZGFyeSIsCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICByZXR1cm4gc2V0UHJpbWFyeSghcHJpbWFyeSk7CiAgICB9CiAgfSwgIkhcdTFFRTd5IikpKSk7Cn07CgpleHBvcnQgZGVmYXVsdCBVc2VyOw=="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/user.js"],"names":["React","useCallback","useEffect","useRef","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CCol","CPagination","CIcon","useDispatch","useSelector","getUser","updateUser","globalizedUserSelectors","reset","useHistory","moment","userSafeSelector","_","CFormGroup","CInput","CLabel","CModal","CModalBody","CModalFooter","CModalHeader","CModalTitle","globalizedBranchSelectors","globalizedDepartmentSelectors","getDepartment","Select","getBranch","DateRangePicker","locale","selectAll","fields","key","label","_style","width","filter","getBadge","status","selectAllBranch","selectAllDepartment","User","props","details","setDetails","account","isAdmin","authorities","item","length","state","user","initialState","activePage","setActivePage","size","setSize","selectedPro","id","activated","login","primary","setPrimary","dispatch","history","startDate","endDate","date","setDate","focused","setFocused","paramRef","users","branches","departments","page","sort","dependency","current","localParams","localStorage","getItem","params","JSON","parse","removeItem","computedItems","items","map","ward","name","district","city","createdDate","format","toggleDetails","index","position","indexOf","newDetails","slice","splice","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateUser","setItem","stringify","push","match","url","toEditUser","userId","debouncedSearchColumn","debounce","value","keys","forEach","onFilterColumn","lockUser","memoComputedItems","memoListed","useMemo","updatingSuccess","role","rol","method","entity","e","target","noResults","noItems","loading","val","department","minWidth","departmentId","branch","branchId","order","lastName","firstName","roles","reduce","sum","currentValue","show_details","includes","phone","email","Math","floor","totalItem","i"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,MAAxC,EAAgDC,QAAhD,QAAgE,OAAhE;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,SAArC,EAAgDC,UAAhD,EAA4DC,KAA5D,EAAmEC,WAAnE,EAAgFC,IAAhF,EAAsFC,IAAtF,EAA4FC,WAA5F,QAA+G,mBAA/G,C,CACA;;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,eAApC;AACA,SAASC,uBAAT,EAAkCC,KAAlC,QAA+C,mBAA/C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,gBAAT,QAAiC,qCAAjC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,MAA7B,EAAqCC,MAArC,EAA6CC,UAA7C,EAAyDC,YAAzD,EAAuEC,YAAvE,EAAqFC,WAArF,QAAwG,eAAxG;AACA,SAASC,yBAAT,QAA0C,iCAA1C;AACA,SAASC,6BAAT,QAA8C,yCAA9C;AACA,SAASC,aAAT,QAA8B,qCAA9B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,SAAT,QAA0B,6BAA1B;AACA,OAAO,wBAAP;AACA,SAASC,eAAT,QAAgC,aAAhC;AACA,OAAO,qCAAP;AACAhB,MAAM,CAACiB,MAAP,CAAc,IAAd,E,CAAqB;;IAEbC,S,GAAcrB,uB,CAAdqB,S,EACR;;AACA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,GAAG,EAAE,OADP;AAEEC,EAAAA,KAAK,EAAE,KAFT;AAGEC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAHV;AAIEC,EAAAA,MAAM,EAAE;AAJV,CADa,EAOb;AAAEJ,EAAAA,GAAG,EAAE,OAAP;AAAgBC,EAAAA,KAAK,EAAE,eAAvB;AAAwCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAhD,CAPa,EAQb;AAAEH,EAAAA,GAAG,EAAE,MAAP;AAAeC,EAAAA,KAAK,EAAE,QAAtB;AAAgCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAxC,CARa,EASb;AAAEH,EAAAA,GAAG,EAAE,MAAP;AAAeC,EAAAA,KAAK,EAAE,cAAtB;AAAsCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA9C,CATa,EAUb;AAAEH,EAAAA,GAAG,EAAE,OAAP;AAAgBC,EAAAA,KAAK,EAAE,eAAvB;AAAwCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAhD,CAVa,EAWb;AAAEH,EAAAA,GAAG,EAAE,YAAP;AAAqBC,EAAAA,KAAK,EAAE,WAA5B;AAAyCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAjD,CAXa,EAYb;AAAEH,EAAAA,GAAG,EAAE,QAAP;AAAiBC,EAAAA,KAAK,EAAE,WAAxB;AAAqCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAA7C,CAZa,EAab;AAAEH,EAAAA,GAAG,EAAE,OAAP;AAAgBC,EAAAA,KAAK,EAAE,SAAvB;AAAkCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAA1C;AAA4DC,EAAAA,MAAM,EAAE;AAApE,CAba,EAcb;AAAEJ,EAAAA,GAAG,EAAE,aAAP;AAAsBC,EAAAA,KAAK,EAAE,UAA7B;AAAyCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAjD,CAda,EAeb;AAAEH,EAAAA,GAAG,EAAE,WAAP;AAAoBC,EAAAA,KAAK,EAAE,YAA3B;AAAyCC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT;AAAjD,CAfa,EAgBb;AACEH,EAAAA,GAAG,EAAE,cADP;AAEEC,EAAAA,KAAK,EAAE,EAFT;AAGEC,EAAAA,MAAM,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAHV;AAIEC,EAAAA,MAAM,EAAE;AAJV,CAhBa,CAAf;;AAwBA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,MAAM,EAAI;AACzB,UAAQA,MAAR;AACE,SAAK,IAAL;AACE,aAAO,SAAP;;AACF,SAAK,KAAL;AACE,aAAO,QAAP;;AACF;AACE,aAAO,SAAP;AANJ;AAQD,CATD;;IAUmBC,e,GAAoBhB,yB,CAA/BO,S;IACWU,mB,GAAwBhB,6B,CAAnCM,S;;AAER,IAAMW,IAAI,GAAG,SAAPA,IAAO,CAAAC,KAAK,EAAI;AAAA,kBACUjD,QAAQ,CAAC,EAAD,CADlB;AAAA;AAAA,MACbkD,QADa;AAAA,MACJC,UADI;;AAAA,qBAEAtC,WAAW,CAACO,gBAAD,CAFX;AAAA,MAEZgC,OAFY,gBAEZA,OAFY;;AAGpB,MAAMC,OAAO,GAAGD,OAAO,CAACE,WAAR,CAAoBX,MAApB,CAA2B,UAAAY,IAAI;AAAA,WAAIA,IAAI,KAAK,YAAb;AAAA,GAA/B,EAA0DC,MAA1D,GAAmE,CAAnF;;AAHoB,sBAIK3C,WAAW,CAAC,UAAA4C,KAAK;AAAA,WAAIA,KAAK,CAACC,IAAV;AAAA,GAAN,CAJhB;AAAA,MAIZC,YAJY,iBAIZA,YAJY;;AAAA,mBAKgB3D,QAAQ,CAAC,CAAD,CALxB;AAAA;AAAA,MAKb4D,UALa;AAAA,MAKDC,aALC;;AAAA,mBAMI7D,QAAQ,CAAC,EAAD,CANZ;AAAA;AAAA,MAMb8D,IANa;AAAA,MAMPC,OANO;;AAOpB,MAAMC,WAAW,GAAGjE,MAAM,CAAC;AAAEkE,IAAAA,EAAE,EAAE,IAAN;AAAYC,IAAAA,SAAS,EAAE,IAAvB;AAA6BC,IAAAA,KAAK,EAAE;AAApC,GAAD,CAA1B;;AAPoB,mBAQUnE,QAAQ,CAAC,KAAD,CARlB;AAAA;AAAA,MAQboE,OARa;AAAA,MAQJC,UARI;;AASpB,MAAMC,QAAQ,GAAG1D,WAAW,EAA5B;AACA,MAAM2D,OAAO,GAAGrD,UAAU,EAA1B;;AAVoB,wBAWItB,KAAK,CAACI,QAAN,CAAe;AAAEwE,IAAAA,SAAS,EAAE,IAAb;AAAmBC,IAAAA,OAAO,EAAE;AAA5B,GAAf,CAXJ;AAAA;AAAA,MAWbC,IAXa;AAAA,MAWPC,OAXO;;AAAA,mBAYU3E,QAAQ,EAZlB;AAAA;AAAA,MAYb4E,OAZa;AAAA,MAYJC,UAZI;;AAapB,MAAMC,QAAQ,GAAG/E,MAAM,CAAC,IAAD,CAAvB;AACA,MAAMgF,KAAK,GAAGlE,WAAW,CAACwB,SAAD,CAAzB;AACA,MAAM2C,QAAQ,GAAGnE,WAAW,CAACiC,eAAD,CAA5B;AACA,MAAMmC,WAAW,GAAGpE,WAAW,CAACkC,mBAAD,CAA/B;AAEAjD,EAAAA,SAAS,CAAC,YAAM;AACdwE,IAAAA,QAAQ,CAACrD,KAAK,EAAN,CAAR;AACAqD,IAAAA,QAAQ,CAACpC,SAAS,CAAC;AAAEgD,MAAAA,IAAI,EAAE,CAAR;AAAWpB,MAAAA,IAAI,EAAE,GAAjB;AAAsBqB,MAAAA,IAAI,EAAE,kBAA5B;AAAgDC,MAAAA,UAAU,EAAE;AAA5D,KAAD,CAAV,CAAR;AACAd,IAAAA,QAAQ,CAACtC,aAAa,CAAC;AAAEkD,MAAAA,IAAI,EAAE,CAAR;AAAWpB,MAAAA,IAAI,EAAE,GAAjB;AAAsBqB,MAAAA,IAAI,EAAE,kBAA5B;AAAgDC,MAAAA,UAAU,EAAE;AAA5D,KAAD,CAAd,CAAR;AACA,WAAO,YAAM;AACXN,MAAAA,QAAQ,CAACO,OAAT,GAAmB,EAAnB;AACD,KAFD;AAGD,GAPQ,EAON,EAPM,CAAT;AASAvF,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMwF,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAApB;;AACA,QAAIC,MAAM;AAAKP,MAAAA,IAAI,EAAEtB,UAAU,GAAG,CAAxB;AAA2BE,MAAAA,IAAI,EAAJA,IAA3B;AAAiCqB,MAAAA,IAAI,EAAE;AAAvC,OAA8DL,QAAQ,CAACO,OAAvE,CAAV;;AACA,QAAIC,WAAJ,EAAiB;AACfG,MAAAA,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWL,WAAX,CAAT;AACAzB,MAAAA,aAAa,CAAC4B,MAAM,CAACP,IAAP,GAAc,CAAf,CAAb;AACAK,MAAAA,YAAY,CAACK,UAAb,CAAwB,QAAxB;AACD;;AACDtB,IAAAA,QAAQ,CAACxD,OAAO,CAAC2E,MAAD,CAAR,CAAR;AACD,GATQ,EASN,CAAC7B,UAAD,EAAaE,IAAb,CATM,CAAT;;AAWA,MAAM+B,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,KAAK,EAAI;AAC7B,WAAOA,KAAK,CAACC,GAAN,CAAU,UAAAxC,IAAI,EAAI;AAAA;;AACvB,6CACKA,IADL;AAEEyC,QAAAA,IAAI,gBAAEzC,IAAI,CAACyC,IAAP,+CAAE,WAAWC,IAFnB;AAGEC,QAAAA,QAAQ,oBAAE3C,IAAI,CAAC2C,QAAP,mDAAE,eAAeD,IAH3B;AAIEE,QAAAA,IAAI,gBAAE5C,IAAI,CAAC4C,IAAP,+CAAE,WAAWF,IAJnB;AAKEG,QAAAA,WAAW,EAAEjF,MAAM,CAACoC,IAAI,CAAC6C,WAAN,CAAN,CAAyBC,MAAzB,CAAgC,YAAhC;AALf;AAOD,KARM,CAAP;AASD,GAVD;;AAWA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,KAAK,EAAI;AAC7B,QAAMC,QAAQ,GAAGtD,QAAO,CAACuD,OAAR,CAAgBF,KAAhB,CAAjB;;AACA,QAAIG,UAAU,GAAGxD,QAAO,CAACyD,KAAR,EAAjB;;AACA,QAAIH,QAAQ,KAAK,CAAC,CAAlB,EAAqB;AACnBE,MAAAA,UAAU,CAACE,MAAX,CAAkBJ,QAAlB,EAA4B,CAA5B;AACD,KAFD,MAEO;AACLE,MAAAA,UAAU,gCAAOxD,QAAP,IAAgBqD,KAAhB,EAAV;AACD;;AACDpD,IAAAA,UAAU,CAACuD,UAAD,CAAV;AACD,GATD;;AAWA,MAAMG,UAAU,GAAGhB,aAAa,CAACd,KAAD,CAAb,CAChBgB,GADgB,CACZ,UAAAxC,IAAI;AAAA,WAAIuD,MAAM,CAACC,MAAP,CAAcxD,IAAd,EAAoByD,IAApB,CAAyB,GAAzB,CAAJ;AAAA,GADQ,EAEhBA,IAFgB,CAEX,IAFW,CAAnB;AAGA,MAAMC,OAAO,GAAG,yCAAyCC,kBAAkB,CAACL,UAAD,CAA3E;;AACA,MAAMM,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAM1B,MAAM;AAAKP,MAAAA,IAAI,EAAEtB,UAAU,GAAG,CAAxB;AAA2BE,MAAAA,IAAI,EAAJA,IAA3B;AAAiCqB,MAAAA,IAAI,EAAE;AAAvC,OAA8DL,QAAQ,CAACO,OAAvE,CAAZ;;AACAE,IAAAA,YAAY,CAAC6B,OAAb,CAAqB,QAArB,EAA+B1B,IAAI,CAAC2B,SAAL,CAAe5B,MAAf,CAA/B;AACAlB,IAAAA,OAAO,CAAC+C,IAAR,WAAgBrE,KAAK,CAACsE,KAAN,CAAYC,GAA5B;AACD,GAJD;;AAMA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,MAAM,EAAI;AAC3B,QAAMjC,MAAM;AAAKP,MAAAA,IAAI,EAAEtB,UAAU,GAAG,CAAxB;AAA2BE,MAAAA,IAAI,EAAJA,IAA3B;AAAiCqB,MAAAA,IAAI,EAAE;AAAvC,OAA8DL,QAAQ,CAACO,OAAvE,CAAZ;;AACAE,IAAAA,YAAY,CAAC6B,OAAb,CAAqB,QAArB,EAA+B1B,IAAI,CAAC2B,SAAL,CAAe5B,MAAf,CAA/B;AACAlB,IAAAA,OAAO,CAAC+C,IAAR,WAAgBrE,KAAK,CAACsE,KAAN,CAAYC,GAA5B,cAAmCE,MAAnC;AACD,GAJD;;AAKA,MAAMC,qBAAqB,GAAGtG,CAAC,CAACuG,QAAF,CAAW,UAAAC,KAAK,EAAI;AAChD,QAAIf,MAAM,CAACgB,IAAP,CAAYD,KAAZ,EAAmBrE,MAAnB,GAA4B,CAAhC,EAAmC;AACjCsD,MAAAA,MAAM,CAACgB,IAAP,CAAYD,KAAZ,EAAmBE,OAAnB,CAA2B,UAAAxF,GAAG,EAAI;AAChC,YAAI,CAACsF,KAAK,CAACtF,GAAD,CAAV,EAAiB,OAAOsF,KAAK,CAACtF,GAAD,CAAZ;AAClB,OAFD;AAGAuC,MAAAA,QAAQ,CAACO,OAAT,GAAmBwC,KAAnB;AACAvD,MAAAA,QAAQ,CAACxD,OAAO;AAAGoE,QAAAA,IAAI,EAAE,CAAT;AAAYpB,QAAAA,IAAI,EAAEA,IAAlB;AAAwBqB,QAAAA,IAAI,EAAE;AAA9B,SAAqD0C,KAArD,EAAR,CAAR;AACD;AACF,GAR6B,EAQ3B,GAR2B,CAA9B;;AAUA,MAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAAAH,KAAK,EAAI;AAC9BF,IAAAA,qBAAqB,CAACE,KAAD,CAArB;AACD,GAFD;;AAIA,MAAMI,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB3D,IAAAA,QAAQ,CAACvD,UAAU,CAAC;AAAEkD,MAAAA,EAAE,EAAED,WAAW,CAACqB,OAAZ,CAAoBpB,EAA1B;AAA8BC,MAAAA,SAAS,EAAE,CAACF,WAAW,CAACqB,OAAZ,CAAoBnB,SAA9D;AAAyEC,MAAAA,KAAK,EAAEH,WAAW,CAACqB,OAAZ,CAAoBlB;AAApG,KAAD,CAAX,CAAR;AACAE,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAHD;;AAKAvE,EAAAA,SAAS,CAAC,YAAM;AACd,QAAG4E,IAAI,CAACD,OAAL,IAAgBC,IAAI,CAACF,SAAxB,EAAkC;AAChC,UAAMiB,MAAM;AAAKP,QAAAA,IAAI,EAAEtB,UAAU,GAAG,CAAxB;AAA2BE,QAAAA,IAAI,EAAJA,IAA3B;AAAiCqB,QAAAA,IAAI,EAAE;AAAvC,SAA8DL,QAAQ,CAACO,OAAvE,GAAmFX,IAAnF,CAAZ;;AACAJ,MAAAA,QAAQ,CAACxD,OAAO,CAAC2E,MAAD,CAAR,CAAR;AACD;AACF,GALQ,EAKN,CAACf,IAAD,CALM,CAAT;AAOA,MAAMwD,iBAAiB,GAAGtI,KAAK,CAACC,WAAN,CAAkB,UAAAiG,KAAK;AAAA,WAAID,aAAa,CAACC,KAAD,CAAjB;AAAA,GAAvB,EAAiD,CAACf,KAAD,CAAjD,CAA1B;AACA,MAAMoD,UAAU,GAAGvI,KAAK,CAACwI,OAAN,CAAc;AAAA,WAAMF,iBAAiB,CAACnD,KAAD,CAAvB;AAAA,GAAd,EAA8C,CAACA,KAAD,CAA9C,CAAnB;AACAjF,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI6D,YAAY,CAAC0E,eAAjB,EAAkC;AAChC/D,MAAAA,QAAQ,CAACxD,OAAO,CAAC;AAAEoE,QAAAA,IAAI,EAAE,CAAR;AAAWpB,QAAAA,IAAI,EAAEA,IAAjB;AAAuBqB,QAAAA,IAAI,EAAE;AAA7B,OAAD,CAAR,CAAR;AACAb,MAAAA,QAAQ,CAACrD,KAAK,EAAN,CAAR;AACD;AACF,GALQ,EAKN,CAAC0C,YAAY,CAAC0E,eAAd,CALM,CAAT;AAMA,sBACE,oBAAC,KAAD,qBACE,oBAAC,WAAD,qBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC;AAAZ,IADF,2CAEG,CAAChF,OAAO,IAAID,OAAO,CAACkF,IAAR,CAAa3F,MAAb,CAAoB,UAAA4F,GAAG;AAAA,WAAIA,GAAG,CAACC,MAAJ,KAAe,MAAf,IAAyBD,GAAG,CAACE,MAAJ,KAAe,YAA5C;AAAA,GAAvB,EAAiFjF,MAAjF,GAA0F,CAAtG,kBACC,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,OAAO,EAAC,SAAjC;AAA2C,IAAA,SAAS,EAAC,MAArD;AAA4D,IAAA,OAAO,EAAE2D;AAArE,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC;AAAZ,IADF,8CAHJ,CADF,eASE,oBAAC,SAAD,qBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,SAAS,EAAC,MAAnC;AAA0C,IAAA,IAAI,EAAEF,OAAhD;AAAyD,IAAA,QAAQ,EAAC,uBAAlE;AAA0F,IAAA,MAAM,EAAC;AAAjG,6BADF,eAIE,oBAAC,UAAD;AAAY,IAAA,GAAG,MAAf;AAAgB,IAAA,EAAE,EAAC,IAAnB;AAAwB,IAAA,EAAE,EAAC,IAA3B;AAAgC,IAAA,EAAE,EAAC,IAAnC;AAAwC,IAAA,SAAS,EAAC;AAAlD,kBACE,oBAAC,UAAD;AAAY,IAAA,GAAG;AAAf,kBACE,oBAAC,IAAD,qBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC;AAAhB,uBADF,CADF,eAIE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,IAAT;AAAc,IAAA,EAAE,EAAC,GAAjB;AAAqB,IAAA,EAAE,EAAC;AAAxB,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,YAFL;AAGE,IAAA,QAAQ,EAAE,kBAAAyB,CAAC;AAAA,aACT/D,OAAO,iCACFD,IADE;AAELF,QAAAA,SAAS,EAAEkE,CAAC,CAACC,MAAF,CAASd;AAFf,SADE;AAAA,KAHb;AASE,IAAA,IAAI,EAAC,YATP;AAUE,IAAA,WAAW,EAAC;AAVd,IADF,CAJF,CADF,eAoBE,oBAAC,UAAD;AAAY,IAAA,GAAG,MAAf;AAAgB,IAAA,SAAS,EAAC;AAA1B,kBACE,oBAAC,IAAD,qBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC;AAAhB,6BADF,CADF,eAIE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,IAAT;AAAc,IAAA,EAAE,EAAC,GAAjB;AAAqB,IAAA,EAAE,EAAC;AAAxB,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,YAFL;AAGE,IAAA,QAAQ,EAAE,kBAAAa,CAAC;AAAA,aACT/D,OAAO,iCACFD,IADE;AAELD,QAAAA,OAAO,EAAEiE,CAAC,CAACC,MAAF,CAASd;AAFb,SADE;AAAA,KAHb;AASE,IAAA,IAAI,EAAC,YATP;AAUE,IAAA,WAAW,EAAC;AAVd,IADF,CAJF,CApBF,CAJF,eA6CE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAEM,UADT;AAEE,IAAA,MAAM,EAAE7F,MAFV;AAGE,IAAA,YAAY,MAHd;AAIE,IAAA,kBAAkB,EAAE;AAAEE,MAAAA,KAAK,EAAE,yBAAT;AAAoCuE,MAAAA,MAAM,EAAE,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,GAAf;AAA5C,KAJtB;AAKE,IAAA,YAAY,EAAEjD,IALhB;AAME,IAAA,KAAK,MANP;AAOE,IAAA,MAAM,MAPR;AAQE,IAAA,WAAW,EAAE;AACX8E,MAAAA,SAAS,EAAE,wBADA;AAEXC,MAAAA,OAAO,EAAE;AAFE,KARf;AAYE,IAAA,OAAO,EAAElF,YAAY,CAACmF,OAZxB;AAaE,IAAA,kBAAkB,EAAE,4BAAAC,GAAG;AAAA,aAAIhF,OAAO,CAACgF,GAAD,CAAX;AAAA,KAbzB;AAcE,IAAA,oBAAoB,EAAEf,cAdxB;AAeE,IAAA,gBAAgB,EAAE;AAChBgB,MAAAA,UAAU,eACR;AAAK,QAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAE;AAAZ;AAAZ,sBACE,oBAAC,MAAD;AACE,QAAA,QAAQ,EAAE,kBAAA1F,IAAI,EAAI;AAChByE,UAAAA,cAAc,iCAAMlD,QAAQ,CAACO,OAAf;AAAwB6D,YAAAA,YAAY,EAAE,CAAA3F,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEsE,KAAN,KAAe;AAArD,aAAd;AACD,SAHH;AAIE,QAAA,WAAW,MAJb;AAKE,QAAA,WAAW,EAAC,wBALd;AAME,QAAA,OAAO,EAAE5C,WAAW,CAACc,GAAZ,CAAgB,UAAAxC,IAAI;AAAA,iBAAK;AAChCsE,YAAAA,KAAK,EAAEtE,IAAI,CAACU,EADoB;AAEhCzB,YAAAA,KAAK,EAAEe,IAAI,CAAC0C;AAFoB,WAAL;AAAA,SAApB;AANX,QADF,CAFc;AAgBhBkD,MAAAA,MAAM,eACJ;AAAK,QAAA,KAAK,EAAE;AAAEF,UAAAA,QAAQ,EAAE;AAAZ;AAAZ,sBACE,oBAAC,MAAD;AACE,QAAA,QAAQ,EAAE,kBAAA1F,IAAI,EAAI;AAChByE,UAAAA,cAAc,iCAAMlD,QAAQ,CAACO,OAAf;AAAwB+D,YAAAA,QAAQ,EAAE,CAAA7F,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEsE,KAAN,KAAe;AAAjD,aAAd;AACD,SAHH;AAIE,QAAA,WAAW,MAJb;AAKE,QAAA,WAAW,EAAC,wBALd;AAME,QAAA,OAAO,EAAE7C,QAAQ,CAACe,GAAT,CAAa,UAAAxC,IAAI;AAAA,iBAAK;AAC7BsE,YAAAA,KAAK,EAAEtE,IAAI,CAACU,EADiB;AAE7BzB,YAAAA,KAAK,EAAEe,IAAI,CAAC0C;AAFiB,WAAL;AAAA,SAAjB;AANX,QADF;AAjBc,KAfpB;AA+CE,IAAA,WAAW,EAAE;AACXoD,MAAAA,KAAK,EAAE,eAAC9F,IAAD,EAAOgD,KAAP;AAAA,4BAAiB,gCAAK,CAAC3C,UAAU,GAAG,CAAd,IAAmBE,IAAnB,GAA0ByC,KAA1B,GAAkC,CAAvC,CAAjB;AAAA,OADI;AAEXrC,MAAAA,SAAS,EAAE,mBAAAX,IAAI;AAAA,4BACb,6CACE,oBAAC,MAAD;AAAQ,UAAA,KAAK,EAAEX,QAAQ,CAACW,IAAI,CAACW,SAAN;AAAvB,WAA0CX,IAAI,CAACW,SAAL,GAAiB,gBAAjB,GAAoC,iBAA9E,CADF,CADa;AAAA,OAFJ;AAOX8E,MAAAA,UAAU,EAAE,oBAAAzF,IAAI;AAAA;;AAAA,4BAAI,gCAAK,qBAAAA,IAAI,CAACyF,UAAL,sEAAiB/C,IAAjB,KAAyB,EAA9B,CAAJ;AAAA,OAPL;AAQXkD,MAAAA,MAAM,EAAE,gBAAA5F,IAAI;AAAA;;AAAA,4BAAI,gCAAK,iBAAAA,IAAI,CAAC4F,MAAL,8DAAalD,IAAb,KAAqB,EAA1B,CAAJ;AAAA,OARD;AASXA,MAAAA,IAAI,EAAE,cAAA1C,IAAI;AAAA,4BACR,gCACGA,IAAI,CAAC+F,QAAL,IAAiB,EADpB,OACyB/F,IAAI,CAACgG,SAAL,IAAkB,EAD3C,CADQ;AAAA,OATC;AAcXC,MAAAA,KAAK,EAAE,eAAAjG,IAAI;AAAA,4BAAI,gCAAKA,IAAI,CAACiG,KAAL,CAAWC,MAAX,CAAkB,UAACC,GAAD,EAAMC,YAAN;AAAA,iBAAuBD,GAAG,GAAGC,YAAY,CAAC1D,IAA1C;AAAA,SAAlB,EAAkE,EAAlE,CAAL,CAAJ;AAAA,OAdA;AAeX2D,MAAAA,YAAY,EAAE,sBAAArG,IAAI,EAAI;AACpB,4BACE;AAAI,UAAA,SAAS,EAAC;AAAd,WACG,CAACF,OAAO,IAAID,OAAO,CAACkF,IAAR,CAAa3F,MAAb,CAAoB,UAAA4F,GAAG;AAAA,iBAAIA,GAAG,CAACC,MAAJ,KAAe,KAAf,IAAwBD,GAAG,CAACE,MAAJ,KAAe,YAA3C;AAAA,SAAvB,EAAgFjF,MAAhF,GAAyF,CAArG,kBACC,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,KAAK,EAAC,QAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,SAAS,EAAC,MALZ;AAME,UAAA,OAAO,EAAE,mBAAM;AACbiE,YAAAA,UAAU,CAAClE,IAAI,CAACY,KAAN,CAAV;AACD;AARH,wBAUE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UAVF,CAFJ,eAeE,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,KAAK,EAAC,QAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,SAAS,EAAC,MALZ;AAME,UAAA,OAAO,EAAE,mBAAM;AACbmC,YAAAA,aAAa,CAAC/C,IAAI,CAACU,EAAN,CAAb;AACD;AARH,wBAUE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC;AAAZ,UAVF,CAfF,eA2BE,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,SADR;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,KAAK,EAAC,QAHR;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,OAAO,EAAE,mBAAM;AACbD,YAAAA,WAAW,CAACqB,OAAZ,GAAsB;AAAEpB,cAAAA,EAAE,EAAEV,IAAI,CAACU,EAAX;AAAeC,cAAAA,SAAS,EAAEX,IAAI,CAACW,SAA/B;AAA0CC,cAAAA,KAAK,EAAEZ,IAAI,CAACY;AAAtD,aAAtB;AACAE,YAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACD;AARH,wBAUE,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAE,CAACb,IAAI,CAACW,SAAN,GAAkB,eAAlB,GAAoC;AAAjD,UAVF,CA3BF,CADF;AA0CD,OA1DU;AA2DXhB,MAAAA,OAAO,EAAE,iBAAAK,IAAI,EAAI;AACf,4BACE,oBAAC,SAAD;AAAW,UAAA,IAAI,EAAEL,QAAO,CAAC2G,QAAR,CAAiBtG,IAAI,CAACU,EAAtB;AAAjB,wBACE,oBAAC,SAAD,qBACE,uEADF,eAEE,oBAAC,IAAD,qBACE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC;AAAT,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,2BADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BV,IAAI,CAACY,KAA/B,CAFF,CADF,eAKE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,sBADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BZ,IAAI,CAACgG,SAA/B,CAFF,CALF,eASE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,oBADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BhG,IAAI,CAAC+F,QAA/B,CAFF,CATF,eAaE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,+CADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B/F,IAAI,CAACuG,KAA/B,CAFF,CAbF,CADF,eAmBE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC;AAAT,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,mBADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BvG,IAAI,CAACwG,KAA/B,CAFF,CADF,eAKE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,8BADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0BxG,IAAI,CAAC6C,WAA/B,CAFF,CALF,eASE;AAAI,UAAA,SAAS,EAAC;AAAd,wBACE;AAAI,UAAA,SAAS,EAAC;AAAd,gCADF,eAEE;AAAI,UAAA,SAAS,EAAC;AAAd,WAA0B7C,IAAI,CAACW,SAAL,GAAiB,gBAAjB,GAAoC,iBAA9D,CAFF,CATF,CAnBF,CAFF,CADF,CADF;AAyCD;AArGU;AA/Cf,IA7CF,eAoME,oBAAC,WAAD;AACE,IAAA,UAAU,EAAEN,UADd;AAEE,IAAA,KAAK,EAAEoG,IAAI,CAACC,KAAL,CAAWtG,YAAY,CAACuG,SAAb,GAAyBpG,IAApC,IAA4C,CAFrD;AAGE,IAAA,kBAAkB,EAAE,4BAAAqG,CAAC;AAAA,aAAItG,aAAa,CAACsG,CAAD,CAAjB;AAAA;AAHvB,IApMF,CATF,eAmNE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAE/F,OAAd;AAAuB,IAAA,OAAO,EAAE;AAAA,aAAMC,UAAU,CAAC,CAACD,OAAF,CAAhB;AAAA,KAAhC;AAA4D,IAAA,KAAK,EAAC;AAAlE,kBACE,oBAAC,YAAD;AAAc,IAAA,WAAW;AAAzB,kBACE,oBAAC,WAAD,kCADF,CADF,eAIE,oBAAC,UAAD,+DAAsC,CAACJ,WAAW,CAACqB,OAAZ,CAAoBnB,SAArB,GAAiC,SAAjC,GAA6C,MAAnF,uCAJF,eAKE,oBAAC,YAAD,qBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,SAAf;AAAyB,IAAA,OAAO,EAAE+D;AAAlC,2BADF,eAIE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,WAAf;AAA2B,IAAA,OAAO,EAAE;AAAA,aAAM5D,UAAU,CAAC,CAACD,OAAF,CAAhB;AAAA;AAApC,gBAJF,CALF,CAnNF,CADF;AAoOD,CAjVD;;AAmVA,eAAepB,IAAf","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CCol, CPagination } from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUser, updateUser } from './user.api.js';\nimport { globalizedUserSelectors, reset } from './user.reducer.js';\nimport { useHistory } from 'react-router-dom';\nimport moment from 'moment';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\nimport _ from 'lodash';\nimport { CFormGroup, CInput, CLabel, CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle } from '@coreui/react';\nimport { globalizedBranchSelectors } from '../UserBranch/branch.reducer.js';\nimport { globalizedDepartmentSelectors } from '../UserDepartment/department.reducer.js';\nimport { getDepartment } from '../UserDepartment/department.api.js';\nimport Select from 'react-select';\nimport { getBranch } from '../UserBranch/branch.api.js';\nimport 'react-dates/initialize';\nimport { DateRangePicker } from 'react-dates';\nimport 'react-dates/lib/css/_datepicker.css';\nmoment.locale('vi'); // Polish\n\nconst { selectAll } = globalizedUserSelectors;\n// Code\tTên người dùng\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại người dùng\tPhân loại\tSửa\tTạo đơn\nconst fields = [\n  {\n    key: 'order',\n    label: 'STT',\n    _style: { width: '1%' },\n    filter: false\n  },\n  { key: 'login', label: 'Tên đăng nhập', _style: { width: '10%' } },\n  { key: 'name', label: 'Họ tên', _style: { width: '15%' } },\n  { key: 'code', label: 'Mã nhân viên', _style: { width: '15%' } },\n  { key: 'phone', label: 'Số điện thoại', _style: { width: '15%' } },\n  { key: 'department', label: 'Chi nhánh', _style: { width: '15%' } },\n  { key: 'branch', label: 'Phòng ban', _style: { width: '15%' } },\n  { key: 'roles', label: 'Chức vụ', _style: { width: '15%' }, filter: false },\n  { key: 'createdDate', label: 'Ngày tạo', _style: { width: '15%' } },\n  { key: 'activated', label: 'Trạng thái', _style: { width: '15%' } },\n  {\n    key: 'show_details',\n    label: '',\n    _style: { width: '1%' },\n    filter: false\n  }\n];\n\nconst getBadge = status => {\n  switch (status) {\n    case true:\n      return 'success';\n    case false:\n      return 'danger';\n    default:\n      return 'primary';\n  }\n};\nconst { selectAll: selectAllBranch } = globalizedBranchSelectors;\nconst { selectAll: selectAllDepartment } = globalizedDepartmentSelectors;\n\nconst User = props => {\n  const [details, setDetails] = useState([]);\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  const { initialState } = useSelector(state => state.user);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(50);\n  const selectedPro = useRef({ id: null, activated: true, login: '' });\n  const [primary, setPrimary] = useState(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [date, setDate] = React.useState({ startDate: null, endDate: null });\n  const [focused, setFocused] = useState();\n  const paramRef = useRef(null);\n  const users = useSelector(selectAll);\n  const branches = useSelector(selectAllBranch);\n  const departments = useSelector(selectAllDepartment);\n\n  useEffect(() => {\n    dispatch(reset());\n    dispatch(getBranch({ page: 0, size: 100, sort: 'createdDate,DESC', dependency: true }));\n    dispatch(getDepartment({ page: 0, size: 100, sort: 'createdDate,DESC', dependency: true }));\n    return () => {\n      paramRef.current = {};\n    };\n  }, []);\n\n  useEffect(() => {\n    const localParams = localStorage.getItem('params');\n    let params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    if (localParams) {\n      params = JSON.parse(localParams);\n      setActivePage(params.page + 1);\n      localStorage.removeItem('params');\n    }\n    dispatch(getUser(params));\n  }, [activePage, size]);\n\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        ward: item.ward?.name,\n        district: item.district?.name,\n        city: item.city?.name,\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY')\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  const csvContent = computedItems(users)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateUser = () => {\n    const params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    localStorage.setItem('params', JSON.stringify(params));\n    history.push(`${props.match.url}/new`);\n  };\n\n  const toEditUser = userId => {\n    const params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current };\n    localStorage.setItem('params', JSON.stringify(params));\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n  const debouncedSearchColumn = _.debounce(value => {\n    if (Object.keys(value).length > 0) {\n      Object.keys(value).forEach(key => {\n        if (!value[key]) delete value[key];\n      });\n      paramRef.current = value;\n      dispatch(getUser({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n    }\n  }, 300);\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value);\n  };\n\n  const lockUser = () => {\n    dispatch(updateUser({ id: selectedPro.current.id, activated: !selectedPro.current.activated, login: selectedPro.current.login }));\n    setPrimary(false);\n  };\n\n  useEffect(() => {\n    if(date.endDate && date.startDate){\n      const params = { page: activePage - 1, size, sort: 'createdDate,DESC', ...paramRef.current, ...date };\n      dispatch(getUser(params));\n    }\n  }, [date])\n\n  const memoComputedItems = React.useCallback(items => computedItems(items), [users]);\n  const memoListed = React.useMemo(() => memoComputedItems(users), [users]);\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(getUser({ page: 0, size: size, sort: 'createdDate,DESC' }));\n      dispatch(reset());\n    }\n  }, [initialState.updatingSuccess]);\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách người dùng\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/users').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateUser}>\n            <CIcon name=\"cil-plus\" /> Thêm mới người dùng\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CFormGroup row xs=\"12\" md=\"12\" lg=\"12\" className=\"ml-2 mt-3\">\n          <CFormGroup row>\n            <CCol>\n              <CLabel htmlFor=\"date-input\">Từ ngày</CLabel>\n            </CCol>\n            <CCol xs=\"12\" md=\"9\" lg=\"12\">\n              <CInput\n                type=\"date\"\n                id=\"date-input\"\n                onChange={e =>\n                  setDate({\n                    ...date,\n                    startDate: e.target.value\n                  })\n                }\n                name=\"date-input\"\n                placeholder=\"date\"\n              />\n            </CCol>\n          </CFormGroup>\n          <CFormGroup row className=\"ml-3\">\n            <CCol>\n              <CLabel htmlFor=\"date-input\">Đến ngày</CLabel>\n            </CCol>\n            <CCol xs=\"12\" md=\"9\" lg=\"12\">\n              <CInput\n                type=\"date\"\n                id=\"date-input\"\n                onChange={e =>\n                  setDate({\n                    ...date,\n                    endDate: e.target.value\n                  })\n                }\n                name=\"date-input\"\n                placeholder=\"date\"\n              />\n            </CCol>\n          </CFormGroup>\n        </CFormGroup>\n\n        <CDataTable\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [50, 100, 150, 200] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          noItemsView={{\n            noResults: 'Không tìm thấy kết quả',\n            noItems: 'Không có dữ liệu'\n          }}\n          loading={initialState.loading}\n          onPaginationChange={val => setSize(val)}\n          onColumnFilterChange={onFilterColumn}\n          columnFilterSlot={{\n            department: (\n              <div style={{ minWidth: 200 }}>\n                <Select\n                  onChange={item => {\n                    onFilterColumn({ ...paramRef.current, departmentId: item?.value || '' });\n                  }}\n                  isClearable\n                  placeholder=\"chọn chi nhánh\"\n                  options={departments.map(item => ({\n                    value: item.id,\n                    label: item.name\n                  }))}\n                />\n              </div>\n            ),\n            branch: (\n              <div style={{ minWidth: 200 }}>\n                <Select\n                  onChange={item => {\n                    onFilterColumn({ ...paramRef.current, branchId: item?.value || '' });\n                  }}\n                  isClearable\n                  placeholder=\"Chọn phòng ban\"\n                  options={branches.map(item => ({\n                    value: item.id,\n                    label: item.name\n                  }))}\n                />\n              </div>\n            )\n          }}\n          scopedSlots={{\n            order: (item, index) => <td>{(activePage - 1) * size + index + 1}</td>,\n            activated: item => (\n              <td>\n                <CBadge color={getBadge(item.activated)}>{item.activated ? 'Đang hoạt động' : 'Không hoạt động'}</CBadge>\n              </td>\n            ),\n            department: item => <td>{item.department?.name || ''}</td>,\n            branch: item => <td>{item.branch?.name || ''}</td>,\n            name: item => (\n              <td>\n                {item.lastName || ''} {item.firstName || ''}\n              </td>\n            ),\n            roles: item => <td>{item.roles.reduce((sum, currentValue) => sum + currentValue.name, '')}</td>,\n            show_details: item => {\n              return (\n                <td className=\"d-flex py-2\">\n                  {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/users').length > 0) && (\n                    <CButton\n                      color=\"primary\"\n                      variant=\"outline\"\n                      shape=\"square\"\n                      size=\"sm\"\n                      className=\"mr-3\"\n                      onClick={() => {\n                        toEditUser(item.login);\n                      }}\n                    >\n                      <CIcon name=\"cil-pencil\" />\n                    </CButton>\n                  )}\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    className=\"mr-3\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      selectedPro.current = { id: item.id, activated: item.activated, login: item.login };\n                      setPrimary(!primary);\n                    }}\n                  >\n                    <CIcon name={!item.activated ? 'cilLockLocked' : 'cilLockUnlocked'} />\n                  </CButton>\n                </td>\n              );\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin người dùng</h5>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên Login:</dt>\n                          <dd className=\"col-sm-9\">{item.login}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Họ:</dt>\n                          <dd className=\"col-sm-9\">{item.firstName}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên</dt>\n                          <dd className=\"col-sm-9\">{item.lastName}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Số điện thoại</dt>\n                          <dd className=\"col-sm-9\">{item.phone}</dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Email</dt>\n                          <dd className=\"col-sm-9\">{item.email}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Ngày Tạo</dt>\n                          <dd className=\"col-sm-9\">{item.createdDate}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Trạng thái</dt>\n                          <dd className=\"col-sm-9\">{item.activated ? 'Đang hoạt động' : 'Không hoạt động'}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n      <CModal show={primary} onClose={() => setPrimary(!primary)} color=\"primary\">\n        <CModalHeader closeButton>\n          <CModalTitle>Khóa nhân viên</CModalTitle>\n        </CModalHeader>\n        <CModalBody>{`Bạn có chắc chắn muốn ${!selectedPro.current.activated ? 'mở khóa' : 'khóa'} nhân viên này không?`}</CModalBody>\n        <CModalFooter>\n          <CButton color=\"primary\" onClick={lockUser}>\n            Đồng ý\n          </CButton>\n          <CButton color=\"secondary\" onClick={() => setPrimary(!primary)}>\n            Hủy\n          </CButton>\n        </CModalFooter>\n      </CModal>\n    </CCard>\n  );\n};\n\nexport default User;\n"]}]}