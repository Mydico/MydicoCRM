{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/user.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/user.js","mtime":1622399676355},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9CgpmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgppbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0NhcmRCb2R5LCBDQmFkZ2UsIENCdXR0b24sIENDb2xsYXBzZSwgQ0RhdGFUYWJsZSwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDUm93LCBDQ29sLCBDUGFnaW5hdGlvbiB9IGZyb20gJ0Bjb3JldWkvcmVhY3QvbGliJzsgLy8gaW1wb3J0IHVzZXJzRGF0YSBmcm9tICcuLi8uLi8uLi91c2Vycy9Vc2Vyc0RhdGEuanMnOwoKaW1wb3J0IENJY29uIGZyb20gJ0Bjb3JldWkvaWNvbnMtcmVhY3QvbGliL0NJY29uJzsKaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBnZXRVc2VyLCB1cGRhdGVVc2VyIH0gZnJvbSAnLi91c2VyLmFwaS5qcyc7CmltcG9ydCB7IGdsb2JhbGl6ZWRVc2VyU2VsZWN0b3JzLCByZXNldCB9IGZyb20gJy4vdXNlci5yZWR1Y2VyLmpzJzsKaW1wb3J0IHsgdXNlSGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCB7IHVzZXJTYWZlU2VsZWN0b3IgfSBmcm9tICcuLi8uLi9sb2dpbi9hdXRoZW50aWNhdGUucmVkdWNlci5qcyc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IENNb2RhbCwgQ01vZGFsQm9keSwgQ01vZGFsRm9vdGVyLCBDTW9kYWxIZWFkZXIsIENNb2RhbFRpdGxlIH0gZnJvbSAnQGNvcmV1aS9yZWFjdCc7CnZhciBzZWxlY3RBbGwgPSBnbG9iYWxpemVkVXNlclNlbGVjdG9ycy5zZWxlY3RBbGw7Cgp2YXIgVXNlciA9IGZ1bmN0aW9uIFVzZXIocHJvcHMpIHsKICB2YXIgaXNJbml0aWFsTW91bnQgPSB1c2VSZWYodHJ1ZSk7CgogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBfZGV0YWlscyA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldERldGFpbHMgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgX3VzZVNlbGVjdG9yID0gdXNlU2VsZWN0b3IodXNlclNhZmVTZWxlY3RvciksCiAgICAgIGFjY291bnQgPSBfdXNlU2VsZWN0b3IuYWNjb3VudDsKCiAgdmFyIGlzQWRtaW4gPSBhY2NvdW50LmF1dGhvcml0aWVzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIGl0ZW0gPT09ICdST0xFX0FETUlOJzsKICB9KS5sZW5ndGggPiAwOwoKICB2YXIgX3VzZVNlbGVjdG9yMiA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgfSksCiAgICAgIGluaXRpYWxTdGF0ZSA9IF91c2VTZWxlY3RvcjIuaW5pdGlhbFN0YXRlOwoKICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKDEpLAogICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksCiAgICAgIGFjdGl2ZVBhZ2UgPSBfdXNlU3RhdGU0WzBdLAogICAgICBzZXRBY3RpdmVQYWdlID0gX3VzZVN0YXRlNFsxXTsKCiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZSg1MCksCiAgICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSwKICAgICAgc2l6ZSA9IF91c2VTdGF0ZTZbMF0sCiAgICAgIHNldFNpemUgPSBfdXNlU3RhdGU2WzFdOwoKICB2YXIgc2VsZWN0ZWRQcm8gPSB1c2VSZWYoewogICAgaWQ6IG51bGwsCiAgICBhY3RpdmF0ZWQ6IHRydWUKICB9KTsKCiAgdmFyIF91c2VTdGF0ZTcgPSB1c2VTdGF0ZShmYWxzZSksCiAgICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSwKICAgICAgcHJpbWFyeSA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldFByaW1hcnkgPSBfdXNlU3RhdGU4WzFdOwoKICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIHZhciBoaXN0b3J5ID0gdXNlSGlzdG9yeSgpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBpZiAoaXNJbml0aWFsTW91bnQuY3VycmVudCkgewogICAgICBpc0luaXRpYWxNb3VudC5jdXJyZW50ID0gZmFsc2U7CiAgICB9CiAgfSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIC8vIGRpc3BhdGNoKGZldGNoaW5nKCkpOwogICAgLy8gZGlzcGF0Y2goZ2V0VXNlcigpKTsKICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogIH0sIFtdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2goZ2V0VXNlcih7CiAgICAgIHBhZ2U6IGFjdGl2ZVBhZ2UgLSAxLAogICAgICBzaXplOiBzaXplLAogICAgICBzb3J0OiAnY3JlYXRlZERhdGUsREVTQycKICAgIH0pKTsKICB9LCBbYWN0aXZlUGFnZSwgc2l6ZV0pOwogIHZhciB1c2VycyA9IHVzZVNlbGVjdG9yKHNlbGVjdEFsbCk7CgogIHZhciBjb21wdXRlZEl0ZW1zID0gZnVuY3Rpb24gY29tcHV0ZWRJdGVtcyhpdGVtcykgewogICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgX2l0ZW0kd2FyZCwgX2l0ZW0kZGlzdHJpY3QsIF9pdGVtJGNpdHk7CgogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICB3YXJkOiAoX2l0ZW0kd2FyZCA9IGl0ZW0ud2FyZCkgPT09IG51bGwgfHwgX2l0ZW0kd2FyZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kd2FyZC5uYW1lLAogICAgICAgIGRpc3RyaWN0OiAoX2l0ZW0kZGlzdHJpY3QgPSBpdGVtLmRpc3RyaWN0KSA9PT0gbnVsbCB8fCBfaXRlbSRkaXN0cmljdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kZGlzdHJpY3QubmFtZSwKICAgICAgICBjaXR5OiAoX2l0ZW0kY2l0eSA9IGl0ZW0uY2l0eSkgPT09IG51bGwgfHwgX2l0ZW0kY2l0eSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kY2l0eS5uYW1lLAogICAgICAgIGNyZWF0ZWREYXRlOiBtb21lbnQoaXRlbS5jcmVhdGVkRGF0ZSkuZm9ybWF0KCdERC1NTS1ZWVlZJykKICAgICAgfSk7CiAgICB9KTsKICB9OwoKICB2YXIgdG9nZ2xlRGV0YWlscyA9IGZ1bmN0aW9uIHRvZ2dsZURldGFpbHMoaW5kZXgpIHsKICAgIHZhciBwb3NpdGlvbiA9IF9kZXRhaWxzLmluZGV4T2YoaW5kZXgpOwoKICAgIHZhciBuZXdEZXRhaWxzID0gX2RldGFpbHMuc2xpY2UoKTsKCiAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7CiAgICAgIG5ld0RldGFpbHMuc3BsaWNlKHBvc2l0aW9uLCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIG5ld0RldGFpbHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF9kZXRhaWxzKSwgW2luZGV4XSk7CiAgICB9CgogICAgc2V0RGV0YWlscyhuZXdEZXRhaWxzKTsKICB9OyAvLyBDb2RlCVTDqm4gbmfGsOG7nWkgZMO5bmcJTmfGsOG7nWkgbGnDqm4gbOG6oWMJTsSDbSBTaW5oCcSQaeG7h24gdGhv4bqhaQlOaMOibiB2acOqbiBxdeG6o24gbMO9CUxv4bqhaSBuZ8aw4budaSBkw7luZwlQaMOibiBsb+G6oWkJU+G7rWEJVOG6oW8gxJHGoW4KCgogIHZhciBmaWVsZHMgPSBbewogICAga2V5OiAnb3JkZXInLAogICAgbGFiZWw6ICdTVFQnLAogICAgX3N0eWxlOiB7CiAgICAgIHdpZHRoOiAnMSUnCiAgICB9LAogICAgZmlsdGVyOiBmYWxzZQogIH0sIHsKICAgIGtleTogJ2xvZ2luJywKICAgIGxhYmVsOiAnVMOqbiDEkcSDbmcgbmjhuq1wJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzEwJScKICAgIH0KICB9LCB7CiAgICBrZXk6ICduYW1lJywKICAgIGxhYmVsOiAnSOG7jSB0w6puJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzE1JScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdjb2RlJywKICAgIGxhYmVsOiAnTcOjIG5ow6JuIHZpw6puJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzE1JScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdwaG9uZScsCiAgICBsYWJlbDogJ1Phu5EgxJFp4buHbiB0aG/huqFpJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzE1JScKICAgIH0KICB9LCB7CiAgICBrZXk6ICdkZXBhcnRtZW50JywKICAgIGxhYmVsOiAnQ2hpIG5ow6FuaCcsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnYnJhbmNoJywKICAgIGxhYmVsOiAnUGjDsm5nIGJhbicsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAncm9sZXMnLAogICAgbGFiZWw6ICdDaOG7qWMgduG7pScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnY3JlYXRlZERhdGUnLAogICAgbGFiZWw6ICdOZ8OgeSB04bqhbycsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnYWN0aXZhdGVkJywKICAgIGxhYmVsOiAnVHLhuqFuZyB0aMOhaScsCiAgICBfc3R5bGU6IHsKICAgICAgd2lkdGg6ICcxNSUnCiAgICB9CiAgfSwgewogICAga2V5OiAnc2hvd19kZXRhaWxzJywKICAgIGxhYmVsOiAnJywKICAgIF9zdHlsZTogewogICAgICB3aWR0aDogJzElJwogICAgfSwKICAgIGZpbHRlcjogZmFsc2UKICB9XTsKCiAgdmFyIGdldEJhZGdlID0gZnVuY3Rpb24gZ2V0QmFkZ2Uoc3RhdHVzKSB7CiAgICBzd2l0Y2ggKHN0YXR1cykgewogICAgICBjYXNlIHRydWU6CiAgICAgICAgcmV0dXJuICdzdWNjZXNzJzsKCiAgICAgIGNhc2UgZmFsc2U6CiAgICAgICAgcmV0dXJuICdkYW5nZXInOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gJ3ByaW1hcnknOwogICAgfQogIH07CgogIHZhciBjc3ZDb250ZW50ID0gY29tcHV0ZWRJdGVtcyh1c2VycykubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpdGVtKS5qb2luKCcsJyk7CiAgfSkuam9pbignXG4nKTsKICB2YXIgY3N2Q29kZSA9ICdkYXRhOnRleHQvY3N2O2NoYXJzZXQ9dXRmLTgsU0VQPSwlMEEnICsgZW5jb2RlVVJJQ29tcG9uZW50KGNzdkNvbnRlbnQpOwoKICB2YXIgdG9DcmVhdGVVc2VyID0gZnVuY3Rpb24gdG9DcmVhdGVVc2VyKCkgewogICAgaGlzdG9yeS5wdXNoKCIiLmNvbmNhdChwcm9wcy5tYXRjaC51cmwsICIvbmV3IikpOwogIH07CgogIHZhciB0b0VkaXRVc2VyID0gZnVuY3Rpb24gdG9FZGl0VXNlcih1c2VySWQpIHsKICAgIGhpc3RvcnkucHVzaCgiIi5jb25jYXQocHJvcHMubWF0Y2gudXJsLCAiLyIpLmNvbmNhdCh1c2VySWQsICIvZWRpdCIpKTsKICB9OwoKICB2YXIgZGVib3VuY2VkU2VhcmNoQ29sdW1uID0gdXNlQ2FsbGJhY2soXy5kZWJvdW5jZShmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID4gMCkgewogICAgICBPYmplY3Qua2V5cyh2YWx1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKCF2YWx1ZVtrZXldKSBkZWxldGUgdmFsdWVba2V5XTsKICAgICAgfSk7CiAgICAgIGRpc3BhdGNoKGdldFVzZXIoX29iamVjdFNwcmVhZCh7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgICB9LCB2YWx1ZSkpKTsKICAgIH0KICB9LCAxMDAwKSwgW10pOwoKICB2YXIgb25GaWx0ZXJDb2x1bW4gPSBmdW5jdGlvbiBvbkZpbHRlckNvbHVtbih2YWx1ZSkgewogICAgZGVib3VuY2VkU2VhcmNoQ29sdW1uKHZhbHVlKTsKICB9OwoKICB2YXIgbG9ja1VzZXIgPSBmdW5jdGlvbiBsb2NrVXNlcigpIHsKICAgIGRpc3BhdGNoKHVwZGF0ZVVzZXIoewogICAgICBpZDogc2VsZWN0ZWRQcm8uY3VycmVudC5pZCwKICAgICAgYWN0aXZhdGVkOiAhc2VsZWN0ZWRQcm8uY3VycmVudC5hY3RpdmF0ZWQKICAgIH0pKTsKICAgIHNldFByaW1hcnkoZmFsc2UpOwogIH07CgogIHZhciBtZW1vQ29tcHV0ZWRJdGVtcyA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpdGVtcykgewogICAgcmV0dXJuIGNvbXB1dGVkSXRlbXMoaXRlbXMpOwogIH0sIFtdKTsKICB2YXIgbWVtb0xpc3RlZCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIG1lbW9Db21wdXRlZEl0ZW1zKHVzZXJzKTsKICB9LCBbdXNlcnNdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGluaXRpYWxTdGF0ZS51cGRhdGluZ1N1Y2Nlc3MpIHsKICAgICAgZGlzcGF0Y2goZ2V0VXNlcih7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBzaXplOiBzaXplLAogICAgICAgIHNvcnQ6ICdjcmVhdGVkRGF0ZSxERVNDJwogICAgICB9KSk7CiAgICAgIGRpc3BhdGNoKHJlc2V0KCkpOwogICAgfQogIH0sIFtpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzXSk7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZEhlYWRlciwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ljb24sIHsKICAgIG5hbWU6ICJjaWwtZ3JpZCIKICB9KSwgIiBEYW5oIHNceEUxY2ggbmdcdTAxQjBcdTFFRERpIGRceEY5bmciLCAoaXNBZG1pbiB8fCBhY2NvdW50LnJvbGUuZmlsdGVyKGZ1bmN0aW9uIChyb2wpIHsKICAgIHJldHVybiByb2wubWV0aG9kID09PSAnUE9TVCcgJiYgcm9sLmVudGl0eSA9PT0gJy9hcGkvdXNlcnMnOwogIH0pLmxlbmd0aCA+IDApICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAic3VjY2VzcyIsCiAgICB2YXJpYW50OiAib3V0bGluZSIsCiAgICBjbGFzc05hbWU6ICJtbC0zIiwKICAgIG9uQ2xpY2s6IHRvQ3JlYXRlVXNlcgogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICBuYW1lOiAiY2lsLXBsdXMiCiAgfSksICIgVGhceEVBbSBtXHUxRURCaSBuZ1x1MDFCMFx1MUVERGkgZFx4RjluZyIpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NhcmRCb2R5LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICBjb2xvcjogInByaW1hcnkiLAogICAgY2xhc3NOYW1lOiAibWItMiIsCiAgICBocmVmOiBjc3ZDb2RlLAogICAgZG93bmxvYWQ6ICJjb3JldWktdGFibGUtZGF0YS5jc3YiLAogICAgdGFyZ2V0OiAiX2JsYW5rIgogIH0sICJUXHUxRUEzaSBleGNlbCAoLmNzdikiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0RhdGFUYWJsZSwgewogICAgaXRlbXM6IG1lbW9MaXN0ZWQsCiAgICBmaWVsZHM6IGZpZWxkcywKICAgIGNvbHVtbkZpbHRlcjogdHJ1ZSwKICAgIHRhYmxlRmlsdGVyOiB0cnVlLAogICAgY2xlYW5lcjogdHJ1ZSwKICAgIGl0ZW1zUGVyUGFnZVNlbGVjdDogewogICAgICBsYWJlbDogJ1Phu5EgbMaw4bujbmcgdHLDqm4gbeG7mXQgdHJhbmcnLAogICAgICB2YWx1ZXM6IFs1MCwgMTAwLCAxNTAsIDIwMF0KICAgIH0sCiAgICBpdGVtc1BlclBhZ2U6IHNpemUsCiAgICBob3ZlcjogdHJ1ZSwKICAgIHNvcnRlcjogdHJ1ZSwKICAgIGxvYWRpbmc6IGluaXRpYWxTdGF0ZS5sb2FkaW5nIC8vIG9uUm93Q2xpY2s9eyhpdGVtLGluZGV4LGNvbCxlKSA9PiBjb25zb2xlLmxvZyhpdGVtLGluZGV4LGNvbCxlKX0KICAgICwKICAgIG9uUGFnZUNoYW5nZTogZnVuY3Rpb24gb25QYWdlQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gY29uc29sZS5sb2coJ25ldyBwYWdlOicsIHZhbCk7CiAgICB9LAogICAgb25QYWdlc0NoYW5nZTogZnVuY3Rpb24gb25QYWdlc0NoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgcGFnZXM6JywgdmFsKTsKICAgIH0sCiAgICBvblBhZ2luYXRpb25DaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnaW5hdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIHNldFNpemUodmFsKTsKICAgIH0gLy8gb25GaWx0ZXJlZEl0ZW1zQ2hhbmdlPXsodmFsKSA9PiBjb25zb2xlLmxvZygnbmV3IGZpbHRlcmVkIGl0ZW1zOicsIHZhbCl9CiAgICAvLyBvblNvcnRlclZhbHVlQ2hhbmdlPXsodmFsKSA9PiBjb25zb2xlLmxvZygnbmV3IHNvcnRlciB2YWx1ZTonLCB2YWwpfQogICAgLAogICAgb25UYWJsZUZpbHRlckNoYW5nZTogZnVuY3Rpb24gb25UYWJsZUZpbHRlckNoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCduZXcgdGFibGUgZmlsdGVyOicsIHZhbCk7CiAgICB9LAogICAgb25Db2x1bW5GaWx0ZXJDaGFuZ2U6IG9uRmlsdGVyQ29sdW1uLAogICAgc2NvcGVkU2xvdHM6IHsKICAgICAgb3JkZXI6IGZ1bmN0aW9uIG9yZGVyKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGluZGV4ICsgMSk7CiAgICAgIH0sCiAgICAgIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoInRkIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0JhZGdlLCB7CiAgICAgICAgICBjb2xvcjogZ2V0QmFkZ2UoaXRlbS5hY3RpdmF0ZWQpCiAgICAgICAgfSwgaXRlbS5hY3RpdmF0ZWQgPyAnxJBhbmcgaG/huqF0IMSR4buZbmcnIDogJ0tow7RuZyBob+G6oXQgxJHhu5luZycpKTsKICAgICAgfSwKICAgICAgZGVwYXJ0bWVudDogZnVuY3Rpb24gZGVwYXJ0bWVudChpdGVtKSB7CiAgICAgICAgdmFyIF9pdGVtJGRlcGFydG1lbnQ7CgogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCAoKF9pdGVtJGRlcGFydG1lbnQgPSBpdGVtLmRlcGFydG1lbnQpID09PSBudWxsIHx8IF9pdGVtJGRlcGFydG1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGRlcGFydG1lbnQubmFtZSkgfHwgJycpOwogICAgICB9LAogICAgICBicmFuY2g6IGZ1bmN0aW9uIGJyYW5jaChpdGVtKSB7CiAgICAgICAgdmFyIF9pdGVtJGJyYW5jaDsKCiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsICgoX2l0ZW0kYnJhbmNoID0gaXRlbS5icmFuY2gpID09PSBudWxsIHx8IF9pdGVtJGJyYW5jaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2l0ZW0kYnJhbmNoLm5hbWUpIHx8ICcnKTsKICAgICAgfSwKICAgICAgbmFtZTogZnVuY3Rpb24gbmFtZShpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIG51bGwsIGl0ZW0ubGFzdE5hbWUgfHwgJycsICIgIiwgaXRlbS5maXJzdE5hbWUgfHwgJycpOwogICAgICB9LAogICAgICByb2xlczogZnVuY3Rpb24gcm9sZXMoaXRlbSkgewogICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgidGQiLCBudWxsLCBpdGVtLnJvbGVzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjdXJyZW50VmFsdWUpIHsKICAgICAgICAgIHJldHVybiBzdW0gKyBjdXJyZW50VmFsdWUubmFtZTsKICAgICAgICB9LCAnJykpOwogICAgICB9LAogICAgICBzaG93X2RldGFpbHM6IGZ1bmN0aW9uIHNob3dfZGV0YWlscyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJ0ZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImQtZmxleCBweS0yIgogICAgICAgIH0sIChpc0FkbWluIHx8IGFjY291bnQucm9sZS5maWx0ZXIoZnVuY3Rpb24gKHJvbCkgewogICAgICAgICAgcmV0dXJuIHJvbC5tZXRob2QgPT09ICdQVVQnICYmIHJvbC5lbnRpdHkgPT09ICcvYXBpL3VzZXJzJzsKICAgICAgICB9KS5sZW5ndGggPiAwKSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTMiLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgdG9FZGl0VXNlcihpdGVtLmxvZ2luKTsKICAgICAgICAgIH0KICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgICAgbmFtZTogImNpbC1wZW5jaWwiCiAgICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIGNsYXNzTmFtZTogIm1yLTMiLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgICAgICAgdG9nZ2xlRGV0YWlscyhpdGVtLmlkKTsKICAgICAgICAgIH0KICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgICAgbmFtZTogImNpbFpvb20iCiAgICAgICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICAgICAgdmFyaWFudDogIm91dGxpbmUiLAogICAgICAgICAgc2hhcGU6ICJzcXVhcmUiLAogICAgICAgICAgc2l6ZTogInNtIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIHNlbGVjdGVkUHJvLmN1cnJlbnQgPSB7CiAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgYWN0aXZhdGVkOiBpdGVtLmFjdGl2YXRlZAogICAgICAgICAgICB9OwogICAgICAgICAgICBzZXRQcmltYXJ5KCFwcmltYXJ5KTsKICAgICAgICAgIH0KICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSWNvbiwgewogICAgICAgICAgbmFtZTogIWl0ZW0uYWN0aXZhdGVkID8gJ2NpbExvY2tMb2NrZWQnIDogJ2NpbExvY2tVbmxvY2tlZCcKICAgICAgICB9KSkpOwogICAgICB9LAogICAgICBkZXRhaWxzOiBmdW5jdGlvbiBkZXRhaWxzKGl0ZW0pIHsKICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbGxhcHNlLCB7CiAgICAgICAgICBzaG93OiBfZGV0YWlscy5pbmNsdWRlcyhpdGVtLmlkKQogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImg1IiwgbnVsbCwgIlRoXHhGNG5nIHRpbiBuZ1x1MDFCMFx1MUVERGkgZFx4RjluZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDUm93LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ29sLCB7CiAgICAgICAgICBsZzogIjYiCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUXHhFQW4gTG9naW46IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0ubG9naW4pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJIXHUxRUNEOiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmZpcnN0TmFtZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIlRceEVBbiIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tOSIKICAgICAgICB9LCBpdGVtLmxhc3ROYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkbCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInJvdyIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZHQiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJjb2wtc20tMyIKICAgICAgICB9LCAiU1x1MUVEMSBcdTAxMTFpXHUxRUM3biB0aG9cdTFFQTFpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0ucGhvbmUpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgICAgIGxnOiAiNiIKICAgICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGwiLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJyb3ciCiAgICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImR0IiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTMiCiAgICAgICAgfSwgIkVtYWlsIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0uZW1haWwpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJOZ1x4RTB5IFRcdTFFQTFvIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkZCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS05IgogICAgICAgIH0sIGl0ZW0uY3JlYXRlZERhdGUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRsIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAicm93IgogICAgICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkdCIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogImNvbC1zbS0zIgogICAgICAgIH0sICJUclx1MUVBMW5nIHRoXHhFMWkiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoImRkIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAiY29sLXNtLTkiCiAgICAgICAgfSwgaXRlbS5hY3RpdmF0ZWQgPyAnxJBhbmcgaG/huqF0IMSR4buZbmcnIDogJ0tow7RuZyBob+G6oXQgxJHhu5luZycpKSkpKSk7CiAgICAgIH0KICAgIH0KICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1BhZ2luYXRpb24sIHsKICAgIGFjdGl2ZVBhZ2U6IGFjdGl2ZVBhZ2UsCiAgICBwYWdlczogTWF0aC5mbG9vcihpbml0aWFsU3RhdGUudG90YWxJdGVtIC8gc2l6ZSkgKyAxLAogICAgb25BY3RpdmVQYWdlQ2hhbmdlOiBmdW5jdGlvbiBvbkFjdGl2ZVBhZ2VDaGFuZ2UoaSkgewogICAgICByZXR1cm4gc2V0QWN0aXZlUGFnZShpKTsKICAgIH0KICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENNb2RhbCwgewogICAgc2hvdzogcHJpbWFyeSwKICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgIHJldHVybiBzZXRQcmltYXJ5KCFwcmltYXJ5KTsKICAgIH0sCiAgICBjb2xvcjogInByaW1hcnkiCiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ01vZGFsSGVhZGVyLCB7CiAgICBjbG9zZUJ1dHRvbjogdHJ1ZQogIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENNb2RhbFRpdGxlLCBudWxsLCAiS2hceEYzYSBuaFx4RTJuIHZpXHhFQW4iKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENNb2RhbEJvZHksIG51bGwsICJCXHUxRUExbiBjXHhGMyBjaFx1MUVBRmMgY2hcdTFFQUZuIG11XHUxRUQxbiAiLmNvbmNhdCghc2VsZWN0ZWRQcm8uY3VycmVudC5hY3RpdmF0ZWQgPyAnbeG7nyBraMOzYScgOiAna2jDs2EnLCAiIG5oXHhFMm4gdmlceEVBbiBuXHhFMHkga2hceEY0bmc/IikpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTW9kYWxGb290ZXIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAicHJpbWFyeSIsCiAgICBvbkNsaWNrOiBsb2NrVXNlcgogIH0sICJcdTAxMTBcdTFFRDNuZyBceEZEIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENCdXR0b24sIHsKICAgIGNvbG9yOiAic2Vjb25kYXJ5IiwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIHJldHVybiBzZXRQcmltYXJ5KCFwcmltYXJ5KTsKICAgIH0KICB9LCAiSFx1MUVFN3kiKSkpKTsKfTsKCmV4cG9ydCBkZWZhdWx0IFVzZXI7"},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/user/UserList/user.js"],"names":["React","useCallback","useEffect","useRef","useState","CCardBody","CBadge","CButton","CCollapse","CDataTable","CCard","CCardHeader","CRow","CCol","CPagination","CIcon","useDispatch","useSelector","getUser","updateUser","globalizedUserSelectors","reset","useHistory","moment","userSafeSelector","_","CModal","CModalBody","CModalFooter","CModalHeader","CModalTitle","selectAll","User","props","isInitialMount","details","setDetails","account","isAdmin","authorities","filter","item","length","state","user","initialState","activePage","setActivePage","size","setSize","selectedPro","id","activated","primary","setPrimary","dispatch","history","current","page","sort","users","computedItems","items","map","ward","name","district","city","createdDate","format","toggleDetails","index","position","indexOf","newDetails","slice","splice","fields","key","label","_style","width","getBadge","status","csvContent","Object","values","join","csvCode","encodeURIComponent","toCreateUser","push","match","url","toEditUser","userId","debouncedSearchColumn","debounce","value","keys","forEach","onFilterColumn","lockUser","memoComputedItems","memoListed","useMemo","updatingSuccess","role","rol","method","entity","loading","val","console","log","order","department","branch","lastName","firstName","roles","reduce","sum","currentValue","show_details","login","includes","phone","email","Math","floor","totalItem","i"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { CCardBody, CBadge, CButton, CCollapse, CDataTable, CCard, CCardHeader, CRow, CCol, CPagination } from '@coreui/react/lib';\n// import usersData from '../../../users/UsersData.js';\nimport CIcon from '@coreui/icons-react/lib/CIcon';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUser, updateUser } from './user.api.js';\nimport { globalizedUserSelectors, reset } from './user.reducer.js';\nimport { useHistory } from 'react-router-dom';\nimport moment from 'moment';\nimport { userSafeSelector } from '../../login/authenticate.reducer.js';\nimport _ from 'lodash';\nimport { CModal, CModalBody, CModalFooter, CModalHeader, CModalTitle } from '@coreui/react';\n\nconst { selectAll } = globalizedUserSelectors;\n\nconst User = props => {\n  const isInitialMount = useRef(true);\n  const [details, setDetails] = useState([]);\n  const { account } = useSelector(userSafeSelector);\n  const isAdmin = account.authorities.filter(item => item === 'ROLE_ADMIN').length > 0;\n  const { initialState } = useSelector(state => state.user);\n  const [activePage, setActivePage] = useState(1);\n  const [size, setSize] = useState(50);\n  const selectedPro = useRef({ id: null, activated: true });\n  const [primary, setPrimary] = useState(false);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    }\n  });\n  useEffect(() => {\n    // dispatch(fetching());\n    // dispatch(getUser());\n    dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    dispatch(getUser({ page: activePage - 1, size, sort: 'createdDate,DESC' }));\n  }, [activePage, size]);\n\n  const users = useSelector(selectAll);\n  const computedItems = items => {\n    return items.map(item => {\n      return {\n        ...item,\n        ward: item.ward?.name,\n        district: item.district?.name,\n        city: item.city?.name,\n        createdDate: moment(item.createdDate).format('DD-MM-YYYY')\n      };\n    });\n  };\n  const toggleDetails = index => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  // Code\tTên người dùng\tNgười liên lạc\tNăm Sinh\tĐiện thoại\tNhân viên quản lý\tLoại người dùng\tPhân loại\tSửa\tTạo đơn\n  const fields = [\n    {\n      key: 'order',\n      label: 'STT',\n      _style: { width: '1%' },\n      filter: false\n    },\n    { key: 'login', label: 'Tên đăng nhập', _style: { width: '10%' } },\n    { key: 'name', label: 'Họ tên', _style: { width: '15%' } },\n    { key: 'code', label: 'Mã nhân viên', _style: { width: '15%' } },\n    { key: 'phone', label: 'Số điện thoại', _style: { width: '15%' } },\n    { key: 'department', label: 'Chi nhánh', _style: { width: '15%' } },\n    { key: 'branch', label: 'Phòng ban', _style: { width: '15%' } },\n    { key: 'roles', label: 'Chức vụ', _style: { width: '15%' } },\n    { key: 'createdDate', label: 'Ngày tạo', _style: { width: '15%' } },\n    { key: 'activated', label: 'Trạng thái', _style: { width: '15%' } },\n    {\n      key: 'show_details',\n      label: '',\n      _style: { width: '1%' },\n      filter: false\n    }\n  ];\n\n  const getBadge = status => {\n    switch (status) {\n      case true:\n        return 'success';\n      case false:\n        return 'danger';\n      default:\n        return 'primary';\n    }\n  };\n  const csvContent = computedItems(users)\n    .map(item => Object.values(item).join(','))\n    .join('\\n');\n  const csvCode = 'data:text/csv;charset=utf-8,SEP=,%0A' + encodeURIComponent(csvContent);\n  const toCreateUser = () => {\n    history.push(`${props.match.url}/new`);\n  };\n\n  const toEditUser = userId => {\n    history.push(`${props.match.url}/${userId}/edit`);\n  };\n  const debouncedSearchColumn = useCallback(\n    _.debounce(value => {\n      if (Object.keys(value).length > 0) {\n          Object.keys(value).forEach(key => {\n            if (!value[key]) delete value[key];\n          })\n          dispatch(getUser({ page: 0, size: size, sort: 'createdDate,DESC', ...value }));\n      }\n    }, 1000),\n    []\n  );\n\n  const onFilterColumn = value => {\n    debouncedSearchColumn(value);\n  };\n\n  const lockUser = () => {\n    dispatch(updateUser({ id: selectedPro.current.id, activated: !selectedPro.current.activated }));\n    setPrimary(false);\n  };\n\n  const memoComputedItems = React.useCallback(items => computedItems(items), []);\n  const memoListed = React.useMemo(() => memoComputedItems(users), [users]);\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      dispatch(getUser({ page: 0, size: size, sort: 'createdDate,DESC' }));\n      dispatch(reset());\n    }\n  }, [initialState.updatingSuccess]);\n  return (\n    <CCard>\n      <CCardHeader>\n        <CIcon name=\"cil-grid\" /> Danh sách người dùng\n        {(isAdmin || account.role.filter(rol => rol.method === 'POST' && rol.entity === '/api/users').length > 0) && (\n          <CButton color=\"success\" variant=\"outline\" className=\"ml-3\" onClick={toCreateUser}>\n            <CIcon name=\"cil-plus\" /> Thêm mới người dùng\n          </CButton>\n        )}\n      </CCardHeader>\n      <CCardBody>\n        <CButton color=\"primary\" className=\"mb-2\" href={csvCode} download=\"coreui-table-data.csv\" target=\"_blank\">\n          Tải excel (.csv)\n        </CButton>\n        <CDataTable\n          items={memoListed}\n          fields={fields}\n          columnFilter\n          tableFilter\n          cleaner\n          itemsPerPageSelect={{ label: 'Số lượng trên một trang', values: [50, 100, 150, 200] }}\n          itemsPerPage={size}\n          hover\n          sorter\n          loading={initialState.loading}\n          // onRowClick={(item,index,col,e) => console.log(item,index,col,e)}\n          onPageChange={val => console.log('new page:', val)}\n          onPagesChange={val => console.log('new pages:', val)}\n          onPaginationChange={val => setSize(val)}\n          // onFilteredItemsChange={(val) => console.log('new filtered items:', val)}\n          // onSorterValueChange={(val) => console.log('new sorter value:', val)}\n          onTableFilterChange={val => console.log('new table filter:', val)}\n          onColumnFilterChange={onFilterColumn}\n          scopedSlots={{\n            order: (item, index) => <td>{index + 1}</td>,\n            activated: item => (\n              <td>\n                <CBadge color={getBadge(item.activated)}>{item.activated ? 'Đang hoạt động' : 'Không hoạt động'}</CBadge>\n              </td>\n            ),\n            department: item => <td>{item.department?.name || ''}</td>,\n            branch: item => <td>{item.branch?.name || ''}</td>,\n            name: item => (\n              <td>\n                {item.lastName || ''} {item.firstName || ''}\n              </td>\n            ),\n            roles: item => <td>{item.roles.reduce((sum, currentValue) => sum + currentValue.name, '')}</td>,\n            show_details: item => {\n              return (\n                <td className=\"d-flex py-2\">\n                  {(isAdmin || account.role.filter(rol => rol.method === 'PUT' && rol.entity === '/api/users').length > 0) && (\n                    <CButton\n                      color=\"primary\"\n                      variant=\"outline\"\n                      shape=\"square\"\n                      size=\"sm\"\n                      className=\"mr-3\"\n                      onClick={() => {\n                        toEditUser(item.login);\n                      }}\n                    >\n                      <CIcon name=\"cil-pencil\" />\n                    </CButton>\n                  )}\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    className=\"mr-3\"\n                    onClick={() => {\n                      toggleDetails(item.id);\n                    }}\n                  >\n                    <CIcon name=\"cilZoom\" />\n                  </CButton>\n                  <CButton\n                    color=\"primary\"\n                    variant=\"outline\"\n                    shape=\"square\"\n                    size=\"sm\"\n                    onClick={() => {\n                      selectedPro.current = { id: item.id, activated: item.activated };\n                      setPrimary(!primary);\n                    }}\n                  >\n                    <CIcon name={!item.activated ? 'cilLockLocked' : 'cilLockUnlocked'} />\n                  </CButton>\n                </td>\n              );\n            },\n            details: item => {\n              return (\n                <CCollapse show={details.includes(item.id)}>\n                  <CCardBody>\n                    <h5>Thông tin người dùng</h5>\n                    <CRow>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên Login:</dt>\n                          <dd className=\"col-sm-9\">{item.login}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Họ:</dt>\n                          <dd className=\"col-sm-9\">{item.firstName}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Tên</dt>\n                          <dd className=\"col-sm-9\">{item.lastName}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Số điện thoại</dt>\n                          <dd className=\"col-sm-9\">{item.phone}</dd>\n                        </dl>\n                      </CCol>\n                      <CCol lg=\"6\">\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Email</dt>\n                          <dd className=\"col-sm-9\">{item.email}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Ngày Tạo</dt>\n                          <dd className=\"col-sm-9\">{item.createdDate}</dd>\n                        </dl>\n                        <dl className=\"row\">\n                          <dt className=\"col-sm-3\">Trạng thái</dt>\n                          <dd className=\"col-sm-9\">{item.activated ? 'Đang hoạt động' : 'Không hoạt động'}</dd>\n                        </dl>\n                      </CCol>\n                    </CRow>\n                  </CCardBody>\n                </CCollapse>\n              );\n            }\n          }}\n        />\n        <CPagination\n          activePage={activePage}\n          pages={Math.floor(initialState.totalItem / size) + 1}\n          onActivePageChange={i => setActivePage(i)}\n        />\n      </CCardBody>\n      <CModal show={primary} onClose={() => setPrimary(!primary)} color=\"primary\">\n        <CModalHeader closeButton>\n          <CModalTitle>Khóa nhân viên</CModalTitle>\n        </CModalHeader>\n        <CModalBody>{`Bạn có chắc chắn muốn ${!selectedPro.current.activated ? 'mở khóa' : 'khóa'} nhân viên này không?`}</CModalBody>\n        <CModalFooter>\n          <CButton color=\"primary\" onClick={lockUser}>\n            Đồng ý\n          </CButton>\n          <CButton color=\"secondary\" onClick={() => setPrimary(!primary)}>\n            Hủy\n          </CButton>\n        </CModalFooter>\n      </CModal>\n    </CCard>\n  );\n};\n\nexport default User;\n"]}]}