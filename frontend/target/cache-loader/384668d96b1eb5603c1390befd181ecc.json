{"remainingRequest":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js??ref--4-3!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js!/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/EditCustomer.js","dependencies":[{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/EditCustomer.js","mtime":1612606298777},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/source-map-loader/index.js","mtime":499162500000},{"path":"/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH0KCmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7IH0KCmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9CgpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0KCmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJ1bmRlZmluZWQiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0gIT0gbnVsbCkgX2lbInJldHVybiJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfQoKZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgpmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfQoKaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQ0J1dHRvbiwgQ0NhcmQsIENDYXJkSGVhZGVyLCBDQ2FyZEJvZHksIENDb2wsIENGb3JtLCBDSW52YWxpZEZlZWRiYWNrLCBDRm9ybUdyb3VwLCBDTGFiZWwsIENJbnB1dCwgQ1JvdywgQ1NlbGVjdCB9IGZyb20gJ0Bjb3JldWkvcmVhY3QnOwppbXBvcnQgQ0ljb24gZnJvbSAnQGNvcmV1aS9pY29ucy1yZWFjdCc7CmltcG9ydCB7IEZvcm1payB9IGZyb20gJ2Zvcm1payc7CmltcG9ydCAqIGFzIFl1cCBmcm9tICd5dXAnOwppbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCB7IGNyZWF0aW5nQ3VzdG9tZXIsIGdldEJyYW5jaGVzLCBnZXRDaXR5LCBnZXRDdXN0b21lclN0YXR1cywgZ2V0Q3VzdG9tZXJUeXBlLCBnZXREZXRhaWxDdXN0b21lciwgZ2V0RGlzdHJpY3QsIHVwZGF0ZUN1c3RvbWVyIH0gZnJvbSAnLi4vY3VzdG9tZXIuYXBpJzsKaW1wb3J0IFRvYXN0ZXIgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9ub3RpZmljYXRpb25zL3RvYXN0ZXIvVG9hc3Rlcic7CmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgZmV0Y2hpbmcsIGdsb2JhbGl6ZWRDdXN0b21lclNlbGVjdG9ycyB9IGZyb20gJy4uL2N1c3RvbWVyLnJlZHVjZXInOwppbXBvcnQgU2VsZWN0IGZyb20gJ3JlYWN0LXNlbGVjdCc7CnZhciBwaG9uZVJlZ0V4cCA9IC9eKChcXCtbMS05XXsxLDR9WyBcXC1dKil8KFxcKFswLTldezIsM31cXClbIFxcLV0qKXwoWzAtOV17Miw0fSlbIFxcLV0qKSo/WzAtOV17Myw0fT9bIFxcLV0qWzAtOV17Myw0fT8kLzsKCnZhciB2YWxpZGF0aW9uU2NoZW1hID0gZnVuY3Rpb24gdmFsaWRhdGlvblNjaGVtYSh2YWx1ZXMpIHsKICByZXR1cm4gWXVwLm9iamVjdCgpLnNoYXBlKHsKICAgIGNvbnRhY3ROYW1lOiBZdXAuc3RyaW5nKCkubWluKDUsICJUXHhFQW4gbGlceEVBbiBsXHUxRUExYyBwaFx1MUVBM2kgbFx1MUVEQm4gaFx1MDFBMW4gNSBrXHhFRCB0XHUxRUYxIikucmVxdWlyZWQoJ1TDqm4gbGnDqm4gbOG6oWMga2jDtG5nIMSR4buDIHRy4buRbmcnKSwKICAgIG5hbWU6IFl1cC5zdHJpbmcoKS5taW4oNSwgIlRceEVBbiBwaFx1MUVBM2kgbFx1MUVEQm4gaFx1MDFBMW4gNSBrXHhFRCB0XHUxRUYxIikucmVxdWlyZWQoJ1TDqm4ga2jDtG5nIMSR4buDIHRy4buRbmcnKSwKICAgIHRlbDogWXVwLnN0cmluZygpLm1hdGNoZXMocGhvbmVSZWdFeHAsICdT4buRIMSRaeG7h24gdGhv4bqhaSBraMO0bmcgxJHDum5nJykucmVxdWlyZWQoJ1Phu5EgxJFp4buHbiB0aG/huqFpIGtow7RuZyDEkeG7gyB0cuG7kW5nJyksCiAgICBjaXR5OiBZdXAuc3RyaW5nKCkubnVsbGFibGUodHJ1ZSkucmVxdWlyZWQoJ1Row6BuaCBwaOG7kSBraMO0bmcgxJHhu4MgdHLhu5FuZycpLAogICAgdHlwZTogWXVwLnN0cmluZygpLm51bGxhYmxlKHRydWUpLnJlcXVpcmVkKCdMb+G6oWkga2jDoWNoIGjDoG5nIGtow7RuZyDEkeG7gyB0cuG7kW5nJyksCiAgICBicmFuY2g6IFl1cC5zdHJpbmcoKS5udWxsYWJsZSh0cnVlKS5yZXF1aXJlZCgnQ2hpIG5ow6FuaCBraMO0bmcgxJHhu4MgdHLhu5FuZycpCiAgfSk7Cn07Cgp2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShnZXRWYWxpZGF0aW9uU2NoZW1hKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZXMpIHsKICAgIHZhciB2YWxpZGF0aW9uU2NoZW1hID0gZ2V0VmFsaWRhdGlvblNjaGVtYSh2YWx1ZXMpOwoKICAgIHRyeSB7CiAgICAgIHZhbGlkYXRpb25TY2hlbWEudmFsaWRhdGVTeW5jKHZhbHVlcywgewogICAgICAgIGFib3J0RWFybHk6IGZhbHNlCiAgICAgIH0pOwogICAgICByZXR1cm4ge307CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICByZXR1cm4gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcihlcnJvcik7CiAgICB9CiAgfTsKfTsKCnZhciBnZXRFcnJvcnNGcm9tVmFsaWRhdGlvbkVycm9yID0gZnVuY3Rpb24gZ2V0RXJyb3JzRnJvbVZhbGlkYXRpb25FcnJvcih2YWxpZGF0aW9uRXJyb3IpIHsKICB2YXIgRklSU1RfRVJST1IgPSAwOwogIHJldHVybiB2YWxpZGF0aW9uRXJyb3IuaW5uZXIucmVkdWNlKGZ1bmN0aW9uIChlcnJvcnMsIGVycm9yKSB7CiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBlcnJvcnMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBlcnJvci5wYXRoLCBlcnJvci5lcnJvcnNbRklSU1RfRVJST1JdKSk7CiAgfSwge30pOwp9OwoKdmFyIGZpbmRGaXJzdEVycm9yID0gZnVuY3Rpb24gZmluZEZpcnN0RXJyb3IoZm9ybU5hbWUsIGhhc0Vycm9yKSB7CiAgdmFyIGZvcm0gPSBkb2N1bWVudC5mb3Jtc1tmb3JtTmFtZV07CgogIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybS5sZW5ndGg7IGkrKykgewogICAgaWYgKGhhc0Vycm9yKGZvcm1baV0ubmFtZSkpIHsKICAgICAgZm9ybVtpXS5mb2N1cygpOwogICAgICBicmVhazsKICAgIH0KICB9Cn07Cgp2YXIgdmFsaWRhdGVGb3JtID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGVycm9ycykgewogIGZpbmRGaXJzdEVycm9yKCdzaW1wbGVGb3JtJywgZnVuY3Rpb24gKGZpZWxkTmFtZSkgewogICAgcmV0dXJuIEJvb2xlYW4oZXJyb3JzW2ZpZWxkTmFtZV0pOwogIH0pOwp9OwoKdmFyIEVkaXRDdXN0b21lciA9IGZ1bmN0aW9uIEVkaXRDdXN0b21lcihwcm9wcykgewogIHZhciBfdXNlU2VsZWN0b3IgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jdXN0b21lcjsKICB9KSwKICAgICAgaW5pdGlhbFN0YXRlID0gX3VzZVNlbGVjdG9yLmluaXRpYWxTdGF0ZTsKCiAgdmFyIGluaXRpYWxWYWx1ZXMgPSB7CiAgICBjb2RlOiAnJywKICAgIG5hbWU6ICcnLAogICAgY29udGFjdE5hbWU6ICcnLAogICAgZW1haWw6ICcnLAogICAgdGVsOiAnJywKICAgIGRhdGVPZkJpcnRoOiAnJywKICAgIGNpdHk6IG51bGwsCiAgICBkaXN0cmljdDogbnVsbCwKICAgIGFkZHJlc3M6ICcnLAogICAgYnJhbmNoOiBudWxsLAogICAgdHlwZTogbnVsbCwKICAgIHN0YXR1czogbnVsbCwKICAgIGNyZWF0ZWRZZWFyOiAnJywKICAgIG9iY2x1YkpvaW5UaW1lOiAnJwogIH07CiAgdmFyIHRvYXN0UmVmID0gdXNlUmVmKCk7CiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKICB2YXIgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKG51bGwpLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAgc2VsZWN0ZWRDaXR5ID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0U2VsZWN0ZWRDaXR5ID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShudWxsKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBpbml0VmFsdWVzID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0SW5pdFZhbHVlcyA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBzZWxlY3RCeUlkID0gZ2xvYmFsaXplZEN1c3RvbWVyU2VsZWN0b3JzLnNlbGVjdEJ5SWQ7CiAgdmFyIGN1c3RvbWVyID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4gc2VsZWN0QnlJZChzdGF0ZSwgcHJvcHMubWF0Y2gucGFyYW1zLmlkKTsKICB9KTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgZGlzcGF0Y2goZ2V0RGV0YWlsQ3VzdG9tZXIocHJvcHMubWF0Y2gucGFyYW1zLmlkKSk7CiAgICBkaXNwYXRjaChnZXRDaXR5KCkpOwogICAgZGlzcGF0Y2goZ2V0Q3VzdG9tZXJUeXBlKCkpOwogICAgZGlzcGF0Y2goZ2V0Q3VzdG9tZXJTdGF0dXMoKSk7CiAgICBkaXNwYXRjaChnZXRCcmFuY2hlcygpKTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChjdXN0b21lcikgewogICAgICB2YXIgX3RlbXAkc3RhdHVzOwoKICAgICAgdmFyIHRlbXAgPSBfb2JqZWN0U3ByZWFkKHt9LCBjdXN0b21lcik7CgogICAgICB0ZW1wLmNpdHkgPSB0ZW1wLmNpdHk7CiAgICAgIHRlbXAuZGlzdHJpY3QgPSB0ZW1wLmRpc3RyaWN0OwogICAgICB0ZW1wLmJyYW5jaCA9IHRlbXAuYnJhbmNoLmlkOwogICAgICB0ZW1wLnR5cGUgPSB0ZW1wLnR5cGUuaWQ7CiAgICAgIHRlbXAuc3RhdHVzID0gKF90ZW1wJHN0YXR1cyA9IHRlbXAuc3RhdHVzKSA9PT0gbnVsbCB8fCBfdGVtcCRzdGF0dXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90ZW1wJHN0YXR1cy5pZDsKICAgICAgc2V0SW5pdFZhbHVlcyh0ZW1wKTsKICAgIH0KICB9LCBbY3VzdG9tZXJdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKHNlbGVjdGVkQ2l0eSkgewogICAgICBkaXNwYXRjaChnZXREaXN0cmljdCh7CiAgICAgICAgY2l0eTogc2VsZWN0ZWRDaXR5CiAgICAgIH0pKTsKICAgIH0KICB9LCBbc2VsZWN0ZWRDaXR5XSk7CgogIHZhciBvblN1Ym1pdCA9IGZ1bmN0aW9uIG9uU3VibWl0KHZhbHVlcywgX3JlZikgewogICAgdmFyIHNldFN1Ym1pdHRpbmcgPSBfcmVmLnNldFN1Ym1pdHRpbmcsCiAgICAgICAgc2V0RXJyb3JzID0gX3JlZi5zZXRFcnJvcnMsCiAgICAgICAgc2V0U3RhdHVzID0gX3JlZi5zZXRTdGF0dXMsCiAgICAgICAgcmVzZXRGb3JtID0gX3JlZi5yZXNldEZvcm07CiAgICBkaXNwYXRjaChmZXRjaGluZygpKTsKICAgIHZhciBicmFuZENvZGUgPSAnJzsKICAgIHZhciB0eXBlQ29kZSA9ICcnOwoKICAgIGlmICh2YWx1ZXMuYnJhbmNoKSB7CiAgICAgIHZhciBmb3VuZGVkID0gaW5pdGlhbFN0YXRlLmJyYW5jaC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gdmFsdWVzLmJyYW5jaDsKICAgICAgfSk7CgogICAgICBpZiAoZm91bmRlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgYnJhbmRDb2RlID0gZm91bmRlZFswXS5jb2RlOwogICAgICB9CiAgICB9CgogICAgaWYgKHZhbHVlcy50eXBlKSB7CiAgICAgIHZhciBfZm91bmRlZCA9IGluaXRpYWxTdGF0ZS50eXBlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkID09PSB2YWx1ZXMudHlwZTsKICAgICAgfSk7CgogICAgICBpZiAoX2ZvdW5kZWQubGVuZ3RoID4gMCkgewogICAgICAgIHR5cGVDb2RlID0gX2ZvdW5kZWRbMF0uY29kZTsKICAgICAgfQogICAgfQoKICAgIGRlbGV0ZSB2YWx1ZXMuY29kZTsKICAgIGRpc3BhdGNoKHVwZGF0ZUN1c3RvbWVyKHZhbHVlcykpOwogICAgcmVzZXRGb3JtKCk7CiAgfTsKCiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmIChpbml0aWFsU3RhdGUudXBkYXRpbmdTdWNjZXNzKSB7CiAgICAgIHRvYXN0UmVmLmN1cnJlbnQuYWRkVG9hc3QoKTsKICAgICAgaGlzdG9yeS5nb0JhY2soKTsKICAgIH0KICB9LCBbaW5pdGlhbFN0YXRlLnVwZGF0aW5nU3VjY2Vzc10pOwogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQ2FyZCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9hc3RlciwgewogICAgcmVmOiB0b2FzdFJlZiwKICAgIG1lc3NhZ2U6ICJUXHUxRUExbyBtXHUxRURCaSBraFx4RTFjaCBoXHhFMG5nIHRoXHhFMG5oIGNceEY0bmciCiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkSGVhZGVyLCBudWxsLCAiQ2hcdTFFQzluaCBzXHUxRUVEYSBraFx4RTFjaCBoXHhFMG5nIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDYXJkQm9keSwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9ybWlrLCB7CiAgICBpbml0aWFsVmFsdWVzOiBpbml0VmFsdWVzIHx8IGluaXRpYWxWYWx1ZXMsCiAgICB2YWxpZGF0ZTogdmFsaWRhdGUodmFsaWRhdGlvblNjaGVtYSksCiAgICBlbmFibGVSZWluaXRpYWxpemU6IHRydWUsCiAgICBvblN1Ym1pdDogb25TdWJtaXQKICB9LCBmdW5jdGlvbiAoX3JlZjIpIHsKICAgIHZhciBfaW5pdGlhbFN0YXRlJGJyYW5jaCQsIF9pbml0aWFsU3RhdGUkdHlwZSQsIF92YWx1ZXMkY2l0eSwgX3ZhbHVlcyRjaXR5MiwgX3ZhbHVlcyRkaXN0cmljdCwgX3ZhbHVlcyRkaXN0cmljdDIsIF9SZWFjdCRjcmVhdGVFbGVtZW50OwoKICAgIHZhciB2YWx1ZXMgPSBfcmVmMi52YWx1ZXMsCiAgICAgICAgZXJyb3JzID0gX3JlZjIuZXJyb3JzLAogICAgICAgIHRvdWNoZWQgPSBfcmVmMi50b3VjaGVkLAogICAgICAgIHN0YXR1cyA9IF9yZWYyLnN0YXR1cywKICAgICAgICBkaXJ0eSA9IF9yZWYyLmRpcnR5LAogICAgICAgIGhhbmRsZUNoYW5nZSA9IF9yZWYyLmhhbmRsZUNoYW5nZSwKICAgICAgICBoYW5kbGVCbHVyID0gX3JlZjIuaGFuZGxlQmx1ciwKICAgICAgICBoYW5kbGVTdWJtaXQgPSBfcmVmMi5oYW5kbGVTdWJtaXQsCiAgICAgICAgc2V0RmllbGRWYWx1ZSA9IF9yZWYyLnNldEZpZWxkVmFsdWUsCiAgICAgICAgaXNTdWJtaXR0aW5nID0gX3JlZjIuaXNTdWJtaXR0aW5nLAogICAgICAgIGlzVmFsaWQgPSBfcmVmMi5pc1ZhbGlkLAogICAgICAgIGhhbmRsZVJlc2V0ID0gX3JlZjIuaGFuZGxlUmVzZXQsCiAgICAgICAgc2V0VG91Y2hlZCA9IF9yZWYyLnNldFRvdWNoZWQ7CiAgICBjb25zb2xlLmxvZyh2YWx1ZXMpOwogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtLCB7CiAgICAgIG9uU3VibWl0OiBoYW5kbGVTdWJtaXQsCiAgICAgIG5vVmFsaWRhdGU6IHRydWUsCiAgICAgIG5hbWU6ICJzaW1wbGVGb3JtIgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBsZzogIjYiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogImNvZGUiCiAgICB9LCAiTVx4RTMga2hceEUxY2ggaFx4RTBuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAiY29kZSIsCiAgICAgIGlkOiAiY29kZSIsCiAgICAgIHBsYWNlaG9sZGVyOiAiTVx4RTMga2hceEUxY2ggaFx4RTBuZyIsCiAgICAgIGRpc2FibGVkOiB0cnVlLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuY29kZSB8fCAiIi5jb25jYXQodmFsdWVzLmJyYW5jaCA/IHZhbHVlcy5icmFuY2ggOiAoX2luaXRpYWxTdGF0ZSRicmFuY2gkID0gaW5pdGlhbFN0YXRlLmJyYW5jaFswXSkgPT09IG51bGwgfHwgX2luaXRpYWxTdGF0ZSRicmFuY2gkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaW5pdGlhbFN0YXRlJGJyYW5jaCQuY29kZSwgIi0iKS5jb25jYXQodmFsdWVzLnR5cGUgPyB2YWx1ZXMudHlwZSA6IChfaW5pdGlhbFN0YXRlJHR5cGUkID0gaW5pdGlhbFN0YXRlLnR5cGVbMF0pID09PSBudWxsIHx8IF9pbml0aWFsU3RhdGUkdHlwZSQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pbml0aWFsU3RhdGUkdHlwZSQuY29kZSwgIi0iKS5jb25jYXQodmFsdWVzLm5hbWUucmVwbGFjZUFsbCgnICcsICcnKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcdTAzMDAtXHUwMzZmXS9nLCAnJykucmVwbGFjZSgvxJEvZywgJ2QnKS5yZXBsYWNlKC/EkC9nLCAnRCcpKQogICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogImxhc3ROYW1lIgogICAgfSwgIlRceEVBbiBjXHUxRUVEYSBoXHhFMG5nL1x1MDExMVx1MUVBMWkgbFx4RkQiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogIm5hbWUiLAogICAgICBpZDogIm5hbWUiLAogICAgICBwbGFjZWhvbGRlcjogIlRceEVBbiBjXHUxRUVEYSBoXHhFMG5nL1x1MDExMVx1MUVBMWkgbFx4RkQiLAogICAgICBhdXRvQ29tcGxldGU6ICJmYW1pbHktbmFtZSIsCiAgICAgIHZhbGlkOiBlcnJvcnMubmFtZSB8fCBudWxsLAogICAgICBpbnZhbGlkOiB0b3VjaGVkLm5hbWUgJiYgISFlcnJvcnMubmFtZSwKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIG9uQmx1cjogaGFuZGxlQmx1ciwKICAgICAgdmFsdWU6IHZhbHVlcy5uYW1lCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLm5hbWUpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJOZ1x1MDFCMFx1MUVERGkgbGlceEVBbiBsXHUxRUExYyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRleHQiLAogICAgICBuYW1lOiAiY29udGFjdE5hbWUiLAogICAgICBpZDogImNvbnRhY3ROYW1lIiwKICAgICAgcGxhY2Vob2xkZXI6ICJOZ1x1MDFCMFx1MUVERGkgbGlceEVBbiBsXHUxRUExYyIsCiAgICAgIGF1dG9Db21wbGV0ZTogImNvbnRhY3ROYW1lIiwKICAgICAgdmFsaWQ6IGVycm9ycy5jb250YWN0TmFtZSB8fCBudWxsLAogICAgICBpbnZhbGlkOiB0b3VjaGVkLmNvbnRhY3ROYW1lICYmICEhZXJyb3JzLmNvbnRhY3ROYW1lLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLmNvbnRhY3ROYW1lCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLmNvbnRhY3ROYW1lKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAidGVsIgogICAgfSwgIlNcdTFFRDEgXHUwMTExaVx1MUVDN24gdGhvXHUxRUExaSIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW5wdXQsIHsKICAgICAgdHlwZTogInRlbCIsCiAgICAgIG5hbWU6ICJ0ZWwiLAogICAgICBpZDogInRlbCIsCiAgICAgIHBsYWNlaG9sZGVyOiAiU1x1MUVEMSBcdTAxMTFpXHUxRUM3biB0aG9cdTFFQTFpIiwKICAgICAgYXV0b0NvbXBsZXRlOiAicGhvbmUiLAogICAgICB2YWxpZDogZXJyb3JzLnRlbCB8fCBudWxsLAogICAgICBpbnZhbGlkOiB0b3VjaGVkLnRlbCAmJiAhIWVycm9ycy50ZWwsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMudGVsCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLnRlbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIG51bGwsICJOZ1x4RTB5IHRoXHhFMW5nIG5cdTAxMDNtIHNpbmgiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJkYXRlIiwKICAgICAgaWQ6ICJkYXRlT2ZCaXJ0aCIsCiAgICAgIG5hbWU6ICJkYXRlT2ZCaXJ0aCIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHBsYWNlaG9sZGVyOiAiTmdceEUweSB0aFx4RTFuZyBuXHUwMTAzbSBzaW5oIgogICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogImVtYWlsIgogICAgfSwgIkVtYWlsIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAiZW1haWwiLAogICAgICBuYW1lOiAiZW1haWwiLAogICAgICBpZDogImVtYWlsIiwKICAgICAgcGxhY2Vob2xkZXI6ICJFbWFpbCIsCiAgICAgIGF1dG9Db21wbGV0ZTogImVtYWlsIiwKICAgICAgdmFsaWQ6IGVycm9ycy5lbWFpbCB8fCBudWxsLAogICAgICBpbnZhbGlkOiB0b3VjaGVkLmVtYWlsICYmICEhZXJyb3JzLmVtYWlsLAogICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuZW1haWwKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCBudWxsLCBlcnJvcnMuZW1haWwpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENDb2wsIHsKICAgICAgbGc6ICI2IgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ1JvdywgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBtZDogNgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJUXHUxRUM5bmggdGhceEUwbmgiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0LCB7CiAgICAgIG5hbWU6ICJjaXR5IiwKICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgICB2YXIgZm91bmRlZCA9IGluaXRpYWxTdGF0ZS5jaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jb2RlID09PSBlLnZhbHVlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZm91bmRlZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBzZXRGaWVsZFZhbHVlKCdjaXR5JywgZm91bmRlZFswXS5pZCk7CiAgICAgICAgICBzZXRTZWxlY3RlZENpdHkoZS52YWx1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICB2YWx1ZTogewogICAgICAgIHZhbHVlOiAoX3ZhbHVlcyRjaXR5ID0gdmFsdWVzLmNpdHkpID09PSBudWxsIHx8IF92YWx1ZXMkY2l0eSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRjaXR5LmNvZGUsCiAgICAgICAgbGFiZWw6IChfdmFsdWVzJGNpdHkyID0gdmFsdWVzLmNpdHkpID09PSBudWxsIHx8IF92YWx1ZXMkY2l0eTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92YWx1ZXMkY2l0eTIubmFtZQogICAgICB9LAogICAgICBwbGFjZWhvbGRlcjogIkNoXHUxRUNEbiB0aFx4RTBuaCBwaFx1MUVEMSIsCiAgICAgIG9wdGlvbnM6IGluaXRpYWxTdGF0ZS5jaXRpZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiBpdGVtLmNvZGUsCiAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lCiAgICAgICAgfTsKICAgICAgfSkKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuY2l0eSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0NvbCwgewogICAgICBtZDogNgogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJwYXNzd29yZCIKICAgIH0sICJRdVx1MUVBRG4gaHV5XHUxRUM3biIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3QsIHsKICAgICAgbmFtZTogImRpc3RyaWN0IiwKICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgICBzZXRGaWVsZFZhbHVlKCdkaXN0cmljdCcsIGUudmFsdWUpOwogICAgICB9LAogICAgICB2YWx1ZTogewogICAgICAgIHZhbHVlOiAoX3ZhbHVlcyRkaXN0cmljdCA9IHZhbHVlcy5kaXN0cmljdCkgPT09IG51bGwgfHwgX3ZhbHVlcyRkaXN0cmljdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZhbHVlcyRkaXN0cmljdC5jb2RlLAogICAgICAgIGxhYmVsOiAoX3ZhbHVlcyRkaXN0cmljdDIgPSB2YWx1ZXMuZGlzdHJpY3QpID09PSBudWxsIHx8IF92YWx1ZXMkZGlzdHJpY3QyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmFsdWVzJGRpc3RyaWN0Mi5uYW1lCiAgICAgIH0sCiAgICAgIHBsYWNlaG9sZGVyOiAiQ2hcdTFFQ0RuIFF1XHUxRUFEbiBodXlcdTFFQzduIiwKICAgICAgb3B0aW9uczogaW5pdGlhbFN0YXRlLmRpc3RyaWN0cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsCiAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lCiAgICAgICAgfTsKICAgICAgfSkKICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuZGlzdHJpY3RzKSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJ1c2VyTmFtZSIKICAgIH0sICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5IiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnB1dCwgewogICAgICB0eXBlOiAidGV4dCIsCiAgICAgIG5hbWU6ICJhZGRyZXNzIiwKICAgICAgaWQ6ICJhZGRyZXNzIiwKICAgICAgcGxhY2Vob2xkZXI6ICJcdTAxMTBcdTFFQ0JhIGNoXHUxRUM5IiwKICAgICAgYXV0b0NvbXBsZXRlOiAiYWRkcmVzcyIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHZhbGlkOiBlcnJvcnMuYWRkcmVzcyB8fCBudWxsLAogICAgICBvbkJsdXI6IGhhbmRsZUJsdXIsCiAgICAgIHZhbHVlOiB2YWx1ZXMuYWRkcmVzcwogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIG51bGwsIGVycm9ycy5hZGRyZXNzKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAiY29kZSIKICAgIH0sICJMb1x1MUVBMWkga2hceEUxY2ggaFx4RTBuZyIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDU2VsZWN0LCAoX1JlYWN0JGNyZWF0ZUVsZW1lbnQgPSB7CiAgICAgIGN1c3RvbTogdHJ1ZSwKICAgICAgbmFtZTogImNjbW9udGgiCiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNyZWF0ZUVsZW1lbnQsICJuYW1lIiwgInR5cGUiKSwgX2RlZmluZVByb3BlcnR5KF9SZWFjdCRjcmVhdGVFbGVtZW50LCAiaWQiLCAidHlwZSIpLCBfZGVmaW5lUHJvcGVydHkoX1JlYWN0JGNyZWF0ZUVsZW1lbnQsICJ2YWx1ZSIsIHZhbHVlcy50eXBlKSwgX2RlZmluZVByb3BlcnR5KF9SZWFjdCRjcmVhdGVFbGVtZW50LCAib25DaGFuZ2UiLCBoYW5kbGVDaGFuZ2UpLCBfUmVhY3QkY3JlYXRlRWxlbWVudCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgIGtleTogMCwKICAgICAgdmFsdWU6IG51bGwKICAgIH0sICJDaFx1MUVDRG4gbG9cdTFFQTFpIGtoXHhFMWNoIGhceEUwbmciKSwgaW5pdGlhbFN0YXRlLnR5cGUubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgib3B0aW9uIiwgewogICAgICAgIGtleTogaXRlbS5pZCwKICAgICAgICB2YWx1ZTogaXRlbS5pZAogICAgICB9LCBpdGVtLm5hbWUpOwogICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMudHlwZSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDRm9ybUdyb3VwLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDTGFiZWwsIHsKICAgICAgaHRtbEZvcjogImNvZGUiCiAgICB9LCAiVHJcdTFFQTFuZyB0aFx4RTFpIiksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTZWxlY3QsIHsKICAgICAgY3VzdG9tOiB0cnVlLAogICAgICBuYW1lOiAic3RhdHVzIiwKICAgICAgaWQ6ICJzdGF0dXMiLAogICAgICB2YWx1ZTogdmFsdWVzLnN0YXR1cywKICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZQogICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIsIHsKICAgICAga2V5OiAwLAogICAgICB2YWx1ZTogbnVsbAogICAgfSwgIkNoXHUxRUNEbiB0clx1MUVBMW5nIHRoXHhFMWkiKSwgaW5pdGlhbFN0YXRlLnN0YXR1cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgICAga2V5OiBpdGVtLmlkLAogICAgICAgIHZhbHVlOiBpdGVtLmlkCiAgICAgIH0sIGl0ZW0ubmFtZSk7CiAgICB9KSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIHsKICAgICAgY2xhc3NOYW1lOiAiZC1ibG9jayIKICAgIH0sIGVycm9ycy5icmFuY2gpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0Zvcm1Hcm91cCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0xhYmVsLCB7CiAgICAgIGh0bWxGb3I6ICJjb2RlIgogICAgfSwgIkNoaSBuaFx4RTFuaCIpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDU2VsZWN0LCB7CiAgICAgIGN1c3RvbTogdHJ1ZSwKICAgICAgbmFtZTogImJyYW5jaCIsCiAgICAgIGlkOiAiYnJhbmNoIiwKICAgICAgdmFsdWU6IHZhbHVlcy5icmFuY2gsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJvcHRpb24iLCB7CiAgICAgIGtleTogMCwKICAgICAgdmFsdWU6IG51bGwKICAgIH0sICJDaFx1MUVDRG4gY2hpIG5oXHhFMW5oIiksIGluaXRpYWxTdGF0ZS5icmFuY2gubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgib3B0aW9uIiwgewogICAgICAgIGtleTogaXRlbS5pZCwKICAgICAgICB2YWx1ZTogaXRlbS5pZAogICAgICB9LCBpdGVtLm5hbWUpOwogICAgfSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDSW52YWxpZEZlZWRiYWNrLCB7CiAgICAgIGNsYXNzTmFtZTogImQtYmxvY2siCiAgICB9LCBlcnJvcnMuYnJhbmNoKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAiY3JlYXRlZFllYXIiCiAgICB9LCAiTlx1MDEwM20gdGhceEUwbmggbFx1MUVBRHAiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgbmFtZTogImNyZWF0ZWRZZWFyIiwKICAgICAgaWQ6ICJjcmVhdGVkWWVhciIsCiAgICAgIHBsYWNlaG9sZGVyOiAiblx1MDEwM20gdGhceEUwbmggbFx1MUVBRHAiLAogICAgICBhdXRvQ29tcGxldGU6ICJjcmVhdGVkWWVhciIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHZhbGlkOiBlcnJvcnMuY3JlYXRlZFllYXIgfHwgbnVsbCwKICAgICAgb25CbHVyOiBoYW5kbGVCbHVyLAogICAgICB2YWx1ZTogdmFsdWVzLmNyZWF0ZWRZZWFyCiAgICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0ludmFsaWRGZWVkYmFjaywgbnVsbCwgZXJyb3JzLmNyZWF0ZWRZZWFyKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENMYWJlbCwgewogICAgICBodG1sRm9yOiAiZW1haWwiCiAgICB9LCAiTmdceEUweSB0aGFtIGdpYSBPYkNsdWIiKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ0lucHV0LCB7CiAgICAgIHR5cGU6ICJkYXRlIiwKICAgICAgaWQ6ICJvYmNsdWJKb2luVGltZSIsCiAgICAgIG5hbWU6ICJvYmNsdWJKb2luVGltZSIsCiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsCiAgICAgIHBsYWNlaG9sZGVyOiAiTmdceEUweSB0aFx4RTFuZyBuXHUwMTAzbSBzaW5oIgogICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJbnZhbGlkRmVlZGJhY2ssIG51bGwsIGVycm9ycy5vYmNsdWJKb2luVGltZSkpKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENGb3JtR3JvdXAsIHsKICAgICAgY2xhc3NOYW1lOiAiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIiCiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDQnV0dG9uLCB7CiAgICAgIHR5cGU6ICJzdWJtaXQiLAogICAgICBjb2xvcjogInByaW1hcnkiLAogICAgICBkaXNhYmxlZDogaW5pdGlhbFN0YXRlLmxvYWRpbmcKICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENJY29uLCB7CiAgICAgIG5hbWU6ICJjaWwtc2F2ZSIKICAgIH0pLCAiICIsIGluaXRpYWxTdGF0ZS5sb2FkaW5nID8gJ8SQYW5nIHjhu60gbMO9JyA6ICdMxrB1IHRoYXkgxJHhu5VpJykpKTsKICB9KSkpOwp9OwoKZXhwb3J0IGRlZmF1bHQgRWRpdEN1c3RvbWVyOw=="},{"version":3,"sources":["/Users/dmr/PrivateProject/Nodejs/MydicoCRM/frontend/src/views/pages/customer/CustomerList/EditCustomer.js"],"names":["React","useEffect","useRef","useState","CButton","CCard","CCardHeader","CCardBody","CCol","CForm","CInvalidFeedback","CFormGroup","CLabel","CInput","CRow","CSelect","CIcon","Formik","Yup","useDispatch","useSelector","creatingCustomer","getBranches","getCity","getCustomerStatus","getCustomerType","getDetailCustomer","getDistrict","updateCustomer","Toaster","useHistory","fetching","globalizedCustomerSelectors","Select","phoneRegExp","validationSchema","values","object","shape","contactName","string","min","required","name","tel","matches","city","nullable","type","branch","validate","getValidationSchema","validateSync","abortEarly","error","getErrorsFromValidationError","validationError","FIRST_ERROR","inner","reduce","errors","path","findFirstError","formName","hasError","form","document","forms","i","length","focus","validateForm","fieldName","Boolean","EditCustomer","props","state","customer","initialState","initialValues","code","email","dateOfBirth","district","address","status","createdYear","obclubJoinTime","toastRef","dispatch","history","selectedCity","setSelectedCity","initValues","setInitValues","selectById","match","params","id","temp","onSubmit","setSubmitting","setErrors","setStatus","resetForm","brandCode","typeCode","founded","filter","item","updatingSuccess","current","addToast","goBack","touched","dirty","handleChange","handleBlur","handleSubmit","setFieldValue","isSubmitting","isValid","handleReset","setTouched","console","log","replaceAll","normalize","replace","e","cities","value","label","map","districts","loading"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  CButton,\n  CCard,\n  CCardHeader,\n  CCardBody,\n  CCol,\n  CForm,\n  CInvalidFeedback,\n  CFormGroup,\n  CLabel,\n  CInput,\n  CRow,\n  CSelect\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  creatingCustomer,\n  getBranches,\n  getCity,\n  getCustomerStatus,\n  getCustomerType,\n  getDetailCustomer,\n  getDistrict,\n  updateCustomer\n} from '../customer.api';\nimport Toaster from '../../../components/notifications/toaster/Toaster';\nimport { useHistory } from 'react-router-dom';\nimport { fetching, globalizedCustomerSelectors } from '../customer.reducer';\nimport Select from 'react-select';\nconst phoneRegExp = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n\nconst validationSchema = function(values) {\n  return Yup.object().shape({\n    contactName: Yup.string()\n      .min(5, `Tên liên lạc phải lớn hơn 5 kí tự`)\n      .required('Tên liên lạc không để trống'),\n    name: Yup.string()\n      .min(5, `Tên phải lớn hơn 5 kí tự`)\n      .required('Tên không để trống'),\n    tel: Yup.string()\n      .matches(phoneRegExp, 'Số điện thoại không đúng')\n      .required('Số điện thoại không để trống'),\n    city: Yup.string()\n      .nullable(true)\n      .required('Thành phố không để trống'),\n    type: Yup.string()\n      .nullable(true)\n      .required('Loại khách hàng không để trống'),\n    branch: Yup.string()\n      .nullable(true)\n      .required('Chi nhánh không để trống')\n  });\n};\n\nconst validate = getValidationSchema => {\n  return values => {\n    const validationSchema = getValidationSchema(values);\n    try {\n      validationSchema.validateSync(values, { abortEarly: false });\n      return {};\n    } catch (error) {\n      return getErrorsFromValidationError(error);\n    }\n  };\n};\n\nconst getErrorsFromValidationError = validationError => {\n  const FIRST_ERROR = 0;\n  return validationError.inner.reduce((errors, error) => {\n    return {\n      ...errors,\n      [error.path]: error.errors[FIRST_ERROR]\n    };\n  }, {});\n};\n\nconst findFirstError = (formName, hasError) => {\n  const form = document.forms[formName];\n  for (let i = 0; i < form.length; i++) {\n    if (hasError(form[i].name)) {\n      form[i].focus();\n      break;\n    }\n  }\n};\n\nconst validateForm = errors => {\n  findFirstError('simpleForm', fieldName => {\n    return Boolean(errors[fieldName]);\n  });\n};\n\nconst EditCustomer = props => {\n  const { initialState } = useSelector(state => state.customer);\n  const initialValues = {\n    code: '',\n    name: '',\n    contactName: '',\n    email: '',\n    tel: '',\n    dateOfBirth: '',\n    city: null,\n    district: null,\n    address: '',\n    branch: null,\n    type: null,\n    status: null,\n    createdYear: '',\n    obclubJoinTime: ''\n  };\n  const toastRef = useRef();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [selectedCity, setSelectedCity] = useState(null);\n  const [initValues, setInitValues] = useState(null);\n  const { selectById } = globalizedCustomerSelectors;\n  const customer = useSelector(state => selectById(state, props.match.params.id));\n\n  useEffect(() => {\n    dispatch(getDetailCustomer(props.match.params.id));\n    dispatch(getCity());\n    dispatch(getCustomerType());\n    dispatch(getCustomerStatus());\n    dispatch(getBranches());\n  }, []);\n\n  useEffect(() => {\n    if (customer) {\n      const temp = { ...customer };\n      temp.city = temp.city;\n      temp.district = temp.district;\n      temp.branch = temp.branch.id;\n      temp.type = temp.type.id;\n      temp.status = temp.status?.id;\n      setInitValues(temp);\n    }\n  }, [customer]);\n\n  useEffect(() => {\n    if (selectedCity) {\n      dispatch(getDistrict({ city: selectedCity }));\n    }\n  }, [selectedCity]);\n\n  const onSubmit = (values, { setSubmitting, setErrors, setStatus, resetForm }) => {\n    dispatch(fetching());\n\n    let brandCode = '';\n    let typeCode = '';\n    if (values.branch) {\n      const founded = initialState.branch.filter(item => item.id === values.branch);\n      if (founded.length > 0) {\n        brandCode = founded[0].code;\n      }\n    }\n    if (values.type) {\n      const founded = initialState.type.filter(item => item.id === values.type);\n      if (founded.length > 0) {\n        typeCode = founded[0].code;\n      }\n    }\n    delete values.code;\n    dispatch(updateCustomer(values));\n    resetForm();\n  };\n\n  useEffect(() => {\n    if (initialState.updatingSuccess) {\n      toastRef.current.addToast();\n      history.goBack();\n    }\n  }, [initialState.updatingSuccess]);\n\n  return (\n    <CCard>\n      <Toaster ref={toastRef} message=\"Tạo mới khách hàng thành công\" />\n      <CCardHeader>Chỉnh sửa khách hàng</CCardHeader>\n      <CCardBody>\n        <Formik initialValues={initValues || initialValues} validate={validate(validationSchema)} enableReinitialize onSubmit={onSubmit}>\n          {({\n            values,\n            errors,\n            touched,\n            status,\n            dirty,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            setFieldValue,\n            isSubmitting,\n            isValid,\n            handleReset,\n            setTouched\n          }) => {\n            console.log(values)\n            return (\n              <CForm onSubmit={handleSubmit} noValidate name=\"simpleForm\">\n                <CRow>\n                  <CCol lg=\"6\">\n                    <CFormGroup>\n                      <CLabel htmlFor=\"code\">Mã khách hàng</CLabel>\n                      <CInput\n                        type=\"text\"\n                        name=\"code\"\n                        id=\"code\"\n                        placeholder=\"Mã khách hàng\"\n                        disabled\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={\n                          values.code ||\n                          `${values.branch ? values.branch : initialState.branch[0]?.code}-${\n                            values.type ? values.type : initialState.type[0]?.code\n                          }-${values.name\n                            .replaceAll(' ', '')\n                            .normalize('NFD')\n                            .replace(/[\\u0300-\\u036f]/g, '')\n                            .replace(/đ/g, 'd')\n                            .replace(/Đ/g, 'D')}`\n                        }\n                      />\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"lastName\">Tên cửa hàng/đại lý</CLabel>\n                      <CInput\n                        type=\"text\"\n                        name=\"name\"\n                        id=\"name\"\n                        placeholder=\"Tên cửa hàng/đại lý\"\n                        autoComplete=\"family-name\"\n                        valid={errors.name || null}\n                        invalid={touched.name && !!errors.name}\n                        required\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.name}\n                      />\n                      <CInvalidFeedback>{errors.name}</CInvalidFeedback>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"userName\">Người liên lạc</CLabel>\n                      <CInput\n                        type=\"text\"\n                        name=\"contactName\"\n                        id=\"contactName\"\n                        placeholder=\"Người liên lạc\"\n                        autoComplete=\"contactName\"\n                        valid={errors.contactName || null}\n                        invalid={touched.contactName && !!errors.contactName}\n                        required\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.contactName}\n                      />\n                      <CInvalidFeedback>{errors.contactName}</CInvalidFeedback>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"tel\">Số điện thoại</CLabel>\n                      <CInput\n                        type=\"tel\"\n                        name=\"tel\"\n                        id=\"tel\"\n                        placeholder=\"Số điện thoại\"\n                        autoComplete=\"phone\"\n                        valid={errors.tel || null}\n                        invalid={touched.tel && !!errors.tel}\n                        required\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.tel}\n                      />\n                      <CInvalidFeedback>{errors.tel}</CInvalidFeedback>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel>Ngày tháng năm sinh</CLabel>\n                      <CInput type=\"date\" id=\"dateOfBirth\" name=\"dateOfBirth\" onChange={handleChange} placeholder=\"Ngày tháng năm sinh\" />\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"email\">Email</CLabel>\n                      <CInput\n                        type=\"email\"\n                        name=\"email\"\n                        id=\"email\"\n                        placeholder=\"Email\"\n                        autoComplete=\"email\"\n                        valid={errors.email || null}\n                        invalid={touched.email && !!errors.email}\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        value={values.email}\n                      />\n                      <CInvalidFeedback>{errors.email}</CInvalidFeedback>\n                    </CFormGroup>\n                  </CCol>\n                  <CCol lg=\"6\">\n                    <CRow>\n                      <CCol md={6}>\n                        <CFormGroup>\n                          <CLabel htmlFor=\"password\">Tỉnh thành</CLabel>\n                          <Select\n                            name=\"city\"\n                            onChange={e => {\n                              const founded = initialState.cities.filter(item => item.code === e.value);\n                              if (founded.length > 0) {\n                                setFieldValue('city', founded[0].id);\n                                setSelectedCity(e.value);\n                              }\n                            }}\n                            value={{\n                              value: values.city?.code,\n                              label: values.city?.name\n                            }}\n                            placeholder=\"Chọn thành phố\"\n                            options={initialState.cities.map(item => ({\n                              value: item.code,\n                              label: item.name\n                            }))}\n                          />\n                          <CInvalidFeedback className=\"d-block\">{errors.city}</CInvalidFeedback>\n                        </CFormGroup>\n                      </CCol>\n                      <CCol md={6}>\n                        <CFormGroup>\n                          <CLabel htmlFor=\"password\">Quận huyện</CLabel>\n                          <Select\n                            name=\"district\"\n                            onChange={e => {\n                              setFieldValue('district', e.value);\n                            }}\n                            value={{\n                              value: values.district?.code,\n                              label: values.district?.name\n                            }}\n                            placeholder=\"Chọn Quận huyện\"\n                            options={initialState.districts.map(item => ({\n                              value: item.id,\n                              label: item.name\n                            }))}\n                          />\n                          <CInvalidFeedback className=\"d-block\">{errors.districts}</CInvalidFeedback>\n                        </CFormGroup>\n                      </CCol>\n                    </CRow>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"userName\">Địa chỉ</CLabel>\n                      <CInput\n                        type=\"text\"\n                        name=\"address\"\n                        id=\"address\"\n                        placeholder=\"Địa chỉ\"\n                        autoComplete=\"address\"\n                        onChange={handleChange}\n                        valid={errors.address || null}\n                        onBlur={handleBlur}\n                        value={values.address}\n                      />\n                      <CInvalidFeedback>{errors.address}</CInvalidFeedback>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"code\">Loại khách hàng</CLabel>\n                      <CSelect custom name=\"ccmonth\" name=\"type\" id=\"type\" value={values.type} onChange={handleChange}>\n                        <option key={0} value={null}>\n                          Chọn loại khách hàng\n                        </option>\n                        {initialState.type.map(item => (\n                          <option key={item.id} value={item.id}>\n                            {item.name}\n                          </option>\n                        ))}\n                      </CSelect>\n                      <CInvalidFeedback className=\"d-block\">{errors.type}</CInvalidFeedback>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"code\">Trạng thái</CLabel>\n                      <CSelect custom name=\"status\" id=\"status\" value={values.status} onChange={handleChange}>\n                        <option key={0} value={null}>\n                          Chọn trạng thái\n                        </option>\n                        {initialState.status.map(item => (\n                          <option key={item.id} value={item.id}>\n                            {item.name}\n                          </option>\n                        ))}\n                      </CSelect>\n                      <CInvalidFeedback className=\"d-block\">{errors.branch}</CInvalidFeedback>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"code\">Chi nhánh</CLabel>\n                      <CSelect custom name=\"branch\" id=\"branch\" value={values.branch} onChange={handleChange}>\n                        <option key={0} value={null}>\n                          Chọn chi nhánh\n                        </option>\n                        {initialState.branch.map(item => (\n                          <option key={item.id} value={item.id}>\n                            {item.name}\n                          </option>\n                        ))}\n                      </CSelect>\n                      <CInvalidFeedback className=\"d-block\">{errors.branch}</CInvalidFeedback>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"createdYear\">Năm thành lập</CLabel>\n                      <CInput\n                        type=\"text\"\n                        name=\"createdYear\"\n                        id=\"createdYear\"\n                        placeholder=\"năm thành lập\"\n                        autoComplete=\"createdYear\"\n                        onChange={handleChange}\n                        valid={errors.createdYear || null}\n                        onBlur={handleBlur}\n                        value={values.createdYear}\n                      />\n                      <CInvalidFeedback>{errors.createdYear}</CInvalidFeedback>\n                    </CFormGroup>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"email\">Ngày tham gia ObClub</CLabel>\n                      <CInput\n                        type=\"date\"\n                        id=\"obclubJoinTime\"\n                        name=\"obclubJoinTime\"\n                        onChange={handleChange}\n                        placeholder=\"Ngày tháng năm sinh\"\n                      />\n                      <CInvalidFeedback>{errors.obclubJoinTime}</CInvalidFeedback>\n                    </CFormGroup>\n                  </CCol>\n                </CRow>\n                <CFormGroup className=\"d-flex justify-content-center\">\n                  <CButton type=\"submit\" color=\"primary\" disabled={initialState.loading}>\n                    <CIcon name=\"cil-save\" /> {initialState.loading ? 'Đang xử lý' : 'Lưu thay đổi'}\n                  </CButton>\n                </CFormGroup>\n              </CForm>\n            );\n          }}\n        </Formik>\n      </CCardBody>\n    </CCard>\n  );\n};\n\nexport default EditCustomer;\n"]}]}